"use strict";$(".accordion__btn").click((function(){$(this).siblings(".accordion__text").slideToggle(200),$(this).toggleClass("opened")})),$(".forms__button-item--example .forms__btn").on("click",(function(){var e=$(this);e.addClass("loading"),e.attr("disabled","true"),setTimeout((function(){e.removeClass("loading"),e.addClass("success")}),2e3),setTimeout((function(){e.removeClass("success"),e.removeAttr("disabled")}),4e3)})),function(){var e=!1;$(".checkbox").mouseup((function(t){e=!0,$(this).find(".checkbox__input").removeClass("focused")})),$(".checkbox__input").focus((function(t){e||$(this).addClass("focused"),e=!1})),$(".checkbox__input").blur((function(e){$(this).removeClass("focused")}))}(),function(e){"function"==typeof define&&define.amd?define(["../widgets/datepicker"],e):e(jQuery.datepicker)}((function(e){return e.regional.ru={closeText:"Закрыть",prevText:"&#x3C;Пред",nextText:"След&#x3E;",currentText:"Сегодня",monthNames:["Январь","Февраль","Март","Апрель","Май","Июнь","Июль","Август","Сентябрь","Октябрь","Ноябрь","Декабрь"],monthNamesShort:["Янв","Фев","Мар","Апр","Май","Июн","Июл","Авг","Сен","Окт","Ноя","Дек"],dayNames:["воскресенье","понедельник","вторник","среда","четверг","пятница","суббота"],dayNamesShort:["вск","пнд","втр","срд","чтв","птн","сбт"],dayNamesMin:["Вс","Пн","Вт","Ср","Чт","Пт","Сб"],weekHeader:"Нед",dateFormat:"dd.mm.yy",firstDay:1,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},e.setDefaults(e.regional.ru),e.regional.ru})),$(".dropdown:not(.dropdown-opened").select2({minimumResultsForSearch:1/0,dropdownCssClass:["calendar-dropdown"]}),$(".dropdown-opened").select2({minimumResultsForSearch:1/0,dropdownCssClass:["calendar-dropdown","calendar-dropdown-permanent"]}).on("select2:closing",(function(e){e.preventDefault()})).on("select2:closed",(function(e){list.select2("open")})),$(".dropdown").on("select2:close",(function(){$(this).next().find(".select2-selection").blur()})),$(".dropdown + .select2 .select2-selection__rendered").attr("tabindex","-1"),$(".dropdown-opened").select2("open"),$(".hint-positions__tip-icon").on("click",(function(){$(this).next().addClass("show")})),$(".hint__close").on("click",(function(){var e=$(this).parent();e.hasClass("hint-permanent")||e.removeClass("show")})),function(){var e={minimumResultsForSearch:1/0,dropdownCssClass:"calendar-dropdown"};$(".input-date").datepicker({dateFormat:"dd.mm.yy",showOtherMonths:!0,regional:"ru",monthNamesShort:["Январь","Февраль","Март","Апрель","Май","Июнь","Июль","Август","Сентябрь","Октябрь","Ноябрь","Декабрь"],changeMonth:!0,changeYear:!0,yearRange:"1900:+10",beforeShow:function(){setTimeout((function(){$(".ui-datepicker-month").select2(e),$(".ui-datepicker-year").select2(e)}),0)},onChangeMonthYear:function(){setTimeout((function(){$(".ui-datepicker-month").select2(e),$(".ui-datepicker-year").select2(e)}),0)}}),$(".input-date-trigger").datepicker({dateFormat:"dd.mm.yy",showOtherMonths:!0,regional:"ru",monthNamesShort:["Январь","Февраль","Март","Апрель","Май","Июнь","Июль","Август","Сентябрь","Октябрь","Ноябрь","Декабрь"],changeMonth:!0,changeYear:!0,yearRange:"1900:+10",onChangeMonthYear:function(){setTimeout((function(){$(".ui-datepicker-month").select2(e),$(".ui-datepicker-year").select2(e)}),0)},onSelect:function(){setTimeout((function(){$(".ui-datepicker-month").select2(e),$(".ui-datepicker-year").select2(e)}),0)}}),$(".input-date-trigger-single").datepicker({dateFormat:"dd.mm.yy",showOtherMonths:!0,regional:"ru",monthNamesShort:["Январь","Февраль","Март","Апрель","Май","Июнь","Июль","Август","Сентябрь","Октябрь","Ноябрь","Декабрь"],changeMonth:!0,changeYear:!0,yearRange:"1900:+10",onChangeMonthYear:function(){setTimeout((function(){$(".ui-datepicker-month").select2(e),$(".ui-datepicker-year").select2(e)}),0)},onSelect:function(){setTimeout((function(){$(".ui-datepicker-month").select2(e),$(".ui-datepicker-year").select2(e)}),0)}}),$(".input-date-trigger-range").datepicker({range:"period",dateFormat:"dd.mm.yy",showOtherMonths:!0,regional:"ru",monthNamesShort:["Январь","Февраль","Март","Апрель","Май","Июнь","Июль","Август","Сентябрь","Октябрь","Ноябрь","Декабрь"],changeMonth:!0,changeYear:!0,yearRange:"1900:+10",onChangeMonthYear:function(){setTimeout((function(){$(".ui-datepicker-month").select2(e),$(".ui-datepicker-year").select2(e)}),0)},onSelect:function(t,n){console.log(n),setTimeout((function(){$(".input-date-trigger-range").find(".ui-datepicker-month").select2(e),$(".input-date-trigger-range").find(".ui-datepicker-year").select2(e)}),100)},beforeShow:function(e,t){console.log(t)}});var t=moment(),n=t.format("DD"),o=t.format("MM"),s=t.format("YYYY"),a="",i=[],r="";a="15"!==n?"15."+o+"."+s:"17."+o+"."+s,r="13"!==n?"13":"12",i=n>15?["02."+o+"."+s,"11."+o+"."+s]:["17."+o+"."+s,"26."+o+"."+s],$(".input-date-trigger").datepicker("setDate",a),$(".input-date-trigger-single").datepicker("setDate",a),$(".input-date-trigger-range").datepicker("setDate",i),$(".input-date-trigger-single .ui-datepicker-calendar td a").each((function(){$(this).text()===r&&$(this).addClass("hovered")})),$(".ui-datepicker-month").select2(e),$(".ui-datepicker-year").select2(e),$(".input-date").datepicker("refresh"),$(".input-date").inputmask("99.99.9999",{placeholder:"",showMaskOnHover:!1,showMaskOnFocus:!1,jitMasking:!0}),$(".input-date").on("focus",(function(e){var t=$(e.target);0===t.val().length&&t.parent().addClass("date-placeholder")})),$(".input-date").on("blur",(function(e){var t=$(e.target);t.val();t.parent().removeClass("date-placeholder")})),$(".input-date").on("input",(function(e){var t=$(e.target);t.val().length>0?t.parent().removeClass("date-placeholder"):t.parent().addClass("date-placeholder"),moment($(this).val(),"DD.MM.YYYY",!0).isValid()&&($(this).datepicker("hide"),$(this).datepicker("show"))})),$("#calendar-dropdown-month").select2({minimumResultsForSearch:1/0,dropdownCssClass:["calendar-dropdown","calendar-dropdown-permanent"],closeOnSelect:!1}).on("select2:closing",(function(e){e.preventDefault()})).on("select2:closed",(function(e){list.select2("open")})),$("#calendar-dropdown-month").select2("open"),$("#calendar-dropdown-year").select2({minimumResultsForSearch:1/0,dropdownCssClass:["calendar-dropdown","calendar-dropdown-permanent"],closeOnSelect:!1}).on("select2:closing",(function(e){e.preventDefault()})).on("select2:closed",(function(e){list.select2("open")})),$("#calendar-dropdown-year").select2("open")}(),$(".input-password-btn").on("click",(function(){var e=$(this),t=e.prev();e.toggleClass("shown"),e.hasClass("shown")?t.attr("type","text"):t.attr("type","password")})),$('.link[tabindex="-1"]').on("click",(function(e){e.preventDefault()})),function(){var e=$(".header__menu-btn"),t=$(".main-nav"),n=$(".blackout");e.on("click",(function(){t.toggleClass("js-opened"),n.toggleClass("js-show"),$(document).width()<=1199&&(t.hasClass("js-opened")?$("body").addClass("js__body-no-scroll"):$("body").removeClass("js__body-no-scroll"))})),n.on("click",(function(){t.removeClass("js-opened"),n.removeClass("js-show"),$("body").removeClass("js__body-no-scroll")})),$(window).on("resize",(function(){$(document).width()>1199&&(t.removeClass("js-opened"),n.removeClass("js-show"),$("body").removeClass("js__body-no-scroll"))}))}(),$(".input-phone").inputmask("+7(999) 999-99-99"),function(){$(".js-range-single-slider").ionRangeSlider({type:"single",grid:!1,hide_min_max:!0,extra_classes:"single-slider"}),$(".js-range-single-slider-default").ionRangeSlider({type:"single",grid:!1,hide_min_max:!0,hide_from_to:!0,extra_classes:"single-slider"}),$(".js-range-single-slider-hovered").ionRangeSlider({type:"single",grid:!1,hide_min_max:!0,hide_from_to:!0,extra_classes:"single-slider",onStart:function(e){e.slider.find(".irs-handle").addClass("hovered")}}),$(".js-range-single-slider-focused").ionRangeSlider({type:"single",grid:!1,hide_min_max:!0,hide_from_to:!0,extra_classes:"single-slider",onStart:function(e){e.slider.find(".irs-handle").addClass("focused")}}),$(".js-range-double-slider").ionRangeSlider({type:"double",grid:!1,hide_min_max:!0,hide_from_to:!0,extra_classes:"double-slider",onStart:function(e){var t=e.slider.parent(),n=t.siblings(".range__value--from"),o=t.siblings(".range__value--to");n.text(e.from),o.text(e.to)},onChange:function(e){var t=e.slider.parent(),n=t.siblings(".range__value--from"),o=t.siblings(".range__value--to");n.text(e.from),o.text(e.to)}}),$(".js-range-double-slider-hovered").ionRangeSlider({type:"double",grid:!1,hide_min_max:!0,hide_from_to:!0,extra_classes:"double-slider",onStart:function(e){e.slider.find(".irs-handle.to").addClass("hovered")}});var e=!1;$(".irs-line").on("mouseup",(function(){e=!0,$(this).parent().siblings(".irs-handle").removeClass("focused")})),$(".irs-line").on("mousedown",(function(){$(this).parent().siblings(".irs-handle").removeClass("focused")})),$(".irs-handle").on("mouseup",(function(){e=!0,$(this).removeClass("focused")})),$(".irs-handle").on("mousedown",(function(){e=!0,$(this).removeClass("focused")})),$(".irs-line").on("focus",(function(){e||$(this).parent().siblings(".irs-handle").addClass("focused"),e=!1})),$(".irs-line").on("blur",(function(){$(this).parent().siblings(".irs-handle").removeClass("focused")}))}(),function(){var e=document.querySelector(".scroll-to-top"),t=document.querySelector(".header");if(e){var n=function(){return t.getBoundingClientRect().height+50},o=window.pageYOffset>n(),s=function(){!e.classList.contains("active")&&e.classList.add("active")};o&&s(),document.addEventListener("scroll",(function(){!o&&window.pageYOffset>n()&&(s(),o=!0),o&&window.pageYOffset<n()&&(e.classList.contains("active")&&e.classList.remove("active"),o=!1)})),e.addEventListener("click",(function(e){e.preventDefault(),t.scrollIntoView({block:"start",behavior:"smooth"})}))}}(),function(){var e=!1;$(".switcher__label").mouseup((function(t){e=!0,$(this).removeClass("focused")})),$(".switcher__input").focus((function(t){e||$(this).parent().addClass("focused"),e=!1})),$(".switcher__input").blur((function(e){$(this).parent().removeClass("focused")})),$(".switcher-text__label").mouseup((function(t){e=!0,$(this).removeClass("focused")})),$(".switcher-text__input").focus((function(t){e||$(this).parent().addClass("focused"),e=!1})),$(".switcher-text__input").blur((function(e){$(this).parent().removeClass("focused")})),$(".switcher-icon__label").mouseup((function(t){e=!0,$(this).removeClass("focused")}))}(),$(".tabs__button").on("click",(function(){$(this).hasClass("active")||$(this).hasClass("disabled")||($(this).parents(".tabs").find(".tabs__button").removeClass("active"),$(this).addClass("active"))})),function(){var e=!1;$(".toggle").mouseup((function(t){e=!0,$(this).removeClass("focused")})),$(".toggle__input").focus((function(t){e||$(this).parent().addClass("focused"),e=!1})),$(".toggle__input").blur((function(e){$(this).parent().removeClass("focused")}))}(),function(){var e=document.querySelectorAll(".upload");if(e[0]){var t=function(e){if(e.files&&e.files[0]){var t=new FileReader;t.onloadstart=function(t){!function(e){i(e).addClass("loader")}(e),function(e){i(e).find(".upload__name").text(e.files[0].name)}(e),function(e){i(e).addClass("show")}(e)},t.onprogress=function(e){},t.onload=function(t){if(function(e){i(e).removeClass("loader")}(e),function(e){$(e).parent().addClass("hidden")}(e),$(e).parents(".upload").hasClass("multi")){$(".upload__input-wrap .upload__label").length;var n=i(e),o=n.parent(),s=n.clone(!0,!0);s.removeClass("show"),o.prepend(s),n.parents(".upload__input-results").find(".upload__result").each((function(e,t){$(this).attr("data-result",e)}));var a=$(e).parent().parent(),r=$(e).parent(),l=r.clone(!0,!0);l.removeClass("hidden"),a.prepend(l),r.parents(".upload__input-wrap").find(".upload__label").each((function(e,t){$(this).attr("data-input",e),$(this).children("input").attr("name","file-"+e)})),c(l,s)}},t.readAsDataURL(e.files[0])}},n=function(e){t(e.currentTarget),console.log(e.currentTarget)};e.forEach((function(e){var t=$(e).find(".upload__label"),n=$(e).find(".upload__result");$(e).hasClass("disabled")||c(t,n)}))}function o(e){e.preventDefault(),e.stopPropagation()}function s(e){e.currentTarget.classList.add("highlight")}function a(e){e.currentTarget.classList.remove("highlight")}function i(e){var t=$(e).parent().attr("data-input");return $(e).parents(".upload").find("[data-result='"+t+"']")}function r(e){var n=e.dataTransfer.files,o=e.currentTarget.querySelector("input");o.files&&o.files[0]&&(o.value="",/safari/i.test(navigator.userAgent)||(o.type="",o.type="file")),o.files=n,function(e){t(e)}(o)}function l(e){var t,n,o=$(e.currentTarget),s=o.parents(".upload__result"),a=s.attr("data-result"),i=s.parents(".upload").find("[data-input='"+a+"']"),r=i.children("input")[0];o.parents(".upload").hasClass("multi")?(n=a,(t=s).parents(".upload").find(".upload__label").each((function(e,t){if(e>n){var o=e-1;$(this).attr("data-input",o),$(this).children("input").attr("name","file-"+o)}else $(this).attr("data-input",e),$(this).children("input").attr("name","file-"+e)})),t.parents(".upload").find(".upload__result").each((function(e,t){e>n?$(this).attr("data-result",e-1):$(this).attr("data-result",e)})),s.remove(),i.remove()):(r.value="",/safari/i.test(navigator.userAgent)||(r.type="",r.type="file"),i.removeClass("hidden"),s.removeClass("show"))}function c(e,t){var i=e.children("input")[0],c=e[0],d=t.find(".upload__close")[0];["dragenter","dragover","dragleave","drop"].forEach((function(e){c.addEventListener(e,o,!1)})),["dragenter","dragover"].forEach((function(e){c.addEventListener(e,s,!1)})),["dragleave","drop"].forEach((function(e){c.addEventListener(e,a,!1)})),c.addEventListener("drop",r,!1),i.addEventListener("change",n),d.addEventListener("click",l)}}(),function(){$("<div/>",{class:"preloader"}).css({position:"fixed",top:"0",left:"0",width:"100vw",height:"100vh","background-color":"#fff","z-index":"3000"}).appendTo("html");var e=function(e){e.target.value.length>0?$(e.target).addClass("inputed"):$(e.target).removeClass("inputed")};$(document).ready((function(){$(".js-select-combo").select2({placeholder:"Введите или выберите вариант",dropdownCssClass:"select-dropdown",language:{noResults:function(){return"Ничего не найдено"},searching:function(){return"Загрузка..."}}}),$(".js-select-combo").on("select2:open",(function(){$(".select2-search input").off("input",e),$(".select2-search input").on("input",e)})),$(".js-select-combo").on("select2:closing",(function(){$(".select2-search input").removeClass("inputed")})),$(".js-select-combo-open").select2({placeholder:"Введите или выберите вариант",dropdownCssClass:["select-dropdown","select-dropdown-multi","select-dropdown--opened"],language:{noResults:function(){return"Ничего не найдено"},searching:function(){return"Загрузка..."}}}).on("select2:closing",(function(e){e.preventDefault()})).on("select2:closed",(function(e){n.select2("open")})),$(".js-select-combo-open").select2("open"),$(".select-dropdown-multi input").on("input",e),$(".js-select-combo-searching").select2({placeholder:"Введите или выберите вариант",dropdownCssClass:["select-dropdown","select-dropdown--opened","select-dropdown--searching"],language:{noResults:function(){return"Ничего не найдено"},searching:function(){return"Загрузка..."}},ajax:{delay:5e8,url:"https://antibreez.github.io/select-data/select-data.json"}}).on("select2:closing",(function(e){e.preventDefault()})).on("select2:closed",(function(e){n.select2("open")}));var t=new Event("input",{bubbles:!0,cancelable:!0});$(".js-select-combo-searching").select2("open"),setTimeout((function(){$(".select-dropdown--searching input")[0]&&$(".select-dropdown--searching input")[0].dispatchEvent(t)}),500),$(".js-select-combo-not-found").select2({dropdownCssClass:["select-dropdown","select-dropdown--opened","select-dropdown--not-found"],language:{noResults:function(){return"Ничего не найдено"},searching:function(){return"Загрузка..."}}}).on("select2:closing",(function(e){e.preventDefault()})).on("select2:closed",(function(e){n.select2("open")})),$(".js-select-combo-not-found").select2("open"),$(".select-dropdown--not-found input").val("фывапа"),$(".select-dropdown--not-found input")[0]&&$(".select-dropdown--not-found input")[0].dispatchEvent(t),$(".js-select-single").select2({placeholder:"Выберите вариант",minimumResultsForSearch:1/0,dropdownCssClass:["select-dropdown","select-dropdown--single"]});var n=$(".js-select-single-open").select2({placeholder:"Выберите вариант",minimumResultsForSearch:1/0,dropdownCssClass:["select-dropdown","select-dropdown--single","select-dropdown--opened"],closeOnSelect:!1}).on("select2:closing",(function(e){e.preventDefault()})).on("select2:closed",(function(e){n.select2("open")}));n.select2("open"),$(".js-select-multi").select2({placeholder:"Выберите варианты",dropdownCssClass:["select-dropdown","select-dropdown-multi"],language:{noResults:function(){return"Ничего не найдено"},searching:function(){return"Загрузка..."}}}),$(".js-select-multi").on("select2:open",(function(){$(".select2-search input").off("input",e),$(".select2-search input").on("input",e)})),$(".js-select-multi").on("select2:closing",(function(){$(".select2-search input").removeClass("inputed")})),$(".js-select-multi-open").select2({placeholder:"Выберите варианты",maximumSelectionLength:3,dropdownCssClass:["select-dropdown","select-dropdown--opened","select-dropdown-multi"],language:{noResults:function(){return"Ничего не найдено"},searching:function(){return"Загрузка..."},maximumSelected:function(e){return"Макс. количество вариантов - "+e.maximum}}}).on("select2:closing",(function(e){e.preventDefault()})).on("select2:closed",(function(e){n.select2("open")})),$(".js-select-multi-open").select2("open"),$(".js-select-multi-searching").select2({placeholder:"Выберите варианты",dropdownCssClass:["select-dropdown","select-dropdown--opened","select-dropdown--searching-multi"],language:{noResults:function(){return"Ничего не найдено"},searching:function(){return"Загрузка..."}},ajax:{delay:5e8,url:"https://antibreez.github.io/select-data/select-data.json"}}).on("select2:closing",(function(e){e.preventDefault()})).on("select2:closed",(function(e){n.select2("open")}));t=new Event("input",{bubbles:!0,cancelable:!0});$(".js-select-multi-searching").select2("open"),setTimeout((function(){$(".select-dropdown--searching-multi  input")[0]&&$(".select-dropdown--searching-multi  input")[0].dispatchEvent(t)}),500),$(".js-select-multi-not-found").select2({dropdownCssClass:["select-dropdown","select-dropdown--opened","select-dropdown--not-found-multi"],language:{noResults:function(){return"Ничего не найдено"},searching:function(){return"Загрузка..."}}}).on("select2:closing",(function(e){e.preventDefault()})).on("select2:closed",(function(e){n.select2("open")})),$(".js-select-multi-not-found").select2("open"),$(".select-dropdown--not-found-multi input").val("фывапа"),$(".select-dropdown--not-found-multi input")[0]&&$(".select-dropdown--not-found-multi input")[0].dispatchEvent(t)})),"Формы"==$(".main-nav__link--active").text()?setTimeout((function(){window.scrollTo(0,0),$(".preloader").hide()}),1e3):$(".preloader").hide()}(),$(".table--payment .checkbox__input").change((function(){$(this).parents("tr").toggleClass("checked")}));
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNjcmlwdC5qcyIsImFjY29yZGlvbi5qcyIsImJ1dHRvbi5qcyIsImNoZWNrYm94LmpzIiwiZGF0ZXBpY2tlci1ydS5qcyIsImRyb3Bkb3duLmpzIiwiaGludC5qcyIsImlucHV0LWRhdGUuanMiLCJpbnB1dC5qcyIsImxpbmsuanMiLCJtZW51LmpzIiwicGhvbmUtbWFzay5qcyIsInJhbmdlLmpzIiwic2Nyb2xsLmpzIiwic3dpdGNoZXIuanMiLCJ0YWJzLmpzIiwidG9nZ2xlLmpzIiwidXBsb2FkLmpzIiwiZm9ybXMuanMiLCJ0YWJsZS1wYXltZW50LmpzIl0sIm5hbWVzIjpbIiQiLCJjbGljayIsInRoaXMiLCJzaWJsaW5ncyIsInNsaWRlVG9nZ2xlIiwidG9nZ2xlQ2xhc3MiLCJvbiIsIiRidG4iLCJhZGRDbGFzcyIsImF0dHIiLCJzZXRUaW1lb3V0IiwicmVtb3ZlQ2xhc3MiLCJyZW1vdmVBdHRyIiwibW91c2V1cCIsImUiLCJmaW5kIiwiZm9jdXMiLCJibHVyIiwiZmFjdG9yeSIsImRlZmluZSIsImFtZCIsImpRdWVyeSIsImRhdGVwaWNrZXIiLCJyZWdpb25hbCIsInJ1IiwiY2xvc2VUZXh0IiwicHJldlRleHQiLCJuZXh0VGV4dCIsImN1cnJlbnRUZXh0IiwibW9udGhOYW1lcyIsIm1vbnRoTmFtZXNTaG9ydCIsImRheU5hbWVzIiwiZGF5TmFtZXNTaG9ydCIsImRheU5hbWVzTWluIiwid2Vla0hlYWRlciIsImRhdGVGb3JtYXQiLCJmaXJzdERheSIsImlzUlRMIiwic2hvd01vbnRoQWZ0ZXJZZWFyIiwieWVhclN1ZmZpeCIsInNldERlZmF1bHRzIiwic2VsZWN0MiIsIm1pbmltdW1SZXN1bHRzRm9yU2VhcmNoIiwiSW5maW5pdHkiLCJkcm9wZG93bkNzc0NsYXNzIiwicHJldmVudERlZmF1bHQiLCJsaXN0IiwibmV4dCIsImhpbnQiLCJwYXJlbnQiLCJoYXNDbGFzcyIsInNlbGVjdE9wdCIsInNob3dPdGhlck1vbnRocyIsImNoYW5nZU1vbnRoIiwiY2hhbmdlWWVhciIsInllYXJSYW5nZSIsImJlZm9yZVNob3ciLCJvbkNoYW5nZU1vbnRoWWVhciIsIm9uU2VsZWN0IiwicmFuZ2UiLCJpbnB1dCIsImluc3QiLCJjb25zb2xlIiwibG9nIiwiY3VycmVudCIsIm1vbWVudCIsImRheSIsImZvcm1hdCIsIm1vbnRoIiwieWVhciIsInBpY2tlZERhdGUiLCJwaWNrZWRQZXJpb2QiLCJob3ZlckRhdGUiLCJlYWNoIiwidGV4dCIsImlucHV0bWFzayIsInBsYWNlaG9sZGVyIiwic2hvd01hc2tPbkhvdmVyIiwic2hvd01hc2tPbkZvY3VzIiwiaml0TWFza2luZyIsInRhcmdldCIsInZhbCIsImxlbmd0aCIsImlzVmFsaWQiLCJjbG9zZU9uU2VsZWN0IiwiJGlucHV0IiwicHJldiIsIiRuYXYiLCIkYmxhY2tvdXQiLCJkb2N1bWVudCIsIndpZHRoIiwid2luZG93IiwiaW9uUmFuZ2VTbGlkZXIiLCJ0eXBlIiwiZ3JpZCIsImhpZGVfbWluX21heCIsImV4dHJhX2NsYXNzZXMiLCJoaWRlX2Zyb21fdG8iLCJvblN0YXJ0IiwiZGF0YSIsInNsaWRlciIsImlucHV0QmxvY2siLCJmcm9tIiwidG8iLCJvbkNoYW5nZSIsInNjcm9sbEJ0biIsInF1ZXJ5U2VsZWN0b3IiLCJoZWFkZXIiLCJnZXRIZWFkZXJIZWlnaHQiLCJnZXRCb3VuZGluZ0NsaWVudFJlY3QiLCJoZWlnaHQiLCJpc1Njcm9sbGVkIiwicGFnZVlPZmZzZXQiLCJzaG93QnRuIiwiY2xhc3NMaXN0IiwiY29udGFpbnMiLCJhZGQiLCJhZGRFdmVudExpc3RlbmVyIiwicmVtb3ZlIiwic2Nyb2xsSW50b1ZpZXciLCJibG9jayIsImJlaGF2aW9yIiwicGFyZW50cyIsInVwbG9hZHMiLCJxdWVyeVNlbGVjdG9yQWxsIiwicmVhZFVybCIsImZpbGVzIiwicmVhZGVyIiwiRmlsZVJlYWRlciIsIm9ubG9hZHN0YXJ0IiwiZ2V0UmVzdWx0QmxvY2siLCJhZGRMb2FkZXIiLCJuYW1lIiwiZmlsbFJlc3VsdCIsInNob3dSZXN1bHQiLCJvbnByb2dyZXNzIiwib25sb2FkIiwicmVtb3ZlTG9hZGVyIiwiaGlkZUxhYmVsIiwiJHJlc3VsdCIsIiRyZXN1bHRXcmFwIiwiJG5ld1Jlc3VsdCIsImNsb25lIiwicHJlcGVuZCIsImlkIiwiZWxlbWVudCIsIiRsYWJlbFdyYXAiLCIkbGFiZWwiLCIkbmV3TGFiZWwiLCJjaGlsZHJlbiIsImFkZEV2ZW50TGlzdGVuZXJzIiwicmVhZEFzRGF0YVVSTCIsIm9uRmlsZUNoYW5nZSIsImN1cnJlbnRUYXJnZXQiLCJmb3JFYWNoIiwidXBsb2FkIiwiJGlucHV0TGFiZWwiLCJwcmV2ZW50RGVmYXVsdHMiLCJzdG9wUHJvcGFnYXRpb24iLCJoaWdobGlnaHQiLCJ1bmhpZ2hsaWdodCIsIiRpZHgiLCJoYW5kbGVEcm9wIiwiZGF0YVRyYW5zZmVyIiwidmFsdWUiLCJ0ZXN0IiwibmF2aWdhdG9yIiwidXNlckFnZW50Iiwib25GaWxlRHJvcCIsIm9uRmlsZUNsZWFyIiwicmVzdWx0IiwiaWR4IiwiJHRhcmdldCIsIm5ld0lkIiwiaW5wdXRMYWJlbCIsImZpbGVDbGVhckJ0biIsImV2ZW50TmFtZSIsImNsYXNzIiwiY3NzIiwicG9zaXRpb24iLCJ0b3AiLCJsZWZ0IiwiYmFja2dyb3VuZC1jb2xvciIsInotaW5kZXgiLCJhcHBlbmRUbyIsImNoZWNrSW5wdXQiLCJyZWFkeSIsImxhbmd1YWdlIiwibm9SZXN1bHRzIiwic2VhcmNoaW5nIiwib2ZmIiwiYWpheCIsImRlbGF5IiwidXJsIiwiZXZlbnQiLCJFdmVudCIsImJ1YmJsZXMiLCJjYW5jZWxhYmxlIiwiZGlzcGF0Y2hFdmVudCIsIm1heGltdW1TZWxlY3Rpb25MZW5ndGgiLCJtYXhpbXVtU2VsZWN0ZWQiLCJtYXhpbXVtIiwic2Nyb2xsVG8iLCJoaWRlIiwiY2hhbmdlIl0sIm1hcHBpbmdzIjoiQUFBQSxhQ0NBQSxFQUFBLG1CQUFBQyxPQUFBLFdBQ0FELEVBQUFFLE1BQUFDLFNBQUEsb0JBQUFDLFlBQUEsS0FDQUosRUFBQUUsTUFB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QUFBc00sY0FBQUosS0FFQSxLQVVBbE0sRUFBQSw4QkFBQXlDLFFBQUEsQ0FFQUcsaUJBQUEsQ0FDQSxrQkFDQSwwQkFDQSxvQ0FFQStJLFNBQUEsQ0FDQUMsVUFBQSxXQUNBLE1BQUEscUJBRUFDLFVBQUEsV0FDQSxNQUFBLGtCQUlBdkwsR0FBQSxtQkFBQSxTQUFBUSxHQUNBQSxFQUFBK0Isb0JBQ0F2QyxHQUFBLGtCQUFBLFNBQUFRLEdBQ0FnQyxFQUFBTCxRQUFBLFdBR0F6QyxFQUFBLDhCQUFBeUMsUUFBQSxRQUNBekMsRUFBQSwyQ0FBQWlGLElBQUEsVUFFQWpGLEVBQUEsMkNBQUEsSUFDQUEsRUFBQSwyQ0FBQSxHQUFBc00sY0FBQUosTUFRQSxTQUFBbE0sRUFBQSwyQkFBQTBFLE9BQ0FoRSxZQUFBLFdBQ0FpRixPQUFBK0csU0FBQSxFQUFBLEdBQ0ExTSxFQUFBLGNBQUEyTSxTQUNBLEtBRUEzTSxFQUFBLGNBQUEyTSxPQTNWQSxHQ0NBM00sRUFBQSxvQ0FFQTRNLFFBQUEsV0FDQTVNLEVBQUFFLE1BQUF3SCxRQUFBLE1BQ0FySCxZQUFBIiwiZmlsZSI6InNjcmlwdC5taW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcblxuKGZ1bmN0aW9uICgpIHtcbiAgJCgnLmFjY29yZGlvbl9fYnRuJykuY2xpY2soZnVuY3Rpb24gKCkge1xuICAgICQodGhpcykuc2libGluZ3MoJy5hY2NvcmRpb25fX3RleHQnKS5zbGlkZVRvZ2dsZSgyMDApO1xuICAgICQodGhpcykudG9nZ2xlQ2xhc3MoJ29wZW5lZCcpO1xuICB9KTtcbn0pKCk7XG5cbihmdW5jdGlvbiAoKSB7XG4gIHZhciAkYnRuID0gJCgnLmZvcm1zX19idXR0b24taXRlbS0tZXhhbXBsZSAuZm9ybXNfX2J0bicpO1xuICAkYnRuLm9uKCdjbGljaycsIGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgJGJ0biA9ICQodGhpcyk7XG4gICAgJGJ0bi5hZGRDbGFzcygnbG9hZGluZycpO1xuICAgICRidG4uYXR0cignZGlzYWJsZWQnLCAndHJ1ZScpO1xuICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgJGJ0bi5yZW1vdmVDbGFzcygnbG9hZGluZycpO1xuICAgICAgJGJ0bi5hZGRDbGFzcygnc3VjY2VzcycpO1xuICAgIH0sIDIwMDApO1xuICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgJGJ0bi5yZW1vdmVDbGFzcygnc3VjY2VzcycpO1xuICAgICAgJGJ0bi5yZW1vdmVBdHRyKCdkaXNhYmxlZCcpO1xuICAgIH0sIDQwMDApO1xuICB9KTtcbn0pKCk7XG5cbihmdW5jdGlvbiAoKSB7XG4gIHZhciBtb3VzZXVwID0gZmFsc2U7XG4gICQoJy5jaGVja2JveCcpLm1vdXNldXAoZnVuY3Rpb24gKGUpIHtcbiAgICBtb3VzZXVwID0gdHJ1ZTtcbiAgICAkKHRoaXMpLmZpbmQoJy5jaGVja2JveF9faW5wdXQnKS5yZW1vdmVDbGFzcygnZm9jdXNlZCcpO1xuICB9KTtcbiAgJCgnLmNoZWNrYm94X19pbnB1dCcpLmZvY3VzKGZ1bmN0aW9uIChlKSB7XG4gICAgaWYgKCFtb3VzZXVwKSB7XG4gICAgICAkKHRoaXMpLmFkZENsYXNzKCdmb2N1c2VkJyk7XG4gICAgfVxuXG4gICAgbW91c2V1cCA9IGZhbHNlO1xuICB9KTtcbiAgJCgnLmNoZWNrYm94X19pbnB1dCcpLmJsdXIoZnVuY3Rpb24gKGUpIHtcbiAgICAkKHRoaXMpLnJlbW92ZUNsYXNzKCdmb2N1c2VkJyk7XG4gIH0pO1xufSkoKTtcbi8qIFJ1c3NpYW4gKFVURi04KSBpbml0aWFsaXNhdGlvbiBmb3IgdGhlIGpRdWVyeSBVSSBkYXRlIHBpY2tlciBwbHVnaW4uICovXG5cbi8qIFdyaXR0ZW4gYnkgQW5kcmV3IFN0cm9tbm92IChzdHJvbW5vdkBnbWFpbC5jb20pLiAqL1xuXG5cbihmdW5jdGlvbiAoZmFjdG9yeSkge1xuICBpZiAodHlwZW9mIGRlZmluZSA9PT0gXCJmdW5jdGlvblwiICYmIGRlZmluZS5hbWQpIHtcbiAgICAvLyBBTUQuIFJlZ2lzdGVyIGFzIGFuIGFub255bW91cyBtb2R1bGUuXG4gICAgZGVmaW5lKFtcIi4uL3dpZGdldHMvZGF0ZXBpY2tlclwiXSwgZmFjdG9yeSk7XG4gIH0gZWxzZSB7XG4gICAgLy8gQnJvd3NlciBnbG9iYWxzXG4gICAgZmFjdG9yeShqUXVlcnkuZGF0ZXBpY2tlcik7XG4gIH1cbn0pKGZ1bmN0aW9uIChkYXRlcGlja2VyKSB7XG4gIGRhdGVwaWNrZXIucmVnaW9uYWwucnUgPSB7XG4gICAgY2xvc2VUZXh0OiBcItCX0LDQutGA0YvRgtGMXCIsXG4gICAgcHJldlRleHQ6IFwiJiN4M0M70J/RgNC10LRcIixcbiAgICBuZXh0VGV4dDogXCLQodC70LXQtCYjeDNFO1wiLFxuICAgIGN1cnJlbnRUZXh0OiBcItCh0LXQs9C+0LTQvdGPXCIsXG4gICAgbW9udGhOYW1lczogW1wi0K/QvdCy0LDRgNGMXCIsIFwi0KTQtdCy0YDQsNC70YxcIiwgXCLQnNCw0YDRglwiLCBcItCQ0L/RgNC10LvRjFwiLCBcItCc0LDQuVwiLCBcItCY0Y7QvdGMXCIsIFwi0JjRjtC70YxcIiwgXCLQkNCy0LPRg9GB0YJcIiwgXCLQodC10L3RgtGP0LHRgNGMXCIsIFwi0J7QutGC0Y/QsdGA0YxcIiwgXCLQndC+0Y/QsdGA0YxcIiwgXCLQlNC10LrQsNCx0YDRjFwiXSxcbiAgICBtb250aE5hbWVzU2hvcnQ6IFtcItCv0L3QslwiLCBcItCk0LXQslwiLCBcItCc0LDRgFwiLCBcItCQ0L/RgFwiLCBcItCc0LDQuVwiLCBcItCY0Y7QvVwiLCBcItCY0Y7Qu1wiLCBcItCQ0LLQs1wiLCBcItCh0LXQvVwiLCBcItCe0LrRglwiLCBcItCd0L7Rj1wiLCBcItCU0LXQulwiXSxcbiAgICBkYXlOYW1lczogW1wi0LLQvtGB0LrRgNC10YHQtdC90YzQtVwiLCBcItC/0L7QvdC10LTQtdC70YzQvdC40LpcIiwgXCLQstGC0L7RgNC90LjQulwiLCBcItGB0YDQtdC00LBcIiwgXCLRh9C10YLQstC10YDQs1wiLCBcItC/0Y/RgtC90LjRhtCwXCIsIFwi0YHRg9Cx0LHQvtGC0LBcIl0sXG4gICAgZGF5TmFtZXNTaG9ydDogW1wi0LLRgdC6XCIsIFwi0L/QvdC0XCIsIFwi0LLRgtGAXCIsIFwi0YHRgNC0XCIsIFwi0YfRgtCyXCIsIFwi0L/RgtC9XCIsIFwi0YHQsdGCXCJdLFxuICAgIGRheU5hbWVzTWluOiBbXCLQktGBXCIsIFwi0J/QvVwiLCBcItCS0YJcIiwgXCLQodGAXCIsIFwi0KfRglwiLCBcItCf0YJcIiwgXCLQodCxXCJdLFxuICAgIHdlZWtIZWFkZXI6IFwi0J3QtdC0XCIsXG4gICAgZGF0ZUZvcm1hdDogXCJkZC5tbS55eVwiLFxuICAgIGZpcnN0RGF5OiAxLFxuICAgIGlzUlRMOiBmYWxzZSxcbiAgICBzaG93TW9udGhBZnRlclllYXI6IGZhbHNlLFxuICAgIHllYXJTdWZmaXg6IFwiXCJcbiAgfTtcbiAgZGF0ZXBpY2tlci5zZXREZWZhdWx0cyhkYXRlcGlja2VyLnJlZ2lvbmFsLnJ1KTtcbiAgcmV0dXJuIGRhdGVwaWNrZXIucmVnaW9uYWwucnU7XG59KTtcblxuKGZ1bmN0aW9uICgpIHtcbiAgJCgnLmRyb3Bkb3duOm5vdCguZHJvcGRvd24tb3BlbmVkJykuc2VsZWN0Mih7XG4gICAgbWluaW11bVJlc3VsdHNGb3JTZWFyY2g6IEluZmluaXR5LFxuICAgIGRyb3Bkb3duQ3NzQ2xhc3M6IFsnY2FsZW5kYXItZHJvcGRvd24nXVxuICB9KTtcbiAgJCgnLmRyb3Bkb3duLW9wZW5lZCcpLnNlbGVjdDIoe1xuICAgIG1pbmltdW1SZXN1bHRzRm9yU2VhcmNoOiBJbmZpbml0eSxcbiAgICBkcm9wZG93bkNzc0NsYXNzOiBbJ2NhbGVuZGFyLWRyb3Bkb3duJywgJ2NhbGVuZGFyLWRyb3Bkb3duLXBlcm1hbmVudCddXG4gIH0pLm9uKFwic2VsZWN0MjpjbG9zaW5nXCIsIGZ1bmN0aW9uIChlKSB7XG4gICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICB9KS5vbihcInNlbGVjdDI6Y2xvc2VkXCIsIGZ1bmN0aW9uIChlKSB7XG4gICAgbGlzdC5zZWxlY3QyKFwib3BlblwiKTtcbiAgfSk7XG4gICQoJy5kcm9wZG93bicpLm9uKCdzZWxlY3QyOmNsb3NlJywgZnVuY3Rpb24gKCkge1xuICAgICQodGhpcykubmV4dCgpLmZpbmQoJy5zZWxlY3QyLXNlbGVjdGlvbicpLmJsdXIoKTtcbiAgfSk7XG4gICQoJy5kcm9wZG93biArIC5zZWxlY3QyIC5zZWxlY3QyLXNlbGVjdGlvbl9fcmVuZGVyZWQnKS5hdHRyKCd0YWJpbmRleCcsICctMScpO1xuICAkKCcuZHJvcGRvd24tb3BlbmVkJykuc2VsZWN0Mignb3BlbicpO1xufSkoKTtcblxuKGZ1bmN0aW9uICgpIHtcbiAgJCgnLmhpbnQtcG9zaXRpb25zX190aXAtaWNvbicpLm9uKCdjbGljaycsIGZ1bmN0aW9uICgpIHtcbiAgICAkKHRoaXMpLm5leHQoKS5hZGRDbGFzcygnc2hvdycpO1xuICB9KTtcbiAgJCgnLmhpbnRfX2Nsb3NlJykub24oJ2NsaWNrJywgZnVuY3Rpb24gKCkge1xuICAgIHZhciBoaW50ID0gJCh0aGlzKS5wYXJlbnQoKTtcblxuICAgIGlmICghaGludC5oYXNDbGFzcygnaGludC1wZXJtYW5lbnQnKSkge1xuICAgICAgaGludC5yZW1vdmVDbGFzcygnc2hvdycpO1xuICAgIH1cbiAgfSk7XG59KSgpO1xuXG4oZnVuY3Rpb24gKCkge1xuICB2YXIgc2VsZWN0T3B0ID0ge1xuICAgIG1pbmltdW1SZXN1bHRzRm9yU2VhcmNoOiBJbmZpbml0eSxcbiAgICBkcm9wZG93bkNzc0NsYXNzOiAnY2FsZW5kYXItZHJvcGRvd24nXG4gIH07XG4gICQoJy5pbnB1dC1kYXRlJykuZGF0ZXBpY2tlcih7XG4gICAgZGF0ZUZvcm1hdDogJ2RkLm1tLnl5JyxcbiAgICBzaG93T3RoZXJNb250aHM6IHRydWUsXG4gICAgcmVnaW9uYWw6ICdydScsXG4gICAgbW9udGhOYW1lc1Nob3J0OiBbXCLQr9C90LLQsNGA0YxcIiwgXCLQpNC10LLRgNCw0LvRjFwiLCBcItCc0LDRgNGCXCIsIFwi0JDQv9GA0LXQu9GMXCIsIFwi0JzQsNC5XCIsIFwi0JjRjtC90YxcIiwgXCLQmNGO0LvRjFwiLCBcItCQ0LLQs9GD0YHRglwiLCBcItCh0LXQvdGC0Y/QsdGA0YxcIiwgXCLQntC60YLRj9Cx0YDRjFwiLCBcItCd0L7Rj9Cx0YDRjFwiLCBcItCU0LXQutCw0LHRgNGMXCJdLFxuICAgIGNoYW5nZU1vbnRoOiB0cnVlLFxuICAgIGNoYW5nZVllYXI6IHRydWUsXG4gICAgeWVhclJhbmdlOiAnMTkwMDorMTAnLFxuICAgIGJlZm9yZVNob3c6IGZ1bmN0aW9uIGJlZm9yZVNob3coKSB7XG4gICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgJCgnLnVpLWRhdGVwaWNrZXItbW9udGgnKS5zZWxlY3QyKHNlbGVjdE9wdCk7XG4gICAgICAgICQoJy51aS1kYXRlcGlja2VyLXllYXInKS5zZWxlY3QyKHNlbGVjdE9wdCk7XG4gICAgICB9LCAwKTtcbiAgICB9LFxuICAgIG9uQ2hhbmdlTW9udGhZZWFyOiBmdW5jdGlvbiBvbkNoYW5nZU1vbnRoWWVhcigpIHtcbiAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICAkKCcudWktZGF0ZXBpY2tlci1tb250aCcpLnNlbGVjdDIoc2VsZWN0T3B0KTtcbiAgICAgICAgJCgnLnVpLWRhdGVwaWNrZXIteWVhcicpLnNlbGVjdDIoc2VsZWN0T3B0KTtcbiAgICAgIH0sIDApO1xuICAgIH1cbiAgfSk7XG4gICQoJy5pbnB1dC1kYXRlLXRyaWdnZXInKS5kYXRlcGlja2VyKHtcbiAgICBkYXRlRm9ybWF0OiAnZGQubW0ueXknLFxuICAgIHNob3dPdGhlck1vbnRoczogdHJ1ZSxcbiAgICByZWdpb25hbDogJ3J1JyxcbiAgICBtb250aE5hbWVzU2hvcnQ6IFtcItCv0L3QstCw0YDRjFwiLCBcItCk0LXQstGA0LDQu9GMXCIsIFwi0JzQsNGA0YJcIiwgXCLQkNC/0YDQtdC70YxcIiwgXCLQnNCw0LlcIiwgXCLQmNGO0L3RjFwiLCBcItCY0Y7Qu9GMXCIsIFwi0JDQstCz0YPRgdGCXCIsIFwi0KHQtdC90YLRj9Cx0YDRjFwiLCBcItCe0LrRgtGP0LHRgNGMXCIsIFwi0J3QvtGP0LHRgNGMXCIsIFwi0JTQtdC60LDQsdGA0YxcIl0sXG4gICAgY2hhbmdlTW9udGg6IHRydWUsXG4gICAgY2hhbmdlWWVhcjogdHJ1ZSxcbiAgICB5ZWFyUmFuZ2U6ICcxOTAwOisxMCcsXG4gICAgb25DaGFuZ2VNb250aFllYXI6IGZ1bmN0aW9uIG9uQ2hhbmdlTW9udGhZZWFyKCkge1xuICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAgICQoJy51aS1kYXRlcGlja2VyLW1vbnRoJykuc2VsZWN0MihzZWxlY3RPcHQpO1xuICAgICAgICAkKCcudWktZGF0ZXBpY2tlci15ZWFyJykuc2VsZWN0MihzZWxlY3RPcHQpO1xuICAgICAgfSwgMCk7XG4gICAgfSxcbiAgICBvblNlbGVjdDogZnVuY3Rpb24gb25TZWxlY3QoKSB7XG4gICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgJCgnLnVpLWRhdGVwaWNrZXItbW9udGgnKS5zZWxlY3QyKHNlbGVjdE9wdCk7XG4gICAgICAgICQoJy51aS1kYXRlcGlja2VyLXllYXInKS5zZWxlY3QyKHNlbGVjdE9wdCk7XG4gICAgICB9LCAwKTtcbiAgICB9XG4gIH0pO1xuICAkKCcuaW5wdXQtZGF0ZS10cmlnZ2VyLXNpbmdsZScpLmRhdGVwaWNrZXIoe1xuICAgIGRhdGVGb3JtYXQ6ICdkZC5tbS55eScsXG4gICAgc2hvd090aGVyTW9udGhzOiB0cnVlLFxuICAgIHJlZ2lvbmFsOiAncnUnLFxuICAgIG1vbnRoTmFtZXNTaG9ydDogW1wi0K/QvdCy0LDRgNGMXCIsIFwi0KTQtdCy0YDQsNC70YxcIiwgXCLQnNCw0YDRglwiLCBcItCQ0L/RgNC10LvRjFwiLCBcItCc0LDQuVwiLCBcItCY0Y7QvdGMXCIsIFwi0JjRjtC70YxcIiwgXCLQkNCy0LPRg9GB0YJcIiwgXCLQodC10L3RgtGP0LHRgNGMXCIsIFwi0J7QutGC0Y/QsdGA0YxcIiwgXCLQndC+0Y/QsdGA0YxcIiwgXCLQlNC10LrQsNCx0YDRjFwiXSxcbiAgICBjaGFuZ2VNb250aDogdHJ1ZSxcbiAgICBjaGFuZ2VZZWFyOiB0cnVlLFxuICAgIHllYXJSYW5nZTogJzE5MDA6KzEwJyxcbiAgICBvbkNoYW5nZU1vbnRoWWVhcjogZnVuY3Rpb24gb25DaGFuZ2VNb250aFllYXIoKSB7XG4gICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgJCgnLnVpLWRhdGVwaWNrZXItbW9udGgnKS5zZWxlY3QyKHNlbGVjdE9wdCk7XG4gICAgICAgICQoJy51aS1kYXRlcGlja2VyLXllYXInKS5zZWxlY3QyKHNlbGVjdE9wdCk7XG4gICAgICB9LCAwKTtcbiAgICB9LFxuICAgIG9uU2VsZWN0OiBmdW5jdGlvbiBvblNlbGVjdCgpIHtcbiAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICAkKCcudWktZGF0ZXBpY2tlci1tb250aCcpLnNlbGVjdDIoc2VsZWN0T3B0KTtcbiAgICAgICAgJCgnLnVpLWRhdGVwaWNrZXIteWVhcicpLnNlbGVjdDIoc2VsZWN0T3B0KTtcbiAgICAgIH0sIDApO1xuICAgIH1cbiAgfSk7XG4gICQoJy5pbnB1dC1kYXRlLXRyaWdnZXItcmFuZ2UnKS5kYXRlcGlja2VyKHtcbiAgICByYW5nZTogJ3BlcmlvZCcsXG4gICAgZGF0ZUZvcm1hdDogJ2RkLm1tLnl5JyxcbiAgICBzaG93T3RoZXJNb250aHM6IHRydWUsXG4gICAgcmVnaW9uYWw6ICdydScsXG4gICAgbW9udGhOYW1lc1Nob3J0OiBbXCLQr9C90LLQsNGA0YxcIiwgXCLQpNC10LLRgNCw0LvRjFwiLCBcItCc0LDRgNGCXCIsIFwi0JDQv9GA0LXQu9GMXCIsIFwi0JzQsNC5XCIsIFwi0JjRjtC90YxcIiwgXCLQmNGO0LvRjFwiLCBcItCQ0LLQs9GD0YHRglwiLCBcItCh0LXQvdGC0Y/QsdGA0YxcIiwgXCLQntC60YLRj9Cx0YDRjFwiLCBcItCd0L7Rj9Cx0YDRjFwiLCBcItCU0LXQutCw0LHRgNGMXCJdLFxuICAgIGNoYW5nZU1vbnRoOiB0cnVlLFxuICAgIGNoYW5nZVllYXI6IHRydWUsXG4gICAgeWVhclJhbmdlOiAnMTkwMDorMTAnLFxuICAgIG9uQ2hhbmdlTW9udGhZZWFyOiBmdW5jdGlvbiBvbkNoYW5nZU1vbnRoWWVhcigpIHtcbiAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICAkKCcudWktZGF0ZXBpY2tlci1tb250aCcpLnNlbGVjdDIoc2VsZWN0T3B0KTtcbiAgICAgICAgJCgnLnVpLWRhdGVwaWNrZXIteWVhcicpLnNlbGVjdDIoc2VsZWN0T3B0KTtcbiAgICAgIH0sIDApO1xuICAgIH0sXG4gICAgb25TZWxlY3Q6IGZ1bmN0aW9uIG9uU2VsZWN0KGlucHV0LCBpbnN0KSB7XG4gICAgICBjb25zb2xlLmxvZyhpbnN0KTtcbiAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICAkKCcuaW5wdXQtZGF0ZS10cmlnZ2VyLXJhbmdlJykuZmluZCgnLnVpLWRhdGVwaWNrZXItbW9udGgnKS5zZWxlY3QyKHNlbGVjdE9wdCk7XG4gICAgICAgICQoJy5pbnB1dC1kYXRlLXRyaWdnZXItcmFuZ2UnKS5maW5kKCcudWktZGF0ZXBpY2tlci15ZWFyJykuc2VsZWN0MihzZWxlY3RPcHQpO1xuICAgICAgfSwgMTAwKTtcbiAgICB9LFxuICAgIGJlZm9yZVNob3c6IGZ1bmN0aW9uIGJlZm9yZVNob3coaW5wdXQsIGluc3QpIHtcbiAgICAgIGNvbnNvbGUubG9nKGluc3QpO1xuICAgIH1cbiAgfSk7XG4gIHZhciBjdXJyZW50ID0gbW9tZW50KCk7XG4gIHZhciBkYXkgPSBjdXJyZW50LmZvcm1hdCgnREQnKTtcbiAgdmFyIG1vbnRoID0gY3VycmVudC5mb3JtYXQoJ01NJyk7XG4gIHZhciB5ZWFyID0gY3VycmVudC5mb3JtYXQoJ1lZWVknKTtcbiAgdmFyIHBpY2tlZERhdGUgPSAnJztcbiAgdmFyIHBpY2tlZFBlcmlvZCA9IFtdO1xuICB2YXIgaG92ZXJEYXRlID0gJyc7XG5cbiAgaWYgKGRheSAhPT0gJzE1Jykge1xuICAgIHBpY2tlZERhdGUgPSAxNSArICcuJyArIG1vbnRoICsgJy4nICsgeWVhcjtcbiAgfSBlbHNlIHtcbiAgICBwaWNrZWREYXRlID0gMTcgKyAnLicgKyBtb250aCArICcuJyArIHllYXI7XG4gIH1cblxuICBpZiAoZGF5ICE9PSAnMTMnKSB7XG4gICAgaG92ZXJEYXRlID0gJzEzJztcbiAgfSBlbHNlIHtcbiAgICBob3ZlckRhdGUgPSAnMTInO1xuICB9XG5cbiAgZGF5ID4gMTUgPyBwaWNrZWRQZXJpb2QgPSBbJzAyLicgKyBtb250aCArICcuJyArIHllYXIsICcxMS4nICsgbW9udGggKyAnLicgKyB5ZWFyXSA6IHBpY2tlZFBlcmlvZCA9IFsnMTcuJyArIG1vbnRoICsgJy4nICsgeWVhciwgJzI2LicgKyBtb250aCArICcuJyArIHllYXJdO1xuICAkKCcuaW5wdXQtZGF0ZS10cmlnZ2VyJykuZGF0ZXBpY2tlcignc2V0RGF0ZScsIHBpY2tlZERhdGUpO1xuICAkKCcuaW5wdXQtZGF0ZS10cmlnZ2VyLXNpbmdsZScpLmRhdGVwaWNrZXIoJ3NldERhdGUnLCBwaWNrZWREYXRlKTtcbiAgJCgnLmlucHV0LWRhdGUtdHJpZ2dlci1yYW5nZScpLmRhdGVwaWNrZXIoJ3NldERhdGUnLCBwaWNrZWRQZXJpb2QpO1xuICAkKCcuaW5wdXQtZGF0ZS10cmlnZ2VyLXNpbmdsZSAudWktZGF0ZXBpY2tlci1jYWxlbmRhciB0ZCBhJykuZWFjaChmdW5jdGlvbiAoKSB7XG4gICAgaWYgKCQodGhpcykudGV4dCgpID09PSBob3ZlckRhdGUpIHtcbiAgICAgICQodGhpcykuYWRkQ2xhc3MoJ2hvdmVyZWQnKTtcbiAgICB9XG4gIH0pO1xuICAkKCcudWktZGF0ZXBpY2tlci1tb250aCcpLnNlbGVjdDIoc2VsZWN0T3B0KTtcbiAgJCgnLnVpLWRhdGVwaWNrZXIteWVhcicpLnNlbGVjdDIoc2VsZWN0T3B0KTtcbiAgJCgnLmlucHV0LWRhdGUnKS5kYXRlcGlja2VyKCdyZWZyZXNoJyk7XG4gICQoJy5pbnB1dC1kYXRlJykuaW5wdXRtYXNrKFwiOTkuOTkuOTk5OVwiLCB7XG4gICAgLy9tYXNrOiAnbW0vZGQveXl5eScsXG4gICAgcGxhY2Vob2xkZXI6ICcnLFxuICAgIHNob3dNYXNrT25Ib3ZlcjogZmFsc2UsXG4gICAgc2hvd01hc2tPbkZvY3VzOiBmYWxzZSxcbiAgICBqaXRNYXNraW5nOiB0cnVlXG4gIH0pO1xuICAkKCcuaW5wdXQtZGF0ZScpLm9uKCdmb2N1cycsIGZ1bmN0aW9uIChlKSB7XG4gICAgdmFyIHRhcmdldCA9ICQoZS50YXJnZXQpO1xuICAgIHZhciB2YWwgPSB0YXJnZXQudmFsKCk7XG5cbiAgICBpZiAodmFsLmxlbmd0aCA9PT0gMCkge1xuICAgICAgdGFyZ2V0LnBhcmVudCgpLmFkZENsYXNzKCdkYXRlLXBsYWNlaG9sZGVyJyk7XG4gICAgfVxuICB9KTtcbiAgJCgnLmlucHV0LWRhdGUnKS5vbignYmx1cicsIGZ1bmN0aW9uIChlKSB7XG4gICAgdmFyIHRhcmdldCA9ICQoZS50YXJnZXQpO1xuICAgIHZhciB2YWwgPSB0YXJnZXQudmFsKCk7XG4gICAgdGFyZ2V0LnBhcmVudCgpLnJlbW92ZUNsYXNzKCdkYXRlLXBsYWNlaG9sZGVyJyk7XG4gIH0pO1xuICAkKCcuaW5wdXQtZGF0ZScpLm9uKCdpbnB1dCcsIGZ1bmN0aW9uIChlKSB7XG4gICAgdmFyIHRhcmdldCA9ICQoZS50YXJnZXQpO1xuICAgIHZhciB2YWwgPSB0YXJnZXQudmFsKCk7XG5cbiAgICBpZiAodmFsLmxlbmd0aCA+IDApIHtcbiAgICAgIHRhcmdldC5wYXJlbnQoKS5yZW1vdmVDbGFzcygnZGF0ZS1wbGFjZWhvbGRlcicpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0YXJnZXQucGFyZW50KCkuYWRkQ2xhc3MoJ2RhdGUtcGxhY2Vob2xkZXInKTtcbiAgICB9XG5cbiAgICB2YXIgaXNWYWxpZCA9IG1vbWVudCgkKHRoaXMpLnZhbCgpLCAnREQuTU0uWVlZWScsIHRydWUpLmlzVmFsaWQoKTtcblxuICAgIGlmIChpc1ZhbGlkKSB7XG4gICAgICAkKHRoaXMpLmRhdGVwaWNrZXIoJ2hpZGUnKTtcbiAgICAgICQodGhpcykuZGF0ZXBpY2tlcignc2hvdycpO1xuICAgIH1cbiAgfSk7IC8vICQoZG9jdW1lbnQpLnJlYWR5KGZ1bmN0aW9uKCkge1xuICAvLyAgIGZ1bmN0aW9uIGYxKCkge1xuICAvLyAgICAgJCgnLmlucHV0LWRhdGUnKS5kYXRlcGlja2VyKCdyZWZyZXNoJyk7XG4gIC8vICAgfTtcbiAgLy8gICBmdW5jdGlvbiBmMigpIHtcbiAgLy8gICAgIGNvbnNvbGUubG9nKCQoJy51aS1kYXRlcGlja2VyLW1vbnRoJylbMF0pO1xuICAvLyAgICAgc2V0VGltZW91dChmdW5jdGlvbigpIHtcbiAgLy8gICAgICAgJCgnLnVpLWRhdGVwaWNrZXItbW9udGgnKS5zZWxlY3QyKCk7XG4gIC8vICAgICB9LCA1MDAwKTtcbiAgLy8gICAgIC8vJCgnLnVpLWRhdGVwaWNrZXItbW9udGgnKS5zZWxlY3QyKCk7XG4gIC8vICAgfTtcbiAgLy8gICB2YXIgZGZkID0gJC5EZWZlcnJlZCgpO1xuICAvLyAgIGRmZC5kb25lKGYxKS5kb25lKGYyKTtcbiAgLy8gICBkZmQucmVzb2x2ZSgnYScpO1xuICAvLyB9KTtcblxuICAkKCcjY2FsZW5kYXItZHJvcGRvd24tbW9udGgnKS5zZWxlY3QyKHtcbiAgICBtaW5pbXVtUmVzdWx0c0ZvclNlYXJjaDogSW5maW5pdHksXG4gICAgZHJvcGRvd25Dc3NDbGFzczogWydjYWxlbmRhci1kcm9wZG93bicsICdjYWxlbmRhci1kcm9wZG93bi1wZXJtYW5lbnQnXSxcbiAgICBjbG9zZU9uU2VsZWN0OiBmYWxzZVxuICB9KS5vbihcInNlbGVjdDI6Y2xvc2luZ1wiLCBmdW5jdGlvbiAoZSkge1xuICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgfSkub24oXCJzZWxlY3QyOmNsb3NlZFwiLCBmdW5jdGlvbiAoZSkge1xuICAgIGxpc3Quc2VsZWN0MihcIm9wZW5cIik7XG4gIH0pO1xuICAkKCcjY2FsZW5kYXItZHJvcGRvd24tbW9udGgnKS5zZWxlY3QyKCdvcGVuJyk7XG4gICQoJyNjYWxlbmRhci1kcm9wZG93bi15ZWFyJykuc2VsZWN0Mih7XG4gICAgbWluaW11bVJlc3VsdHNGb3JTZWFyY2g6IEluZmluaXR5LFxuICAgIGRyb3Bkb3duQ3NzQ2xhc3M6IFsnY2FsZW5kYXItZHJvcGRvd24nLCAnY2FsZW5kYXItZHJvcGRvd24tcGVybWFuZW50J10sXG4gICAgY2xvc2VPblNlbGVjdDogZmFsc2VcbiAgfSkub24oXCJzZWxlY3QyOmNsb3NpbmdcIiwgZnVuY3Rpb24gKGUpIHtcbiAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gIH0pLm9uKFwic2VsZWN0MjpjbG9zZWRcIiwgZnVuY3Rpb24gKGUpIHtcbiAgICBsaXN0LnNlbGVjdDIoXCJvcGVuXCIpO1xuICB9KTtcbiAgJCgnI2NhbGVuZGFyLWRyb3Bkb3duLXllYXInKS5zZWxlY3QyKCdvcGVuJyk7XG59KSgpO1xuXG4oZnVuY3Rpb24gKCkge1xuICAkKCcuaW5wdXQtcGFzc3dvcmQtYnRuJykub24oJ2NsaWNrJywgZnVuY3Rpb24gKCkge1xuICAgIHZhciAkYnRuID0gJCh0aGlzKTtcbiAgICB2YXIgJGlucHV0ID0gJGJ0bi5wcmV2KCk7XG4gICAgJGJ0bi50b2dnbGVDbGFzcygnc2hvd24nKTtcblxuICAgIGlmICgkYnRuLmhhc0NsYXNzKCdzaG93bicpKSB7XG4gICAgICAkaW5wdXQuYXR0cigndHlwZScsICd0ZXh0Jyk7XG4gICAgfSBlbHNlIHtcbiAgICAgICRpbnB1dC5hdHRyKCd0eXBlJywgJ3Bhc3N3b3JkJyk7XG4gICAgfVxuICB9KTtcbn0pKCk7XG5cbihmdW5jdGlvbiAoKSB7XG4gICQoJy5saW5rW3RhYmluZGV4PVwiLTFcIl0nKS5vbignY2xpY2snLCBmdW5jdGlvbiAoZSkge1xuICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgfSk7XG59KSgpO1xuXG4oZnVuY3Rpb24gKCkge1xuICB2YXIgJGJ0biA9ICQoJy5oZWFkZXJfX21lbnUtYnRuJyk7XG4gIHZhciAkbmF2ID0gJCgnLm1haW4tbmF2Jyk7XG4gIHZhciAkYmxhY2tvdXQgPSAkKCcuYmxhY2tvdXQnKTtcbiAgJGJ0bi5vbignY2xpY2snLCBmdW5jdGlvbiAoKSB7XG4gICAgJG5hdi50b2dnbGVDbGFzcygnanMtb3BlbmVkJyk7XG4gICAgJGJsYWNrb3V0LnRvZ2dsZUNsYXNzKCdqcy1zaG93Jyk7XG5cbiAgICBpZiAoJChkb2N1bWVudCkud2lkdGgoKSA8PSAxMTk5KSB7XG4gICAgICAkbmF2Lmhhc0NsYXNzKCdqcy1vcGVuZWQnKSA/ICQoJ2JvZHknKS5hZGRDbGFzcygnanNfX2JvZHktbm8tc2Nyb2xsJykgOiAkKCdib2R5JykucmVtb3ZlQ2xhc3MoJ2pzX19ib2R5LW5vLXNjcm9sbCcpO1xuICAgIH1cbiAgfSk7XG4gICRibGFja291dC5vbignY2xpY2snLCBmdW5jdGlvbiAoKSB7XG4gICAgJG5hdi5yZW1vdmVDbGFzcygnanMtb3BlbmVkJyk7XG4gICAgJGJsYWNrb3V0LnJlbW92ZUNsYXNzKCdqcy1zaG93Jyk7XG4gICAgJCgnYm9keScpLnJlbW92ZUNsYXNzKCdqc19fYm9keS1uby1zY3JvbGwnKTtcbiAgfSk7XG4gICQod2luZG93KS5vbigncmVzaXplJywgZnVuY3Rpb24gKCkge1xuICAgIGlmICgkKGRvY3VtZW50KS53aWR0aCgpID4gMTE5OSkge1xuICAgICAgJG5hdi5yZW1vdmVDbGFzcygnanMtb3BlbmVkJyk7XG4gICAgICAkYmxhY2tvdXQucmVtb3ZlQ2xhc3MoJ2pzLXNob3cnKTtcbiAgICAgICQoJ2JvZHknKS5yZW1vdmVDbGFzcygnanNfX2JvZHktbm8tc2Nyb2xsJyk7XG4gICAgfVxuICB9KTtcbn0pKCk7XG5cbihmdW5jdGlvbiAoKSB7XG4gIC8vIGNvbnN0IGlucHV0cyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5pbnB1dC1waG9uZScpO1xuICAvLyBpZiAoIWlucHV0c1swXSkge1xuICAvLyAgIHJldHVybjtcbiAgLy8gfVxuICAvLyBjb25zdCBpbSA9IG5ldyBJbnB1dG1hc2soXCIrNyg5OTkpIDk5OS05OS05OVwiKTtcbiAgLy8gaW5wdXRzLmZvckVhY2goZnVuY3Rpb24oaXRlbSkge1xuICAvLyAgIGltLm1hc2soaXRlbSk7XG4gIC8vIH0pXG4gICQoJy5pbnB1dC1waG9uZScpLmlucHV0bWFzaygnKzcoOTk5KSA5OTktOTktOTknKTtcbn0pKCk7XG5cbihmdW5jdGlvbiAoKSB7XG4gICQoXCIuanMtcmFuZ2Utc2luZ2xlLXNsaWRlclwiKS5pb25SYW5nZVNsaWRlcih7XG4gICAgdHlwZTogXCJzaW5nbGVcIixcbiAgICBncmlkOiBmYWxzZSxcbiAgICBoaWRlX21pbl9tYXg6IHRydWUsXG4gICAgZXh0cmFfY2xhc3NlczogJ3NpbmdsZS1zbGlkZXInXG4gIH0pO1xuICAkKFwiLmpzLXJhbmdlLXNpbmdsZS1zbGlkZXItZGVmYXVsdFwiKS5pb25SYW5nZVNsaWRlcih7XG4gICAgdHlwZTogXCJzaW5nbGVcIixcbiAgICBncmlkOiBmYWxzZSxcbiAgICBoaWRlX21pbl9tYXg6IHRydWUsXG4gICAgaGlkZV9mcm9tX3RvOiB0cnVlLFxuICAgIGV4dHJhX2NsYXNzZXM6ICdzaW5nbGUtc2xpZGVyJ1xuICB9KTtcbiAgJChcIi5qcy1yYW5nZS1zaW5nbGUtc2xpZGVyLWhvdmVyZWRcIikuaW9uUmFuZ2VTbGlkZXIoe1xuICAgIHR5cGU6IFwic2luZ2xlXCIsXG4gICAgZ3JpZDogZmFsc2UsXG4gICAgaGlkZV9taW5fbWF4OiB0cnVlLFxuICAgIGhpZGVfZnJvbV90bzogdHJ1ZSxcbiAgICBleHRyYV9jbGFzc2VzOiAnc2luZ2xlLXNsaWRlcicsXG4gICAgb25TdGFydDogZnVuY3Rpb24gb25TdGFydChkYXRhKSB7XG4gICAgICBkYXRhLnNsaWRlci5maW5kKCcuaXJzLWhhbmRsZScpLmFkZENsYXNzKCdob3ZlcmVkJyk7XG4gICAgfVxuICB9KTtcbiAgJChcIi5qcy1yYW5nZS1zaW5nbGUtc2xpZGVyLWZvY3VzZWRcIikuaW9uUmFuZ2VTbGlkZXIoe1xuICAgIHR5cGU6IFwic2luZ2xlXCIsXG4gICAgZ3JpZDogZmFsc2UsXG4gICAgaGlkZV9taW5fbWF4OiB0cnVlLFxuICAgIGhpZGVfZnJvbV90bzogdHJ1ZSxcbiAgICBleHRyYV9jbGFzc2VzOiAnc2luZ2xlLXNsaWRlcicsXG4gICAgb25TdGFydDogZnVuY3Rpb24gb25TdGFydChkYXRhKSB7XG4gICAgICBkYXRhLnNsaWRlci5maW5kKCcuaXJzLWhhbmRsZScpLmFkZENsYXNzKCdmb2N1c2VkJyk7XG4gICAgfVxuICB9KTtcbiAgJChcIi5qcy1yYW5nZS1kb3VibGUtc2xpZGVyXCIpLmlvblJhbmdlU2xpZGVyKHtcbiAgICB0eXBlOiBcImRvdWJsZVwiLFxuICAgIGdyaWQ6IGZhbHNlLFxuICAgIGhpZGVfbWluX21heDogdHJ1ZSxcbiAgICBoaWRlX2Zyb21fdG86IHRydWUsXG4gICAgZXh0cmFfY2xhc3NlczogJ2RvdWJsZS1zbGlkZXInLFxuICAgIG9uU3RhcnQ6IGZ1bmN0aW9uIG9uU3RhcnQoZGF0YSkge1xuICAgICAgdmFyIGlucHV0QmxvY2sgPSBkYXRhLnNsaWRlci5wYXJlbnQoKTtcbiAgICAgIHZhciBmcm9tID0gaW5wdXRCbG9jay5zaWJsaW5ncygnLnJhbmdlX192YWx1ZS0tZnJvbScpO1xuICAgICAgdmFyIHRvID0gaW5wdXRCbG9jay5zaWJsaW5ncygnLnJhbmdlX192YWx1ZS0tdG8nKTtcbiAgICAgIGZyb20udGV4dChkYXRhLmZyb20pO1xuICAgICAgdG8udGV4dChkYXRhLnRvKTtcbiAgICB9LFxuICAgIG9uQ2hhbmdlOiBmdW5jdGlvbiBvbkNoYW5nZShkYXRhKSB7XG4gICAgICB2YXIgaW5wdXRCbG9jayA9IGRhdGEuc2xpZGVyLnBhcmVudCgpO1xuICAgICAgdmFyIGZyb20gPSBpbnB1dEJsb2NrLnNpYmxpbmdzKCcucmFuZ2VfX3ZhbHVlLS1mcm9tJyk7XG4gICAgICB2YXIgdG8gPSBpbnB1dEJsb2NrLnNpYmxpbmdzKCcucmFuZ2VfX3ZhbHVlLS10bycpO1xuICAgICAgZnJvbS50ZXh0KGRhdGEuZnJvbSk7XG4gICAgICB0by50ZXh0KGRhdGEudG8pO1xuICAgIH1cbiAgfSk7XG4gICQoXCIuanMtcmFuZ2UtZG91YmxlLXNsaWRlci1ob3ZlcmVkXCIpLmlvblJhbmdlU2xpZGVyKHtcbiAgICB0eXBlOiBcImRvdWJsZVwiLFxuICAgIGdyaWQ6IGZhbHNlLFxuICAgIGhpZGVfbWluX21heDogdHJ1ZSxcbiAgICBoaWRlX2Zyb21fdG86IHRydWUsXG4gICAgZXh0cmFfY2xhc3NlczogJ2RvdWJsZS1zbGlkZXInLFxuICAgIG9uU3RhcnQ6IGZ1bmN0aW9uIG9uU3RhcnQoZGF0YSkge1xuICAgICAgZGF0YS5zbGlkZXIuZmluZCgnLmlycy1oYW5kbGUudG8nKS5hZGRDbGFzcygnaG92ZXJlZCcpO1xuICAgIH1cbiAgfSk7XG4gIHZhciBtb3VzZXVwID0gZmFsc2U7XG4gICQoJy5pcnMtbGluZScpLm9uKCdtb3VzZXVwJywgZnVuY3Rpb24gKCkge1xuICAgIG1vdXNldXAgPSB0cnVlO1xuICAgICQodGhpcykucGFyZW50KCkuc2libGluZ3MoJy5pcnMtaGFuZGxlJykucmVtb3ZlQ2xhc3MoJ2ZvY3VzZWQnKTtcbiAgfSk7XG4gICQoJy5pcnMtbGluZScpLm9uKCdtb3VzZWRvd24nLCBmdW5jdGlvbiAoKSB7XG4gICAgJCh0aGlzKS5wYXJlbnQoKS5zaWJsaW5ncygnLmlycy1oYW5kbGUnKS5yZW1vdmVDbGFzcygnZm9jdXNlZCcpO1xuICB9KTtcbiAgJCgnLmlycy1oYW5kbGUnKS5vbignbW91c2V1cCcsIGZ1bmN0aW9uICgpIHtcbiAgICBtb3VzZXVwID0gdHJ1ZTtcbiAgICAkKHRoaXMpLnJlbW92ZUNsYXNzKCdmb2N1c2VkJyk7XG4gIH0pO1xuICAkKCcuaXJzLWhhbmRsZScpLm9uKCdtb3VzZWRvd24nLCBmdW5jdGlvbiAoKSB7XG4gICAgbW91c2V1cCA9IHRydWU7XG4gICAgJCh0aGlzKS5yZW1vdmVDbGFzcygnZm9jdXNlZCcpO1xuICB9KTtcbiAgJCgnLmlycy1saW5lJykub24oJ2ZvY3VzJywgZnVuY3Rpb24gKCkge1xuICAgIGlmICghbW91c2V1cCkge1xuICAgICAgJCh0aGlzKS5wYXJlbnQoKS5zaWJsaW5ncygnLmlycy1oYW5kbGUnKS5hZGRDbGFzcygnZm9jdXNlZCcpO1xuICAgIH1cblxuICAgIG1vdXNldXAgPSBmYWxzZTtcbiAgfSk7XG4gICQoJy5pcnMtbGluZScpLm9uKCdibHVyJywgZnVuY3Rpb24gKCkge1xuICAgICQodGhpcykucGFyZW50KCkuc2libGluZ3MoJy5pcnMtaGFuZGxlJykucmVtb3ZlQ2xhc3MoJ2ZvY3VzZWQnKTtcbiAgfSk7XG59KSgpO1xuXG4oZnVuY3Rpb24gKCkge1xuICB2YXIgc2Nyb2xsQnRuID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnNjcm9sbC10by10b3AnKTtcbiAgdmFyIGhlYWRlciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5oZWFkZXInKTtcblxuICBpZiAoIXNjcm9sbEJ0bikge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIHZhciBnZXRIZWFkZXJIZWlnaHQgPSBmdW5jdGlvbiBnZXRIZWFkZXJIZWlnaHQoKSB7XG4gICAgcmV0dXJuIGhlYWRlci5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS5oZWlnaHQgKyA1MDtcbiAgfTtcblxuICB2YXIgaXNTY3JvbGxlZCA9IHdpbmRvdy5wYWdlWU9mZnNldCA+IGdldEhlYWRlckhlaWdodCgpO1xuXG4gIHZhciBzaG93QnRuID0gZnVuY3Rpb24gc2hvd0J0bigpIHtcbiAgICAhc2Nyb2xsQnRuLmNsYXNzTGlzdC5jb250YWlucygnYWN0aXZlJykgJiYgc2Nyb2xsQnRuLmNsYXNzTGlzdC5hZGQoJ2FjdGl2ZScpO1xuICB9O1xuXG4gIHZhciBoaWRlSGVhZGVyID0gZnVuY3Rpb24gaGlkZUhlYWRlcigpIHtcbiAgICBzY3JvbGxCdG4uY2xhc3NMaXN0LmNvbnRhaW5zKCdhY3RpdmUnKSAmJiBzY3JvbGxCdG4uY2xhc3NMaXN0LnJlbW92ZSgnYWN0aXZlJyk7XG4gIH07XG5cbiAgdmFyIG9uU2Nyb2xsID0gZnVuY3Rpb24gb25TY3JvbGwoKSB7XG4gICAgaWYgKCFpc1Njcm9sbGVkICYmIHdpbmRvdy5wYWdlWU9mZnNldCA+IGdldEhlYWRlckhlaWdodCgpKSB7XG4gICAgICBzaG93QnRuKCk7XG4gICAgICBpc1Njcm9sbGVkID0gdHJ1ZTtcbiAgICB9XG5cbiAgICBpZiAoaXNTY3JvbGxlZCAmJiB3aW5kb3cucGFnZVlPZmZzZXQgPCBnZXRIZWFkZXJIZWlnaHQoKSkge1xuICAgICAgaGlkZUhlYWRlcigpO1xuICAgICAgaXNTY3JvbGxlZCA9IGZhbHNlO1xuICAgIH1cbiAgfTtcblxuICBpZiAoaXNTY3JvbGxlZCkge1xuICAgIHNob3dCdG4oKTtcbiAgfVxuXG4gIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ3Njcm9sbCcsIG9uU2Nyb2xsKTtcbiAgc2Nyb2xsQnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZnVuY3Rpb24gKGUpIHtcbiAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgaGVhZGVyLnNjcm9sbEludG9WaWV3KHtcbiAgICAgIGJsb2NrOiBcInN0YXJ0XCIsXG4gICAgICBiZWhhdmlvcjogXCJzbW9vdGhcIlxuICAgIH0pO1xuICB9KTtcbn0pKCk7XG5cbihmdW5jdGlvbiAoKSB7XG4gIHZhciBtb3VzZXVwID0gZmFsc2U7XG4gICQoJy5zd2l0Y2hlcl9fbGFiZWwnKS5tb3VzZXVwKGZ1bmN0aW9uIChlKSB7XG4gICAgbW91c2V1cCA9IHRydWU7XG4gICAgJCh0aGlzKS5yZW1vdmVDbGFzcygnZm9jdXNlZCcpO1xuICB9KTtcbiAgJCgnLnN3aXRjaGVyX19pbnB1dCcpLmZvY3VzKGZ1bmN0aW9uIChlKSB7XG4gICAgaWYgKCFtb3VzZXVwKSB7XG4gICAgICAkKHRoaXMpLnBhcmVudCgpLmFkZENsYXNzKCdmb2N1c2VkJyk7XG4gICAgfVxuXG4gICAgbW91c2V1cCA9IGZhbHNlO1xuICB9KTtcbiAgJCgnLnN3aXRjaGVyX19pbnB1dCcpLmJsdXIoZnVuY3Rpb24gKGUpIHtcbiAgICAkKHRoaXMpLnBhcmVudCgpLnJlbW92ZUNsYXNzKCdmb2N1c2VkJyk7XG4gIH0pO1xuICAkKCcuc3dpdGNoZXItdGV4dF9fbGFiZWwnKS5tb3VzZXVwKGZ1bmN0aW9uIChlKSB7XG4gICAgbW91c2V1cCA9IHRydWU7XG4gICAgJCh0aGlzKS5yZW1vdmVDbGFzcygnZm9jdXNlZCcpO1xuICB9KTtcbiAgJCgnLnN3aXRjaGVyLXRleHRfX2lucHV0JykuZm9jdXMoZnVuY3Rpb24gKGUpIHtcbiAgICBpZiAoIW1vdXNldXApIHtcbiAgICAgICQodGhpcykucGFyZW50KCkuYWRkQ2xhc3MoJ2ZvY3VzZWQnKTtcbiAgICB9XG5cbiAgICBtb3VzZXVwID0gZmFsc2U7XG4gIH0pO1xuICAkKCcuc3dpdGNoZXItdGV4dF9faW5wdXQnKS5ibHVyKGZ1bmN0aW9uIChlKSB7XG4gICAgJCh0aGlzKS5wYXJlbnQoKS5yZW1vdmVDbGFzcygnZm9jdXNlZCcpO1xuICB9KTtcbiAgJCgnLnN3aXRjaGVyLWljb25fX2xhYmVsJykubW91c2V1cChmdW5jdGlvbiAoZSkge1xuICAgIG1vdXNldXAgPSB0cnVlO1xuICAgICQodGhpcykucmVtb3ZlQ2xhc3MoJ2ZvY3VzZWQnKTtcbiAgfSk7XG59KSgpO1xuXG4oZnVuY3Rpb24gKCkge1xuICAkKCcudGFic19fYnV0dG9uJykub24oJ2NsaWNrJywgZnVuY3Rpb24gKCkge1xuICAgIGlmICghJCh0aGlzKS5oYXNDbGFzcygnYWN0aXZlJykgJiYgISQodGhpcykuaGFzQ2xhc3MoJ2Rpc2FibGVkJykpIHtcbiAgICAgICQodGhpcykucGFyZW50cygnLnRhYnMnKS5maW5kKCcudGFic19fYnV0dG9uJykucmVtb3ZlQ2xhc3MoJ2FjdGl2ZScpO1xuICAgICAgJCh0aGlzKS5hZGRDbGFzcygnYWN0aXZlJyk7XG4gICAgfVxuICB9KTtcbn0pKCk7XG5cbihmdW5jdGlvbiAoKSB7XG4gIHZhciBtb3VzZXVwID0gZmFsc2U7XG4gICQoJy50b2dnbGUnKS5tb3VzZXVwKGZ1bmN0aW9uIChlKSB7XG4gICAgbW91c2V1cCA9IHRydWU7XG4gICAgJCh0aGlzKS5yZW1vdmVDbGFzcygnZm9jdXNlZCcpO1xuICB9KTtcbiAgJCgnLnRvZ2dsZV9faW5wdXQnKS5mb2N1cyhmdW5jdGlvbiAoZSkge1xuICAgIGlmICghbW91c2V1cCkge1xuICAgICAgJCh0aGlzKS5wYXJlbnQoKS5hZGRDbGFzcygnZm9jdXNlZCcpO1xuICAgIH1cblxuICAgIG1vdXNldXAgPSBmYWxzZTtcbiAgfSk7XG4gICQoJy50b2dnbGVfX2lucHV0JykuYmx1cihmdW5jdGlvbiAoZSkge1xuICAgICQodGhpcykucGFyZW50KCkucmVtb3ZlQ2xhc3MoJ2ZvY3VzZWQnKTtcbiAgfSk7XG59KSgpO1xuXG4oZnVuY3Rpb24gKCkge1xuICB2YXIgdXBsb2FkcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy51cGxvYWQnKTtcblxuICBpZiAoIXVwbG9hZHNbMF0pIHtcbiAgICByZXR1cm47XG4gIH1cblxuICBmdW5jdGlvbiBwcmV2ZW50RGVmYXVsdHMoZSkge1xuICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xuICB9XG5cbiAgO1xuXG4gIGZ1bmN0aW9uIGhpZ2hsaWdodChlKSB7XG4gICAgZS5jdXJyZW50VGFyZ2V0LmNsYXNzTGlzdC5hZGQoJ2hpZ2hsaWdodCcpO1xuICB9XG5cbiAgO1xuXG4gIGZ1bmN0aW9uIHVuaGlnaGxpZ2h0KGUpIHtcbiAgICBlLmN1cnJlbnRUYXJnZXQuY2xhc3NMaXN0LnJlbW92ZSgnaGlnaGxpZ2h0Jyk7XG4gIH1cblxuICA7XG5cbiAgZnVuY3Rpb24gZ2V0UmVzdWx0QmxvY2soaW5wdXQpIHtcbiAgICB2YXIgJGlkeCA9ICQoaW5wdXQpLnBhcmVudCgpLmF0dHIoJ2RhdGEtaW5wdXQnKTtcbiAgICByZXR1cm4gJChpbnB1dCkucGFyZW50cygnLnVwbG9hZCcpLmZpbmQoXCJbZGF0YS1yZXN1bHQ9J1wiICsgJGlkeCArIFwiJ11cIik7XG4gIH1cblxuICA7XG5cbiAgZnVuY3Rpb24gZmlsbFJlc3VsdChpbnB1dCkge1xuICAgIHZhciAkcmVzdWx0ID0gZ2V0UmVzdWx0QmxvY2soaW5wdXQpO1xuICAgIHZhciAkbmFtZSA9ICRyZXN1bHQuZmluZCgnLnVwbG9hZF9fbmFtZScpO1xuICAgICRuYW1lLnRleHQoaW5wdXQuZmlsZXNbMF0ubmFtZSk7XG4gIH1cblxuICA7XG5cbiAgZnVuY3Rpb24gc2hvd1Jlc3VsdChpbnB1dCkge1xuICAgIHZhciAkcmVzdWx0ID0gZ2V0UmVzdWx0QmxvY2soaW5wdXQpO1xuICAgICRyZXN1bHQuYWRkQ2xhc3MoJ3Nob3cnKTtcbiAgfVxuXG4gIDtcblxuICBmdW5jdGlvbiBoaWRlUmVzdWx0KGlucHV0KSB7XG4gICAgdmFyICRyZXN1bHQgPSBnZXRSZXN1bHRCbG9jayhpbnB1dCk7XG4gICAgJHJlc3VsdC5yZW1vdmVDbGFzcygnc2hvdycpO1xuICB9XG5cbiAgO1xuXG4gIGZ1bmN0aW9uIHNob3dMYWJlbChpbnB1dCkge1xuICAgIHZhciAkbGFiZWwgPSAkKGlucHV0KS5wYXJlbnQoKTtcbiAgICAkbGFiZWwucmVtb3ZlQ2xhc3MoJ2hpZGRlbicpO1xuICB9XG5cbiAgO1xuXG4gIGZ1bmN0aW9uIGhpZGVMYWJlbChpbnB1dCkge1xuICAgIHZhciAkbGFiZWwgPSAkKGlucHV0KS5wYXJlbnQoKTtcbiAgICAkbGFiZWwuYWRkQ2xhc3MoJ2hpZGRlbicpO1xuICB9XG5cbiAgO1xuXG4gIGZ1bmN0aW9uIGFkZExvYWRlcihpbnB1dCkge1xuICAgIHZhciAkcmVzdWx0ID0gZ2V0UmVzdWx0QmxvY2soaW5wdXQpO1xuICAgICRyZXN1bHQuYWRkQ2xhc3MoJ2xvYWRlcicpO1xuICB9XG5cbiAgO1xuXG4gIGZ1bmN0aW9uIHJlbW92ZUxvYWRlcihpbnB1dCkge1xuICAgIHZhciAkcmVzdWx0ID0gZ2V0UmVzdWx0QmxvY2soaW5wdXQpO1xuICAgICRyZXN1bHQucmVtb3ZlQ2xhc3MoJ2xvYWRlcicpO1xuICB9XG5cbiAgO1xuXG4gIHZhciByZWFkVXJsID0gZnVuY3Rpb24gcmVhZFVybChpbnB1dCkge1xuICAgIGlmIChpbnB1dC5maWxlcyAmJiBpbnB1dC5maWxlc1swXSkge1xuICAgICAgdmFyIHJlYWRlciA9IG5ldyBGaWxlUmVhZGVyKCk7XG5cbiAgICAgIHJlYWRlci5vbmxvYWRzdGFydCA9IGZ1bmN0aW9uIChlKSB7XG4gICAgICAgIC8vcHJvZ3Jlc3MuY2xhc3NMaXN0LmFkZCgnc2hvdycpO1xuICAgICAgICBhZGRMb2FkZXIoaW5wdXQpO1xuICAgICAgICBmaWxsUmVzdWx0KGlucHV0KTtcbiAgICAgICAgc2hvd1Jlc3VsdChpbnB1dCk7XG4gICAgICB9O1xuXG4gICAgICByZWFkZXIub25wcm9ncmVzcyA9IGZ1bmN0aW9uIChlKSB7fTtcblxuICAgICAgcmVhZGVyLm9ubG9hZCA9IGZ1bmN0aW9uIChlKSB7XG4gICAgICAgIC8vIGZpbGVJbWcuc2V0QXR0cmlidXRlKCdzcmMnLCBlLnRhcmdldC5yZXN1bHQpO1xuICAgICAgICAvLyBmaWxlTmFtZS50ZXh0Q29udGVudCA9IGlucHV0LmZpbGVzWzBdLm5hbWU7XG4gICAgICAgIC8vICFmaWxlUmVzdWx0LmNsYXNzTGlzdC5jb250YWlucygnc2hvdycpICYmIGZpbGVSZXN1bHQuY2xhc3NMaXN0LmFkZCgnc2hvdycpO1xuICAgICAgICAvLyBwcm9ncmVzcy5jbGFzc0xpc3QucmVtb3ZlKCdzaG93Jyk7XG4gICAgICAgIC8vIGJhci5zdHlsZS53aWR0aCA9IDA7XG4gICAgICAgIHJlbW92ZUxvYWRlcihpbnB1dCk7XG4gICAgICAgIGhpZGVMYWJlbChpbnB1dCk7XG4gICAgICAgIHZhciBibG9jayA9ICQoaW5wdXQpLnBhcmVudHMoJy51cGxvYWQnKTtcblxuICAgICAgICBpZiAoYmxvY2suaGFzQ2xhc3MoJ211bHRpJykpIHtcbiAgICAgICAgICB2YXIgbmV3SWR4ID0gJCgnLnVwbG9hZF9faW5wdXQtd3JhcCAudXBsb2FkX19sYWJlbCcpLmxlbmd0aDtcbiAgICAgICAgICB2YXIgJHJlc3VsdCA9IGdldFJlc3VsdEJsb2NrKGlucHV0KTtcbiAgICAgICAgICB2YXIgJHJlc3VsdFdyYXAgPSAkcmVzdWx0LnBhcmVudCgpO1xuICAgICAgICAgIHZhciAkbmV3UmVzdWx0ID0gJHJlc3VsdC5jbG9uZSh0cnVlLCB0cnVlKTtcbiAgICAgICAgICAkbmV3UmVzdWx0LnJlbW92ZUNsYXNzKCdzaG93Jyk7IC8vJG5ld1Jlc3VsdC5hdHRyKCdkYXRhLXJlc3VsdCcsIG5ld0lkeCk7XG5cbiAgICAgICAgICAkcmVzdWx0V3JhcC5wcmVwZW5kKCRuZXdSZXN1bHQpO1xuICAgICAgICAgICRyZXN1bHQucGFyZW50cygnLnVwbG9hZF9faW5wdXQtcmVzdWx0cycpLmZpbmQoJy51cGxvYWRfX3Jlc3VsdCcpLmVhY2goZnVuY3Rpb24gKGlkLCBlbGVtZW50KSB7XG4gICAgICAgICAgICAkKHRoaXMpLmF0dHIoJ2RhdGEtcmVzdWx0JywgaWQpO1xuICAgICAgICAgIH0pO1xuICAgICAgICAgIHZhciAkbGFiZWxXcmFwID0gJChpbnB1dCkucGFyZW50KCkucGFyZW50KCk7XG4gICAgICAgICAgdmFyICRsYWJlbCA9ICQoaW5wdXQpLnBhcmVudCgpO1xuICAgICAgICAgIHZhciAkbmV3TGFiZWwgPSAkbGFiZWwuY2xvbmUodHJ1ZSwgdHJ1ZSk7XG4gICAgICAgICAgJG5ld0xhYmVsLnJlbW92ZUNsYXNzKCdoaWRkZW4nKTsgLy8kbmV3TGFiZWwuYXR0cignZGF0YS1pbnB1dCcsIG5ld0lkeCk7XG5cbiAgICAgICAgICAkbGFiZWxXcmFwLnByZXBlbmQoJG5ld0xhYmVsKTtcbiAgICAgICAgICAkbGFiZWwucGFyZW50cygnLnVwbG9hZF9faW5wdXQtd3JhcCcpLmZpbmQoJy51cGxvYWRfX2xhYmVsJykuZWFjaChmdW5jdGlvbiAoaWQsIGVsZW1lbnQpIHtcbiAgICAgICAgICAgICQodGhpcykuYXR0cignZGF0YS1pbnB1dCcsIGlkKTtcbiAgICAgICAgICAgICQodGhpcykuY2hpbGRyZW4oJ2lucHV0JykuYXR0cignbmFtZScsICdmaWxlLScgKyBpZCk7XG4gICAgICAgICAgfSk7XG4gICAgICAgICAgYWRkRXZlbnRMaXN0ZW5lcnMoJG5ld0xhYmVsLCAkbmV3UmVzdWx0KTsgLy8gJG5ld0xhYmVsLmNoaWxkcmVuKCdpbnB1dCcpWzBdLmFkZEV2ZW50TGlzdGVuZXIoJ2NoYW5nZScsIG9uRmlsZUNoYW5nZSk7XG4gICAgICAgICAgLy8gWydkcmFnZW50ZXInLCAnZHJhZ292ZXInLCAnZHJhZ2xlYXZlJywgJ2Ryb3AnXS5mb3JFYWNoKGV2ZW50TmFtZSA9PiB7XG4gICAgICAgICAgLy8gICAkbmV3TGFiZWxbMF0uYWRkRXZlbnRMaXN0ZW5lcihldmVudE5hbWUsIHByZXZlbnREZWZhdWx0cywgZmFsc2UpXG4gICAgICAgICAgLy8gfSk7XG4gICAgICAgICAgLy8gWydkcmFnZW50ZXInLCAnZHJhZ292ZXInXS5mb3JFYWNoKGV2ZW50TmFtZSA9PiB7XG4gICAgICAgICAgLy8gICAkbmV3TGFiZWxbMF0uYWRkRXZlbnRMaXN0ZW5lcihldmVudE5hbWUsIGhpZ2hsaWdodCwgZmFsc2UpXG4gICAgICAgICAgLy8gfSk7XG4gICAgICAgICAgLy8gWydkcmFnbGVhdmUnLCAnZHJvcCddLmZvckVhY2goZXZlbnROYW1lID0+IHtcbiAgICAgICAgICAvLyAgICRuZXdMYWJlbFswXS5hZGRFdmVudExpc3RlbmVyKGV2ZW50TmFtZSwgdW5oaWdobGlnaHQsIGZhbHNlKVxuICAgICAgICAgIC8vIH0pO1xuICAgICAgICAgIC8vICRuZXdMYWJlbFswXS5hZGRFdmVudExpc3RlbmVyKCdkcm9wJywgaGFuZGxlRHJvcCwgZmFsc2UpO1xuICAgICAgICAgIC8vICRuZXdSZXN1bHQuY2hpbGRyZW4oJy51cGxvYWRfX2Nsb3NlJylbMF0uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBvbkZpbGVDbGVhcik7XG4gICAgICAgIH1cbiAgICAgIH07XG5cbiAgICAgIHJlYWRlci5yZWFkQXNEYXRhVVJMKGlucHV0LmZpbGVzWzBdKTtcbiAgICB9XG4gIH07XG5cbiAgdmFyIG9uRmlsZUNoYW5nZSA9IGZ1bmN0aW9uIG9uRmlsZUNoYW5nZShlKSB7XG4gICAgcmVhZFVybChlLmN1cnJlbnRUYXJnZXQpO1xuICAgIGNvbnNvbGUubG9nKGUuY3VycmVudFRhcmdldCk7XG4gIH07XG5cbiAgZnVuY3Rpb24gb25GaWxlRHJvcChpbnB1dCkge1xuICAgIHJlYWRVcmwoaW5wdXQpO1xuICB9XG5cbiAgO1xuXG4gIGZ1bmN0aW9uIGhhbmRsZURyb3AoZSkge1xuICAgIHZhciBkdCA9IGUuZGF0YVRyYW5zZmVyO1xuICAgIHZhciBmaWxlcyA9IGR0LmZpbGVzO1xuICAgIHZhciB0YXJnZXQgPSBlLmN1cnJlbnRUYXJnZXQ7XG4gICAgdmFyIGlucHV0ID0gdGFyZ2V0LnF1ZXJ5U2VsZWN0b3IoJ2lucHV0Jyk7XG5cbiAgICBpZiAoaW5wdXQuZmlsZXMgJiYgaW5wdXQuZmlsZXNbMF0pIHtcbiAgICAgIGlucHV0LnZhbHVlID0gJyc7XG5cbiAgICAgIGlmICghL3NhZmFyaS9pLnRlc3QobmF2aWdhdG9yLnVzZXJBZ2VudCkpIHtcbiAgICAgICAgaW5wdXQudHlwZSA9ICcnO1xuICAgICAgICBpbnB1dC50eXBlID0gJ2ZpbGUnO1xuICAgICAgfSAvLyBmaWxlUmVzdWx0LmNsYXNzTGlzdC5yZW1vdmUoJ3Nob3cnKTtcbiAgICAgIC8vIGZpbGVOYW1lLnRleHRDb250ZW50ID0gJyc7XG4gICAgICAvLyBmaWxlSW1nLnJlbW92ZUF0dHJpYnV0ZSgnc3JjJyk7XG5cbiAgICB9XG5cbiAgICBpbnB1dC5maWxlcyA9IGZpbGVzO1xuICAgIG9uRmlsZURyb3AoaW5wdXQpOyAvL2hhbmRsZUZpbGVzKGZpbGVzKVxuICB9XG5cbiAgO1xuXG4gIGZ1bmN0aW9uIHNldElkcyhyZXN1bHQsIGlkeCkge1xuICAgIHJlc3VsdC5wYXJlbnRzKCcudXBsb2FkJykuZmluZCgnLnVwbG9hZF9fbGFiZWwnKS5lYWNoKGZ1bmN0aW9uIChpZCwgZWxlbWVudCkge1xuICAgICAgaWYgKGlkID4gaWR4KSB7XG4gICAgICAgIHZhciBuZXdJZCA9IGlkIC0gMTtcbiAgICAgICAgJCh0aGlzKS5hdHRyKCdkYXRhLWlucHV0JywgbmV3SWQpO1xuICAgICAgICAkKHRoaXMpLmNoaWxkcmVuKCdpbnB1dCcpLmF0dHIoJ25hbWUnLCAnZmlsZS0nICsgbmV3SWQpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgJCh0aGlzKS5hdHRyKCdkYXRhLWlucHV0JywgaWQpO1xuICAgICAgICAkKHRoaXMpLmNoaWxkcmVuKCdpbnB1dCcpLmF0dHIoJ25hbWUnLCAnZmlsZS0nICsgaWQpO1xuICAgICAgfVxuICAgIH0pO1xuICAgIHJlc3VsdC5wYXJlbnRzKCcudXBsb2FkJykuZmluZCgnLnVwbG9hZF9fcmVzdWx0JykuZWFjaChmdW5jdGlvbiAoaWQsIGVsZW1lbnQpIHtcbiAgICAgIGlmIChpZCA+IGlkeCkge1xuICAgICAgICAkKHRoaXMpLmF0dHIoJ2RhdGEtcmVzdWx0JywgaWQgLSAxKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgICQodGhpcykuYXR0cignZGF0YS1yZXN1bHQnLCBpZCk7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cblxuICA7XG5cbiAgZnVuY3Rpb24gb25GaWxlQ2xlYXIoZSkge1xuICAgIHZhciAkdGFyZ2V0ID0gJChlLmN1cnJlbnRUYXJnZXQpO1xuICAgIHZhciAkcmVzdWx0ID0gJHRhcmdldC5wYXJlbnRzKCcudXBsb2FkX19yZXN1bHQnKTtcbiAgICB2YXIgJGlkeCA9ICRyZXN1bHQuYXR0cignZGF0YS1yZXN1bHQnKTtcbiAgICB2YXIgJGxhYmVsID0gJHJlc3VsdC5wYXJlbnRzKCcudXBsb2FkJykuZmluZChcIltkYXRhLWlucHV0PSdcIiArICRpZHggKyBcIiddXCIpO1xuICAgIHZhciBpbnB1dCA9ICRsYWJlbC5jaGlsZHJlbignaW5wdXQnKVswXTtcbiAgICB2YXIgJGJsb2NrID0gJHRhcmdldC5wYXJlbnRzKCcudXBsb2FkJyk7XG5cbiAgICBpZiAoJGJsb2NrLmhhc0NsYXNzKCdtdWx0aScpKSB7XG4gICAgICBzZXRJZHMoJHJlc3VsdCwgJGlkeCk7XG4gICAgICAkcmVzdWx0LnJlbW92ZSgpO1xuICAgICAgJGxhYmVsLnJlbW92ZSgpO1xuICAgIH0gZWxzZSB7XG4gICAgICBpbnB1dC52YWx1ZSA9ICcnO1xuXG4gICAgICBpZiAoIS9zYWZhcmkvaS50ZXN0KG5hdmlnYXRvci51c2VyQWdlbnQpKSB7XG4gICAgICAgIGlucHV0LnR5cGUgPSAnJztcbiAgICAgICAgaW5wdXQudHlwZSA9ICdmaWxlJztcbiAgICAgIH1cblxuICAgICAgJGxhYmVsLnJlbW92ZUNsYXNzKCdoaWRkZW4nKTtcbiAgICAgICRyZXN1bHQucmVtb3ZlQ2xhc3MoJ3Nob3cnKTtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBhZGRFdmVudExpc3RlbmVycygkaW5wdXRMYWJlbCwgJHJlc3VsdCkge1xuICAgIC8vIGNvbnN0IGZpbGVMYWJlbCA9ICQoYmxvY2spLmZpbmQoXCJbZGF0YS1pbnB1dD0nXCIgKyBpZHggK1wiJ11cIilbMF07XG4gICAgLy8gY29uc3QgZmlsZUlucHV0ID0gJChmaWxlTGFiZWwpLmZpbmQoJ2lucHV0JylbMF07XG4gICAgLy8gY29uc3QgZmlsZVJlc3VsdCA9ICQoYmxvY2spLmZpbmQoXCJbZGF0YS1yZXN1bHQ9J1wiICsgaWR4ICtcIiddXCIpWzBdO1xuICAgIC8vIGNvbnN0IGZpbGVDbGVhckJ0biA9ICQoZmlsZVJlc3VsdCkuZmluZCgnLnVwbG9hZF9fY2xvc2UnKVswXTtcbiAgICB2YXIgaW5wdXQgPSAkaW5wdXRMYWJlbC5jaGlsZHJlbignaW5wdXQnKVswXTtcbiAgICB2YXIgaW5wdXRMYWJlbCA9ICRpbnB1dExhYmVsWzBdO1xuICAgIHZhciBmaWxlQ2xlYXJCdG4gPSAkcmVzdWx0LmZpbmQoJy51cGxvYWRfX2Nsb3NlJylbMF07XG4gICAgWydkcmFnZW50ZXInLCAnZHJhZ292ZXInLCAnZHJhZ2xlYXZlJywgJ2Ryb3AnXS5mb3JFYWNoKGZ1bmN0aW9uIChldmVudE5hbWUpIHtcbiAgICAgIGlucHV0TGFiZWwuYWRkRXZlbnRMaXN0ZW5lcihldmVudE5hbWUsIHByZXZlbnREZWZhdWx0cywgZmFsc2UpO1xuICAgIH0pO1xuICAgIFsnZHJhZ2VudGVyJywgJ2RyYWdvdmVyJ10uZm9yRWFjaChmdW5jdGlvbiAoZXZlbnROYW1lKSB7XG4gICAgICBpbnB1dExhYmVsLmFkZEV2ZW50TGlzdGVuZXIoZXZlbnROYW1lLCBoaWdobGlnaHQsIGZhbHNlKTtcbiAgICB9KTtcbiAgICBbJ2RyYWdsZWF2ZScsICdkcm9wJ10uZm9yRWFjaChmdW5jdGlvbiAoZXZlbnROYW1lKSB7XG4gICAgICBpbnB1dExhYmVsLmFkZEV2ZW50TGlzdGVuZXIoZXZlbnROYW1lLCB1bmhpZ2hsaWdodCwgZmFsc2UpO1xuICAgIH0pO1xuICAgIGlucHV0TGFiZWwuYWRkRXZlbnRMaXN0ZW5lcignZHJvcCcsIGhhbmRsZURyb3AsIGZhbHNlKTtcbiAgICBpbnB1dC5hZGRFdmVudExpc3RlbmVyKCdjaGFuZ2UnLCBvbkZpbGVDaGFuZ2UpO1xuICAgIGZpbGVDbGVhckJ0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIG9uRmlsZUNsZWFyKTtcbiAgfSAvLyBmdW5jdGlvbiByZW1vdmVFdmVudExpc3RlbmVycyhibG9jaywgaWR4KSB7XG4gIC8vICAgY29uc3QgZmlsZUxhYmVsID0gJChibG9jaykuZmluZChcIltkYXRhLWlucHV0PSdcIiArIGlkeCArXCInXVwiKVswXTtcbiAgLy8gICBjb25zdCBmaWxlSW5wdXQgPSAkKGZpbGVMYWJlbCkuZmluZCgnaW5wdXQnKVswXTtcbiAgLy8gICBbJ2RyYWdlbnRlcicsICdkcmFnb3ZlcicsICdkcmFnbGVhdmUnLCAnZHJvcCddLmZvckVhY2goZXZlbnROYW1lID0+IHtcbiAgLy8gICAgIGZpbGVMYWJlbC5yZW1vdmVFdmVudExpc3RlbmVyKGV2ZW50TmFtZSwgcHJldmVudERlZmF1bHRzLCBmYWxzZSlcbiAgLy8gICB9KTtcbiAgLy8gICBbJ2RyYWdlbnRlcicsICdkcmFnb3ZlciddLmZvckVhY2goZXZlbnROYW1lID0+IHtcbiAgLy8gICAgIGZpbGVMYWJlbC5yZW1vdmVFdmVudExpc3RlbmVyKGV2ZW50TmFtZSwgaGlnaGxpZ2h0LCBmYWxzZSlcbiAgLy8gICB9KTtcbiAgLy8gICBbJ2RyYWdsZWF2ZScsICdkcm9wJ10uZm9yRWFjaChldmVudE5hbWUgPT4ge1xuICAvLyAgICAgZmlsZUxhYmVsLnJlbW92ZUV2ZW50TGlzdGVuZXIoZXZlbnROYW1lLCB1bmhpZ2hsaWdodCwgZmFsc2UpXG4gIC8vICAgfSlcbiAgLy8gICBmaWxlTGFiZWwucmVtb3ZlRXZlbnRMaXN0ZW5lcignZHJvcCcsIGhhbmRsZURyb3AsIGZhbHNlKTtcbiAgLy8gICBmaWxlSW5wdXQucmVtb3ZlRXZlbnRMaXN0ZW5lcignY2hhbmdlJywgb25GaWxlQ2hhbmdlKTtcbiAgLy8gfVxuXG5cbiAgdXBsb2Fkcy5mb3JFYWNoKGZ1bmN0aW9uICh1cGxvYWQpIHtcbiAgICB2YXIgJGlucHV0TGFiZWwgPSAkKHVwbG9hZCkuZmluZCgnLnVwbG9hZF9fbGFiZWwnKTtcbiAgICB2YXIgJHJlc3VsdCA9ICQodXBsb2FkKS5maW5kKCcudXBsb2FkX19yZXN1bHQnKTtcblxuICAgIGlmICghJCh1cGxvYWQpLmhhc0NsYXNzKCdkaXNhYmxlZCcpKSB7XG4gICAgICBhZGRFdmVudExpc3RlbmVycygkaW5wdXRMYWJlbCwgJHJlc3VsdCk7XG4gICAgfSAvLyAvLyDQodCx0YDQsNGB0YvQstCw0LXQvCDRgdGC0LDQvdC00LDRgNGC0L3Ri9C1INGB0L7QsdGL0YLQuNGPINC/0YDQuCDQv9C10YDQtdGC0LDRgdC60LjQstCw0L3QuNC4INGE0LDQudC70LBcbiAgICAvLyBbJ2RyYWdlbnRlcicsICdkcmFnb3ZlcicsICdkcmFnbGVhdmUnLCAnZHJvcCddLmZvckVhY2goZXZlbnROYW1lID0+IHtcbiAgICAvLyAgIGZpbGVMYWJlbC5hZGRFdmVudExpc3RlbmVyKGV2ZW50TmFtZSwgcHJldmVudERlZmF1bHRzLCBmYWxzZSlcbiAgICAvLyB9KTtcbiAgICAvLyAvLyDQlNC+0LHQsNCy0LvRj9C10Lwg0YHRgtC40LvQuCDQv9GA0Lgg0L/QtdGA0LXRgtCw0YHQutC40LLQsNC90LjQuCDRhNCw0LnQu9CwINC90LDQtCDQvdGD0LbQvdC+0Lkg0L7QsdC70LDRgdGC0YzRjlxuICAgIC8vIFsnZHJhZ2VudGVyJywgJ2RyYWdvdmVyJ10uZm9yRWFjaChldmVudE5hbWUgPT4ge1xuICAgIC8vICAgZmlsZUxhYmVsLmFkZEV2ZW50TGlzdGVuZXIoZXZlbnROYW1lLCBoaWdobGlnaHQsIGZhbHNlKVxuICAgIC8vIH0pO1xuICAgIC8vIFsnZHJhZ2xlYXZlJywgJ2Ryb3AnXS5mb3JFYWNoKGV2ZW50TmFtZSA9PiB7XG4gICAgLy8gICBmaWxlTGFiZWwuYWRkRXZlbnRMaXN0ZW5lcihldmVudE5hbWUsIHVuaGlnaGxpZ2h0LCBmYWxzZSlcbiAgICAvLyB9KVxuICAgIC8vIC8vXG4gICAgLy8gZmlsZUxhYmVsLmFkZEV2ZW50TGlzdGVuZXIoJ2Ryb3AnLCBoYW5kbGVEcm9wLCBmYWxzZSk7XG4gICAgLy8gZmlsZUlucHV0LmFkZEV2ZW50TGlzdGVuZXIoJ2NoYW5nZScsIG9uRmlsZUNoYW5nZSk7XG5cbiAgfSk7XG59KSgpO1xuXG4oZnVuY3Rpb24gKCkge1xuICAvLyB2YXIgRGVmYXVsdHMgPSAkLmZuLnNlbGVjdDIuYW1kLnJlcXVpcmUoJ3NlbGVjdDIvZGVmYXVsdHMnKTtcbiAgLy8gJC5leHRlbmQoRGVmYXVsdHMuZGVmYXVsdHMsIHtcbiAgLy8gICAgIHNlYXJjaElucHV0UGxhY2Vob2xkZXI6ICcnXG4gIC8vIH0pO1xuICAvLyB2YXIgU2VhcmNoRHJvcGRvd24gPSAkLmZuLnNlbGVjdDIuYW1kLnJlcXVpcmUoJ3NlbGVjdDIvZHJvcGRvd24vc2VhcmNoJyk7XG4gIC8vIHZhciBfcmVuZGVyU2VhcmNoRHJvcGRvd24gPSBTZWFyY2hEcm9wZG93bi5wcm90b3R5cGUucmVuZGVyO1xuICAvLyBTZWFyY2hEcm9wZG93bi5wcm90b3R5cGUucmVuZGVyID0gZnVuY3Rpb24oZGVjb3JhdGVkKSB7XG4gIC8vICAgICAvLyBpbnZva2UgcGFyZW50IG1ldGhvZFxuICAvLyAgICAgdmFyICRyZW5kZXJlZCA9IF9yZW5kZXJTZWFyY2hEcm9wZG93bi5hcHBseSh0aGlzLCBBcnJheS5wcm90b3R5cGUuc2xpY2UuYXBwbHkoYXJndW1lbnRzKSk7XG4gIC8vICAgICB0aGlzLiRzZWFyY2guYXR0cigncGxhY2Vob2xkZXInLCB0aGlzLm9wdGlvbnMuZ2V0KCdzZWFyY2hJbnB1dFBsYWNlaG9sZGVyJykpO1xuICAvLyAgICAgcmV0dXJuICRyZW5kZXJlZDtcbiAgLy8gfTtcbiAgJCgnPGRpdi8+Jywge1xuICAgICdjbGFzcyc6ICdwcmVsb2FkZXInXG4gIH0pLmNzcyh7XG4gICAgJ3Bvc2l0aW9uJzogJ2ZpeGVkJyxcbiAgICAndG9wJzogJzAnLFxuICAgICdsZWZ0JzogJzAnLFxuICAgICd3aWR0aCc6ICcxMDB2dycsXG4gICAgJ2hlaWdodCc6ICcxMDB2aCcsXG4gICAgJ2JhY2tncm91bmQtY29sb3InOiAnI2ZmZicsXG4gICAgJ3otaW5kZXgnOiAnMzAwMCdcbiAgfSkuYXBwZW5kVG8oJ2h0bWwnKTtcblxuICB2YXIgY2hlY2tJbnB1dCA9IGZ1bmN0aW9uIGNoZWNrSW5wdXQoZSkge1xuICAgIGlmIChlLnRhcmdldC52YWx1ZS5sZW5ndGggPiAwKSB7XG4gICAgICAkKGUudGFyZ2V0KS5hZGRDbGFzcygnaW5wdXRlZCcpO1xuICAgIH0gZWxzZSB7XG4gICAgICAkKGUudGFyZ2V0KS5yZW1vdmVDbGFzcygnaW5wdXRlZCcpO1xuICAgIH1cbiAgfTtcblxuICAkKGRvY3VtZW50KS5yZWFkeShmdW5jdGlvbiAoKSB7XG4gICAgJCgnLmpzLXNlbGVjdC1jb21ibycpLnNlbGVjdDIoe1xuICAgICAgLy9taW5pbXVtUmVzdWx0c0ZvclNlYXJjaDogSW5maW5pdHlcbiAgICAgIHBsYWNlaG9sZGVyOiBcItCS0LLQtdC00LjRgtC1INC40LvQuCDQstGL0LHQtdGA0LjRgtC1INCy0LDRgNC40LDQvdGCXCIsXG4gICAgICBkcm9wZG93bkNzc0NsYXNzOiAnc2VsZWN0LWRyb3Bkb3duJyxcbiAgICAgIFwibGFuZ3VhZ2VcIjoge1xuICAgICAgICBcIm5vUmVzdWx0c1wiOiBmdW5jdGlvbiBub1Jlc3VsdHMoKSB7XG4gICAgICAgICAgcmV0dXJuICfQndC40YfQtdCz0L4g0L3QtSDQvdCw0LnQtNC10L3Qvic7XG4gICAgICAgIH0sXG4gICAgICAgIHNlYXJjaGluZzogZnVuY3Rpb24gc2VhcmNoaW5nKCkge1xuICAgICAgICAgIHJldHVybiBcItCX0LDQs9GA0YPQt9C60LAuLi5cIjtcbiAgICAgICAgfVxuICAgICAgfSAvL3NlYXJjaElucHV0UGxhY2Vob2xkZXI6ICdNeSBjdXN0b20gcGxhY2Vob2xkZXIuLi4nXG5cbiAgICB9KTtcbiAgICAkKCcuanMtc2VsZWN0LWNvbWJvJykub24oJ3NlbGVjdDI6b3BlbicsIGZ1bmN0aW9uICgpIHtcbiAgICAgICQoJy5zZWxlY3QyLXNlYXJjaCBpbnB1dCcpLm9mZignaW5wdXQnLCBjaGVja0lucHV0KTtcbiAgICAgICQoJy5zZWxlY3QyLXNlYXJjaCBpbnB1dCcpLm9uKCdpbnB1dCcsIGNoZWNrSW5wdXQpO1xuICAgIH0pO1xuICAgICQoJy5qcy1zZWxlY3QtY29tYm8nKS5vbignc2VsZWN0MjpjbG9zaW5nJywgZnVuY3Rpb24gKCkge1xuICAgICAgJCgnLnNlbGVjdDItc2VhcmNoIGlucHV0JykucmVtb3ZlQ2xhc3MoJ2lucHV0ZWQnKTtcbiAgICB9KTtcbiAgICAkKCcuanMtc2VsZWN0LWNvbWJvLW9wZW4nKS5zZWxlY3QyKHtcbiAgICAgIC8vbWluaW11bVJlc3VsdHNGb3JTZWFyY2g6IEluZmluaXR5XG4gICAgICBwbGFjZWhvbGRlcjogXCLQktCy0LXQtNC40YLQtSDQuNC70Lgg0LLRi9Cx0LXRgNC40YLQtSDQstCw0YDQuNCw0L3RglwiLFxuICAgICAgZHJvcGRvd25Dc3NDbGFzczogWydzZWxlY3QtZHJvcGRvd24nLCAnc2VsZWN0LWRyb3Bkb3duLW11bHRpJywgJ3NlbGVjdC1kcm9wZG93bi0tb3BlbmVkJ10sXG4gICAgICBcImxhbmd1YWdlXCI6IHtcbiAgICAgICAgXCJub1Jlc3VsdHNcIjogZnVuY3Rpb24gbm9SZXN1bHRzKCkge1xuICAgICAgICAgIHJldHVybiAn0J3QuNGH0LXQs9C+INC90LUg0L3QsNC50LTQtdC90L4nO1xuICAgICAgICB9LFxuICAgICAgICBzZWFyY2hpbmc6IGZ1bmN0aW9uIHNlYXJjaGluZygpIHtcbiAgICAgICAgICByZXR1cm4gXCLQl9Cw0LPRgNGD0LfQutCwLi4uXCI7XG4gICAgICAgIH1cbiAgICAgIH0gLy9zZWFyY2hJbnB1dFBsYWNlaG9sZGVyOiAnTXkgY3VzdG9tIHBsYWNlaG9sZGVyLi4uJ1xuXG4gICAgfSkub24oXCJzZWxlY3QyOmNsb3NpbmdcIiwgZnVuY3Rpb24gKGUpIHtcbiAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICB9KS5vbihcInNlbGVjdDI6Y2xvc2VkXCIsIGZ1bmN0aW9uIChlKSB7XG4gICAgICBsaXN0LnNlbGVjdDIoXCJvcGVuXCIpO1xuICAgIH0pO1xuICAgICQoJy5qcy1zZWxlY3QtY29tYm8tb3BlbicpLnNlbGVjdDIoJ29wZW4nKTtcbiAgICAkKCcuc2VsZWN0LWRyb3Bkb3duLW11bHRpIGlucHV0Jykub24oJ2lucHV0JywgY2hlY2tJbnB1dCk7XG4gICAgJCgnLmpzLXNlbGVjdC1jb21iby1zZWFyY2hpbmcnKS5zZWxlY3QyKHtcbiAgICAgIC8vbWluaW11bVJlc3VsdHNGb3JTZWFyY2g6IEluZmluaXR5XG4gICAgICBwbGFjZWhvbGRlcjogXCLQktCy0LXQtNC40YLQtSDQuNC70Lgg0LLRi9Cx0LXRgNC40YLQtSDQstCw0YDQuNCw0L3RglwiLFxuICAgICAgZHJvcGRvd25Dc3NDbGFzczogWydzZWxlY3QtZHJvcGRvd24nLCAnc2VsZWN0LWRyb3Bkb3duLS1vcGVuZWQnLCAnc2VsZWN0LWRyb3Bkb3duLS1zZWFyY2hpbmcnXSxcbiAgICAgIFwibGFuZ3VhZ2VcIjoge1xuICAgICAgICBcIm5vUmVzdWx0c1wiOiBmdW5jdGlvbiBub1Jlc3VsdHMoKSB7XG4gICAgICAgICAgcmV0dXJuICfQndC40YfQtdCz0L4g0L3QtSDQvdCw0LnQtNC10L3Qvic7XG4gICAgICAgIH0sXG4gICAgICAgIHNlYXJjaGluZzogZnVuY3Rpb24gc2VhcmNoaW5nKCkge1xuICAgICAgICAgIHJldHVybiBcItCX0LDQs9GA0YPQt9C60LAuLi5cIjtcbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIGFqYXg6IHtcbiAgICAgICAgZGVsYXk6IDUwMDAwMDAwMCxcbiAgICAgICAgdXJsOiAnaHR0cHM6Ly9hbnRpYnJlZXouZ2l0aHViLmlvL3NlbGVjdC1kYXRhL3NlbGVjdC1kYXRhLmpzb24nXG4gICAgICB9IC8vc2VhcmNoSW5wdXRQbGFjZWhvbGRlcjogJ015IGN1c3RvbSBwbGFjZWhvbGRlci4uLidcblxuICAgIH0pLm9uKFwic2VsZWN0MjpjbG9zaW5nXCIsIGZ1bmN0aW9uIChlKSB7XG4gICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgfSkub24oXCJzZWxlY3QyOmNsb3NlZFwiLCBmdW5jdGlvbiAoZSkge1xuICAgICAgbGlzdC5zZWxlY3QyKFwib3BlblwiKTtcbiAgICB9KTtcbiAgICB2YXIgZXZlbnQgPSBuZXcgRXZlbnQoJ2lucHV0Jywge1xuICAgICAgYnViYmxlczogdHJ1ZSxcbiAgICAgIGNhbmNlbGFibGU6IHRydWVcbiAgICB9KTtcbiAgICAkKCcuanMtc2VsZWN0LWNvbWJvLXNlYXJjaGluZycpLnNlbGVjdDIoJ29wZW4nKTtcbiAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgIGlmICgkKCcuc2VsZWN0LWRyb3Bkb3duLS1zZWFyY2hpbmcgaW5wdXQnKVswXSkge1xuICAgICAgICAkKCcuc2VsZWN0LWRyb3Bkb3duLS1zZWFyY2hpbmcgaW5wdXQnKVswXS5kaXNwYXRjaEV2ZW50KGV2ZW50KTtcbiAgICAgIH1cbiAgICB9LCA1MDApO1xuICAgICQoJy5qcy1zZWxlY3QtY29tYm8tbm90LWZvdW5kJykuc2VsZWN0Mih7XG4gICAgICAvL21pbmltdW1SZXN1bHRzRm9yU2VhcmNoOiBJbmZpbml0eVxuICAgICAgZHJvcGRvd25Dc3NDbGFzczogWydzZWxlY3QtZHJvcGRvd24nLCAnc2VsZWN0LWRyb3Bkb3duLS1vcGVuZWQnLCAnc2VsZWN0LWRyb3Bkb3duLS1ub3QtZm91bmQnXSxcbiAgICAgIFwibGFuZ3VhZ2VcIjoge1xuICAgICAgICBcIm5vUmVzdWx0c1wiOiBmdW5jdGlvbiBub1Jlc3VsdHMoKSB7XG4gICAgICAgICAgcmV0dXJuICfQndC40YfQtdCz0L4g0L3QtSDQvdCw0LnQtNC10L3Qvic7XG4gICAgICAgIH0sXG4gICAgICAgIHNlYXJjaGluZzogZnVuY3Rpb24gc2VhcmNoaW5nKCkge1xuICAgICAgICAgIHJldHVybiBcItCX0LDQs9GA0YPQt9C60LAuLi5cIjtcbiAgICAgICAgfVxuICAgICAgfSAvL3NlYXJjaElucHV0UGxhY2Vob2xkZXI6ICdNeSBjdXN0b20gcGxhY2Vob2xkZXIuLi4nXG5cbiAgICB9KS5vbihcInNlbGVjdDI6Y2xvc2luZ1wiLCBmdW5jdGlvbiAoZSkge1xuICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIH0pLm9uKFwic2VsZWN0MjpjbG9zZWRcIiwgZnVuY3Rpb24gKGUpIHtcbiAgICAgIGxpc3Quc2VsZWN0MihcIm9wZW5cIik7XG4gICAgfSk7XG4gICAgJCgnLmpzLXNlbGVjdC1jb21iby1ub3QtZm91bmQnKS5zZWxlY3QyKCdvcGVuJyk7XG4gICAgJCgnLnNlbGVjdC1kcm9wZG93bi0tbm90LWZvdW5kIGlucHV0JykudmFsKCfRhNGL0LLQsNC/0LAnKTtcblxuICAgIGlmICgkKCcuc2VsZWN0LWRyb3Bkb3duLS1ub3QtZm91bmQgaW5wdXQnKVswXSkge1xuICAgICAgJCgnLnNlbGVjdC1kcm9wZG93bi0tbm90LWZvdW5kIGlucHV0JylbMF0uZGlzcGF0Y2hFdmVudChldmVudCk7XG4gICAgfVxuXG4gICAgJCgnLmpzLXNlbGVjdC1zaW5nbGUnKS5zZWxlY3QyKHtcbiAgICAgIHBsYWNlaG9sZGVyOiBcItCS0YvQsdC10YDQuNGC0LUg0LLQsNGA0LjQsNC90YJcIixcbiAgICAgIG1pbmltdW1SZXN1bHRzRm9yU2VhcmNoOiBJbmZpbml0eSxcbiAgICAgIGRyb3Bkb3duQ3NzQ2xhc3M6IFsnc2VsZWN0LWRyb3Bkb3duJywgJ3NlbGVjdC1kcm9wZG93bi0tc2luZ2xlJ11cbiAgICB9KTtcbiAgICB2YXIgbGlzdCA9ICQoXCIuanMtc2VsZWN0LXNpbmdsZS1vcGVuXCIpLnNlbGVjdDIoe1xuICAgICAgcGxhY2Vob2xkZXI6IFwi0JLRi9Cx0LXRgNC40YLQtSDQstCw0YDQuNCw0L3RglwiLFxuICAgICAgbWluaW11bVJlc3VsdHNGb3JTZWFyY2g6IEluZmluaXR5LFxuICAgICAgZHJvcGRvd25Dc3NDbGFzczogWydzZWxlY3QtZHJvcGRvd24nLCAnc2VsZWN0LWRyb3Bkb3duLS1zaW5nbGUnLCAnc2VsZWN0LWRyb3Bkb3duLS1vcGVuZWQnXSxcbiAgICAgIGNsb3NlT25TZWxlY3Q6IGZhbHNlXG4gICAgfSkub24oXCJzZWxlY3QyOmNsb3NpbmdcIiwgZnVuY3Rpb24gKGUpIHtcbiAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICB9KS5vbihcInNlbGVjdDI6Y2xvc2VkXCIsIGZ1bmN0aW9uIChlKSB7XG4gICAgICBsaXN0LnNlbGVjdDIoXCJvcGVuXCIpO1xuICAgIH0pO1xuICAgIGxpc3Quc2VsZWN0Mignb3BlbicpO1xuICAgICQoJy5qcy1zZWxlY3QtbXVsdGknKS5zZWxlY3QyKHtcbiAgICAgIC8vbWluaW11bVJlc3VsdHNGb3JTZWFyY2g6IEluZmluaXR5XG4gICAgICBwbGFjZWhvbGRlcjogXCLQktGL0LHQtdGA0LjRgtC1INCy0LDRgNC40LDQvdGC0YtcIixcbiAgICAgIGRyb3Bkb3duQ3NzQ2xhc3M6IFsnc2VsZWN0LWRyb3Bkb3duJywgJ3NlbGVjdC1kcm9wZG93bi1tdWx0aSddLFxuICAgICAgXCJsYW5ndWFnZVwiOiB7XG4gICAgICAgIFwibm9SZXN1bHRzXCI6IGZ1bmN0aW9uIG5vUmVzdWx0cygpIHtcbiAgICAgICAgICByZXR1cm4gJ9Cd0LjRh9C10LPQviDQvdC1INC90LDQudC00LXQvdC+JztcbiAgICAgICAgfSxcbiAgICAgICAgc2VhcmNoaW5nOiBmdW5jdGlvbiBzZWFyY2hpbmcoKSB7XG4gICAgICAgICAgcmV0dXJuIFwi0JfQsNCz0YDRg9C30LrQsC4uLlwiO1xuICAgICAgICB9XG4gICAgICB9IC8vc2VhcmNoSW5wdXRQbGFjZWhvbGRlcjogJ015IGN1c3RvbSBwbGFjZWhvbGRlci4uLidcblxuICAgIH0pO1xuICAgICQoJy5qcy1zZWxlY3QtbXVsdGknKS5vbignc2VsZWN0MjpvcGVuJywgZnVuY3Rpb24gKCkge1xuICAgICAgJCgnLnNlbGVjdDItc2VhcmNoIGlucHV0Jykub2ZmKCdpbnB1dCcsIGNoZWNrSW5wdXQpO1xuICAgICAgJCgnLnNlbGVjdDItc2VhcmNoIGlucHV0Jykub24oJ2lucHV0JywgY2hlY2tJbnB1dCk7XG4gICAgfSk7XG4gICAgJCgnLmpzLXNlbGVjdC1tdWx0aScpLm9uKCdzZWxlY3QyOmNsb3NpbmcnLCBmdW5jdGlvbiAoKSB7XG4gICAgICAkKCcuc2VsZWN0Mi1zZWFyY2ggaW5wdXQnKS5yZW1vdmVDbGFzcygnaW5wdXRlZCcpO1xuICAgIH0pO1xuICAgICQoJy5qcy1zZWxlY3QtbXVsdGktb3BlbicpLnNlbGVjdDIoe1xuICAgICAgLy9taW5pbXVtUmVzdWx0c0ZvclNlYXJjaDogSW5maW5pdHlcbiAgICAgIHBsYWNlaG9sZGVyOiBcItCS0YvQsdC10YDQuNGC0LUg0LLQsNGA0LjQsNC90YLRi1wiLFxuICAgICAgbWF4aW11bVNlbGVjdGlvbkxlbmd0aDogMyxcbiAgICAgIGRyb3Bkb3duQ3NzQ2xhc3M6IFsnc2VsZWN0LWRyb3Bkb3duJywgJ3NlbGVjdC1kcm9wZG93bi0tb3BlbmVkJywgJ3NlbGVjdC1kcm9wZG93bi1tdWx0aSddLFxuICAgICAgXCJsYW5ndWFnZVwiOiB7XG4gICAgICAgIFwibm9SZXN1bHRzXCI6IGZ1bmN0aW9uIG5vUmVzdWx0cygpIHtcbiAgICAgICAgICByZXR1cm4gJ9Cd0LjRh9C10LPQviDQvdC1INC90LDQudC00LXQvdC+JztcbiAgICAgICAgfSxcbiAgICAgICAgc2VhcmNoaW5nOiBmdW5jdGlvbiBzZWFyY2hpbmcoKSB7XG4gICAgICAgICAgcmV0dXJuIFwi0JfQsNCz0YDRg9C30LrQsC4uLlwiO1xuICAgICAgICB9LFxuICAgICAgICBtYXhpbXVtU2VsZWN0ZWQ6IGZ1bmN0aW9uIG1heGltdW1TZWxlY3RlZChlKSB7XG4gICAgICAgICAgcmV0dXJuIFwi0JzQsNC60YEuINC60L7Qu9C40YfQtdGB0YLQstC+INCy0LDRgNC40LDQvdGC0L7QsiAtIFwiICsgZS5tYXhpbXVtO1xuICAgICAgICB9XG4gICAgICB9IC8vc2VhcmNoSW5wdXRQbGFjZWhvbGRlcjogJ015IGN1c3RvbSBwbGFjZWhvbGRlci4uLidcblxuICAgIH0pLm9uKFwic2VsZWN0MjpjbG9zaW5nXCIsIGZ1bmN0aW9uIChlKSB7XG4gICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgfSkub24oXCJzZWxlY3QyOmNsb3NlZFwiLCBmdW5jdGlvbiAoZSkge1xuICAgICAgbGlzdC5zZWxlY3QyKFwib3BlblwiKTtcbiAgICB9KTtcbiAgICAkKCcuanMtc2VsZWN0LW11bHRpLW9wZW4nKS5zZWxlY3QyKCdvcGVuJyk7XG4gICAgJCgnLmpzLXNlbGVjdC1tdWx0aS1zZWFyY2hpbmcnKS5zZWxlY3QyKHtcbiAgICAgIC8vbWluaW11bVJlc3VsdHNGb3JTZWFyY2g6IEluZmluaXR5XG4gICAgICBwbGFjZWhvbGRlcjogXCLQktGL0LHQtdGA0LjRgtC1INCy0LDRgNC40LDQvdGC0YtcIixcbiAgICAgIGRyb3Bkb3duQ3NzQ2xhc3M6IFsnc2VsZWN0LWRyb3Bkb3duJywgJ3NlbGVjdC1kcm9wZG93bi0tb3BlbmVkJywgJ3NlbGVjdC1kcm9wZG93bi0tc2VhcmNoaW5nLW11bHRpJ10sXG4gICAgICBcImxhbmd1YWdlXCI6IHtcbiAgICAgICAgXCJub1Jlc3VsdHNcIjogZnVuY3Rpb24gbm9SZXN1bHRzKCkge1xuICAgICAgICAgIHJldHVybiAn0J3QuNGH0LXQs9C+INC90LUg0L3QsNC50LTQtdC90L4nO1xuICAgICAgICB9LFxuICAgICAgICBzZWFyY2hpbmc6IGZ1bmN0aW9uIHNlYXJjaGluZygpIHtcbiAgICAgICAgICByZXR1cm4gXCLQl9Cw0LPRgNGD0LfQutCwLi4uXCI7XG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICBhamF4OiB7XG4gICAgICAgIGRlbGF5OiA1MDAwMDAwMDAsXG4gICAgICAgIHVybDogJ2h0dHBzOi8vYW50aWJyZWV6LmdpdGh1Yi5pby9zZWxlY3QtZGF0YS9zZWxlY3QtZGF0YS5qc29uJ1xuICAgICAgfSAvL3NlYXJjaElucHV0UGxhY2Vob2xkZXI6ICdNeSBjdXN0b20gcGxhY2Vob2xkZXIuLi4nXG5cbiAgICB9KS5vbihcInNlbGVjdDI6Y2xvc2luZ1wiLCBmdW5jdGlvbiAoZSkge1xuICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIH0pLm9uKFwic2VsZWN0MjpjbG9zZWRcIiwgZnVuY3Rpb24gKGUpIHtcbiAgICAgIGxpc3Quc2VsZWN0MihcIm9wZW5cIik7XG4gICAgfSk7XG4gICAgdmFyIGV2ZW50ID0gbmV3IEV2ZW50KCdpbnB1dCcsIHtcbiAgICAgIGJ1YmJsZXM6IHRydWUsXG4gICAgICBjYW5jZWxhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgJCgnLmpzLXNlbGVjdC1tdWx0aS1zZWFyY2hpbmcnKS5zZWxlY3QyKCdvcGVuJyk7XG4gICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICBpZiAoJCgnLnNlbGVjdC1kcm9wZG93bi0tc2VhcmNoaW5nLW11bHRpICBpbnB1dCcpWzBdKSB7XG4gICAgICAgICQoJy5zZWxlY3QtZHJvcGRvd24tLXNlYXJjaGluZy1tdWx0aSAgaW5wdXQnKVswXS5kaXNwYXRjaEV2ZW50KGV2ZW50KTtcbiAgICAgIH1cbiAgICB9LCA1MDApO1xuICAgICQoJy5qcy1zZWxlY3QtbXVsdGktbm90LWZvdW5kJykuc2VsZWN0Mih7XG4gICAgICAvL21pbmltdW1SZXN1bHRzRm9yU2VhcmNoOiBJbmZpbml0eVxuICAgICAgZHJvcGRvd25Dc3NDbGFzczogWydzZWxlY3QtZHJvcGRvd24nLCAnc2VsZWN0LWRyb3Bkb3duLS1vcGVuZWQnLCAnc2VsZWN0LWRyb3Bkb3duLS1ub3QtZm91bmQtbXVsdGknXSxcbiAgICAgIFwibGFuZ3VhZ2VcIjoge1xuICAgICAgICBcIm5vUmVzdWx0c1wiOiBmdW5jdGlvbiBub1Jlc3VsdHMoKSB7XG4gICAgICAgICAgcmV0dXJuICfQndC40YfQtdCz0L4g0L3QtSDQvdCw0LnQtNC10L3Qvic7XG4gICAgICAgIH0sXG4gICAgICAgIHNlYXJjaGluZzogZnVuY3Rpb24gc2VhcmNoaW5nKCkge1xuICAgICAgICAgIHJldHVybiBcItCX0LDQs9GA0YPQt9C60LAuLi5cIjtcbiAgICAgICAgfVxuICAgICAgfSAvL3NlYXJjaElucHV0UGxhY2Vob2xkZXI6ICdNeSBjdXN0b20gcGxhY2Vob2xkZXIuLi4nXG5cbiAgICB9KS5vbihcInNlbGVjdDI6Y2xvc2luZ1wiLCBmdW5jdGlvbiAoZSkge1xuICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIH0pLm9uKFwic2VsZWN0MjpjbG9zZWRcIiwgZnVuY3Rpb24gKGUpIHtcbiAgICAgIGxpc3Quc2VsZWN0MihcIm9wZW5cIik7XG4gICAgfSk7XG4gICAgJCgnLmpzLXNlbGVjdC1tdWx0aS1ub3QtZm91bmQnKS5zZWxlY3QyKCdvcGVuJyk7XG4gICAgJCgnLnNlbGVjdC1kcm9wZG93bi0tbm90LWZvdW5kLW11bHRpIGlucHV0JykudmFsKCfRhNGL0LLQsNC/0LAnKTtcbiAgICAkKCcuc2VsZWN0LWRyb3Bkb3duLS1ub3QtZm91bmQtbXVsdGkgaW5wdXQnKVswXSAmJiAkKCcuc2VsZWN0LWRyb3Bkb3duLS1ub3QtZm91bmQtbXVsdGkgaW5wdXQnKVswXS5kaXNwYXRjaEV2ZW50KGV2ZW50KTtcbiAgfSk7XG5cbiAgaWYgKCQoJy5tYWluLW5hdl9fbGluay0tYWN0aXZlJykudGV4dCgpID09ICfQpNC+0YDQvNGLJykge1xuICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgd2luZG93LnNjcm9sbFRvKDAsIDApO1xuICAgICAgJCgnLnByZWxvYWRlcicpLmhpZGUoKTtcbiAgICB9LCAxMDAwKTtcbiAgfSBlbHNlIHtcbiAgICAkKCcucHJlbG9hZGVyJykuaGlkZSgpO1xuICB9IC8vICQoJyN5b3VyLXNlbGVjdC1pZCcpLm9uZSgnc2VsZWN0MjpvcGVuJywgZnVuY3Rpb24oZSkge1xuICAvLyAgICQoJ2lucHV0LnNlbGVjdDItc2VhcmNoX19maWVsZCcpLnByb3AoJ3BsYWNlaG9sZGVyJywgJ2VudGVyIHVzZXJuYW1lIG9yIGNpdHknKTtcbiAgLy8gfSk7XG5cbn0pKCk7XG5cbihmdW5jdGlvbiAoKSB7XG4gIHZhciAkY2hlY2tib3ggPSAkKCcudGFibGUtLXBheW1lbnQgLmNoZWNrYm94X19pbnB1dCcpO1xuICAkY2hlY2tib3guY2hhbmdlKGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgJHJvdyA9ICQodGhpcykucGFyZW50cygndHInKTtcbiAgICAkcm93LnRvZ2dsZUNsYXNzKCdjaGVja2VkJyk7XG4gIH0pO1xufSkoKTsiLCIoZnVuY3Rpb24oKSB7XG4gICQoJy5hY2NvcmRpb25fX2J0bicpLmNsaWNrKGZ1bmN0aW9uKCkge1xuICAgICQodGhpcykuc2libGluZ3MoJy5hY2NvcmRpb25fX3RleHQnKS5zbGlkZVRvZ2dsZSgyMDApO1xuICAgICQodGhpcykudG9nZ2xlQ2xhc3MoJ29wZW5lZCcpO1xuICB9KTtcbn0pKCk7XG4iLCIoZnVuY3Rpb24oKSB7XG4gIGNvbnN0ICRidG4gPSAkKCcuZm9ybXNfX2J1dHRvbi1pdGVtLS1leGFtcGxlIC5mb3Jtc19fYnRuJyk7XG5cbiAgJGJ0bi5vbignY2xpY2snLCBmdW5jdGlvbigpIHtcbiAgICBjb25zdCAkYnRuID0gJCh0aGlzKTtcbiAgICAkYnRuLmFkZENsYXNzKCdsb2FkaW5nJyk7XG4gICAgJGJ0bi5hdHRyKCdkaXNhYmxlZCcsICd0cnVlJyk7XG5cbiAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xuICAgICAgJGJ0bi5yZW1vdmVDbGFzcygnbG9hZGluZycpXG4gICAgICAkYnRuLmFkZENsYXNzKCdzdWNjZXNzJylcbiAgICB9LCAyMDAwKTtcblxuICAgIHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7XG4gICAgICAkYnRuLnJlbW92ZUNsYXNzKCdzdWNjZXNzJylcbiAgICAgICRidG4ucmVtb3ZlQXR0cignZGlzYWJsZWQnKVxuICAgIH0sIDQwMDApO1xuICB9KTtcbn0pKCk7XG4iLCIoZnVuY3Rpb24oKSB7XG4gIGxldCBtb3VzZXVwID0gZmFsc2U7XG5cblxuICAkKCcuY2hlY2tib3gnKS5tb3VzZXVwKGZ1bmN0aW9uKGUpIHtcbiAgICBtb3VzZXVwID0gdHJ1ZTtcbiAgICAkKHRoaXMpLmZpbmQoJy5jaGVja2JveF9faW5wdXQnKS5yZW1vdmVDbGFzcygnZm9jdXNlZCcpO1xuICB9KTtcblxuICAkKCcuY2hlY2tib3hfX2lucHV0JykuZm9jdXMoZnVuY3Rpb24oZSkge1xuICAgICAgaWYgKCFtb3VzZXVwKSB7XG4gICAgICAgICQodGhpcykuYWRkQ2xhc3MoJ2ZvY3VzZWQnKTtcbiAgICAgIH1cbiAgICAgIG1vdXNldXAgPSBmYWxzZTtcbiAgfSk7XG5cbiAgJCgnLmNoZWNrYm94X19pbnB1dCcpLmJsdXIoZnVuY3Rpb24oZSkge1xuICAgICQodGhpcykucmVtb3ZlQ2xhc3MoJ2ZvY3VzZWQnKTtcbiAgfSk7XG59KSgpO1xuIiwiLyogUnVzc2lhbiAoVVRGLTgpIGluaXRpYWxpc2F0aW9uIGZvciB0aGUgalF1ZXJ5IFVJIGRhdGUgcGlja2VyIHBsdWdpbi4gKi9cbi8qIFdyaXR0ZW4gYnkgQW5kcmV3IFN0cm9tbm92IChzdHJvbW5vdkBnbWFpbC5jb20pLiAqL1xuKCBmdW5jdGlvbiggZmFjdG9yeSApIHtcblx0aWYgKCB0eXBlb2YgZGVmaW5lID09PSBcImZ1bmN0aW9uXCIgJiYgZGVmaW5lLmFtZCApIHtcblxuXHRcdC8vIEFNRC4gUmVnaXN0ZXIgYXMgYW4gYW5vbnltb3VzIG1vZHVsZS5cblx0XHRkZWZpbmUoIFsgXCIuLi93aWRnZXRzL2RhdGVwaWNrZXJcIiBdLCBmYWN0b3J5ICk7XG5cdH0gZWxzZSB7XG5cblx0XHQvLyBCcm93c2VyIGdsb2JhbHNcblx0XHRmYWN0b3J5KCBqUXVlcnkuZGF0ZXBpY2tlciApO1xuXHR9XG59KCBmdW5jdGlvbiggZGF0ZXBpY2tlciApIHtcblxuZGF0ZXBpY2tlci5yZWdpb25hbC5ydSA9IHtcblx0Y2xvc2VUZXh0OiBcItCX0LDQutGA0YvRgtGMXCIsXG5cdHByZXZUZXh0OiBcIiYjeDNDO9Cf0YDQtdC0XCIsXG5cdG5leHRUZXh0OiBcItCh0LvQtdC0JiN4M0U7XCIsXG5cdGN1cnJlbnRUZXh0OiBcItCh0LXQs9C+0LTQvdGPXCIsXG5cdG1vbnRoTmFtZXM6IFsgXCLQr9C90LLQsNGA0YxcIixcItCk0LXQstGA0LDQu9GMXCIsXCLQnNCw0YDRglwiLFwi0JDQv9GA0LXQu9GMXCIsXCLQnNCw0LlcIixcItCY0Y7QvdGMXCIsXG5cdFwi0JjRjtC70YxcIixcItCQ0LLQs9GD0YHRglwiLFwi0KHQtdC90YLRj9Cx0YDRjFwiLFwi0J7QutGC0Y/QsdGA0YxcIixcItCd0L7Rj9Cx0YDRjFwiLFwi0JTQtdC60LDQsdGA0YxcIiBdLFxuXHRtb250aE5hbWVzU2hvcnQ6IFsgXCLQr9C90LJcIixcItCk0LXQslwiLFwi0JzQsNGAXCIsXCLQkNC/0YBcIixcItCc0LDQuVwiLFwi0JjRjtC9XCIsXG5cdFwi0JjRjtC7XCIsXCLQkNCy0LNcIixcItCh0LXQvVwiLFwi0J7QutGCXCIsXCLQndC+0Y9cIixcItCU0LXQulwiIF0sXG5cdGRheU5hbWVzOiBbIFwi0LLQvtGB0LrRgNC10YHQtdC90YzQtVwiLFwi0L/QvtC90LXQtNC10LvRjNC90LjQulwiLFwi0LLRgtC+0YDQvdC40LpcIixcItGB0YDQtdC00LBcIixcItGH0LXRgtCy0LXRgNCzXCIsXCLQv9GP0YLQvdC40YbQsFwiLFwi0YHRg9Cx0LHQvtGC0LBcIiBdLFxuXHRkYXlOYW1lc1Nob3J0OiBbIFwi0LLRgdC6XCIsXCLQv9C90LRcIixcItCy0YLRgFwiLFwi0YHRgNC0XCIsXCLRh9GC0LJcIixcItC/0YLQvVwiLFwi0YHQsdGCXCIgXSxcblx0ZGF5TmFtZXNNaW46IFsgXCLQktGBXCIsXCLQn9C9XCIsXCLQktGCXCIsXCLQodGAXCIsXCLQp9GCXCIsXCLQn9GCXCIsXCLQodCxXCIgXSxcblx0d2Vla0hlYWRlcjogXCLQndC10LRcIixcblx0ZGF0ZUZvcm1hdDogXCJkZC5tbS55eVwiLFxuXHRmaXJzdERheTogMSxcblx0aXNSVEw6IGZhbHNlLFxuXHRzaG93TW9udGhBZnRlclllYXI6IGZhbHNlLFxuXHR5ZWFyU3VmZml4OiBcIlwiIH07XG5kYXRlcGlja2VyLnNldERlZmF1bHRzKCBkYXRlcGlja2VyLnJlZ2lvbmFsLnJ1ICk7XG5cbnJldHVybiBkYXRlcGlja2VyLnJlZ2lvbmFsLnJ1O1xuXG59ICkgKTtcbiIsIihmdW5jdGlvbiAoKSB7XG4gICQoJy5kcm9wZG93bjpub3QoLmRyb3Bkb3duLW9wZW5lZCcpLnNlbGVjdDIoe1xuICAgIG1pbmltdW1SZXN1bHRzRm9yU2VhcmNoOiBJbmZpbml0eSxcbiAgICBkcm9wZG93bkNzc0NsYXNzOiBbJ2NhbGVuZGFyLWRyb3Bkb3duJ10sXG4gIH0pO1xuXG4gICQoJy5kcm9wZG93bi1vcGVuZWQnKS5zZWxlY3QyKHtcbiAgICBtaW5pbXVtUmVzdWx0c0ZvclNlYXJjaDogSW5maW5pdHksXG4gICAgZHJvcGRvd25Dc3NDbGFzczogWydjYWxlbmRhci1kcm9wZG93bicsICdjYWxlbmRhci1kcm9wZG93bi1wZXJtYW5lbnQnXSxcbiAgfSkub24oXCJzZWxlY3QyOmNsb3NpbmdcIiwgZnVuY3Rpb24oZSkge1xuICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgfSkub24oXCJzZWxlY3QyOmNsb3NlZFwiLCBmdW5jdGlvbihlKSB7XG4gICAgbGlzdC5zZWxlY3QyKFwib3BlblwiKTtcbiAgfSk7XG5cbiAgJCgnLmRyb3Bkb3duJykub24oJ3NlbGVjdDI6Y2xvc2UnLCBmdW5jdGlvbigpIHtcbiAgICAkKHRoaXMpLm5leHQoKS5maW5kKCcuc2VsZWN0Mi1zZWxlY3Rpb24nKS5ibHVyKCk7XG4gIH0pO1xuXG4gICQoJy5kcm9wZG93biArIC5zZWxlY3QyIC5zZWxlY3QyLXNlbGVjdGlvbl9fcmVuZGVyZWQnKS5hdHRyKCd0YWJpbmRleCcsICctMScpO1xuICAkKCcuZHJvcGRvd24tb3BlbmVkJykuc2VsZWN0Mignb3BlbicpXG59KSgpO1xuIiwiKGZ1bmN0aW9uKCkge1xuICAkKCcuaGludC1wb3NpdGlvbnNfX3RpcC1pY29uJykub24oJ2NsaWNrJywgZnVuY3Rpb24oKSB7XG4gICAgJCh0aGlzKS5uZXh0KCkuYWRkQ2xhc3MoJ3Nob3cnKTtcbiAgfSk7XG5cbiAgJCgnLmhpbnRfX2Nsb3NlJykub24oJ2NsaWNrJywgZnVuY3Rpb24oKSB7XG4gICAgY29uc3QgaGludCA9ICQodGhpcykucGFyZW50KCk7XG5cbiAgICBpZiAoIWhpbnQuaGFzQ2xhc3MoJ2hpbnQtcGVybWFuZW50JykpIHtcbiAgICAgIGhpbnQucmVtb3ZlQ2xhc3MoJ3Nob3cnKTtcbiAgICB9XG4gIH0pO1xufSkoKTtcbiIsIihmdW5jdGlvbigpIHtcbiAgY29uc3Qgc2VsZWN0T3B0ID0ge1xuICAgIG1pbmltdW1SZXN1bHRzRm9yU2VhcmNoOiBJbmZpbml0eSxcbiAgICBkcm9wZG93bkNzc0NsYXNzOiAnY2FsZW5kYXItZHJvcGRvd24nXG4gIH07XG5cbiAgJCgnLmlucHV0LWRhdGUnKS5kYXRlcGlja2VyKHtcbiAgICBkYXRlRm9ybWF0OiAnZGQubW0ueXknLFxuICAgIHNob3dPdGhlck1vbnRoczogdHJ1ZSxcbiAgICByZWdpb25hbDogJ3J1JyxcbiAgICBtb250aE5hbWVzU2hvcnQ6IFsgXCLQr9C90LLQsNGA0YxcIixcItCk0LXQstGA0LDQu9GMXCIsXCLQnNCw0YDRglwiLFwi0JDQv9GA0LXQu9GMXCIsXCLQnNCw0LlcIixcItCY0Y7QvdGMXCIsXG4gICAgXCLQmNGO0LvRjFwiLFwi0JDQstCz0YPRgdGCXCIsXCLQodC10L3RgtGP0LHRgNGMXCIsXCLQntC60YLRj9Cx0YDRjFwiLFwi0J3QvtGP0LHRgNGMXCIsXCLQlNC10LrQsNCx0YDRjFwiIF0sXG4gICAgY2hhbmdlTW9udGg6IHRydWUsXG4gICAgY2hhbmdlWWVhcjogdHJ1ZSxcbiAgICB5ZWFyUmFuZ2U6ICcxOTAwOisxMCcsXG4gICAgYmVmb3JlU2hvdzogZnVuY3Rpb24oKSB7XG4gICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xuICAgICAgICAkKCcudWktZGF0ZXBpY2tlci1tb250aCcpLnNlbGVjdDIoc2VsZWN0T3B0KTtcbiAgICAgICAgJCgnLnVpLWRhdGVwaWNrZXIteWVhcicpLnNlbGVjdDIoc2VsZWN0T3B0KTtcbiAgICAgIH0sIDApO1xuICAgIH0sXG5cbiAgICBvbkNoYW5nZU1vbnRoWWVhcjogZnVuY3Rpb24oKSB7XG4gICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xuICAgICAgICAkKCcudWktZGF0ZXBpY2tlci1tb250aCcpLnNlbGVjdDIoc2VsZWN0T3B0KTtcbiAgICAgICAgJCgnLnVpLWRhdGVwaWNrZXIteWVhcicpLnNlbGVjdDIoc2VsZWN0T3B0KTtcbiAgICAgIH0sIDApO1xuICAgIH0sXG4gIH0pO1xuXG4gICQoJy5pbnB1dC1kYXRlLXRyaWdnZXInKS5kYXRlcGlja2VyKHtcbiAgICBkYXRlRm9ybWF0OiAnZGQubW0ueXknLFxuICAgIHNob3dPdGhlck1vbnRoczogdHJ1ZSxcbiAgICByZWdpb25hbDogJ3J1JyxcbiAgICBtb250aE5hbWVzU2hvcnQ6IFsgXCLQr9C90LLQsNGA0YxcIixcItCk0LXQstGA0LDQu9GMXCIsXCLQnNCw0YDRglwiLFwi0JDQv9GA0LXQu9GMXCIsXCLQnNCw0LlcIixcItCY0Y7QvdGMXCIsXG4gICAgXCLQmNGO0LvRjFwiLFwi0JDQstCz0YPRgdGCXCIsXCLQodC10L3RgtGP0LHRgNGMXCIsXCLQntC60YLRj9Cx0YDRjFwiLFwi0J3QvtGP0LHRgNGMXCIsXCLQlNC10LrQsNCx0YDRjFwiIF0sXG4gICAgY2hhbmdlTW9udGg6IHRydWUsXG4gICAgY2hhbmdlWWVhcjogdHJ1ZSxcbiAgICB5ZWFyUmFuZ2U6ICcxOTAwOisxMCcsXG5cbiAgICBvbkNoYW5nZU1vbnRoWWVhcjogZnVuY3Rpb24oKSB7XG4gICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xuICAgICAgICAkKCcudWktZGF0ZXBpY2tlci1tb250aCcpLnNlbGVjdDIoc2VsZWN0T3B0KTtcbiAgICAgICAgJCgnLnVpLWRhdGVwaWNrZXIteWVhcicpLnNlbGVjdDIoc2VsZWN0T3B0KTtcbiAgICAgIH0sIDApO1xuICAgIH0sXG5cbiAgICBvblNlbGVjdDogZnVuY3Rpb24oKSB7XG4gICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xuICAgICAgICAkKCcudWktZGF0ZXBpY2tlci1tb250aCcpLnNlbGVjdDIoc2VsZWN0T3B0KTtcbiAgICAgICAgJCgnLnVpLWRhdGVwaWNrZXIteWVhcicpLnNlbGVjdDIoc2VsZWN0T3B0KTtcbiAgICAgIH0sIDApO1xuICAgIH0sXG4gIH0pO1xuXG4gICQoJy5pbnB1dC1kYXRlLXRyaWdnZXItc2luZ2xlJykuZGF0ZXBpY2tlcih7XG4gICAgZGF0ZUZvcm1hdDogJ2RkLm1tLnl5JyxcbiAgICBzaG93T3RoZXJNb250aHM6IHRydWUsXG4gICAgcmVnaW9uYWw6ICdydScsXG4gICAgbW9udGhOYW1lc1Nob3J0OiBbIFwi0K/QvdCy0LDRgNGMXCIsXCLQpNC10LLRgNCw0LvRjFwiLFwi0JzQsNGA0YJcIixcItCQ0L/RgNC10LvRjFwiLFwi0JzQsNC5XCIsXCLQmNGO0L3RjFwiLFxuICAgIFwi0JjRjtC70YxcIixcItCQ0LLQs9GD0YHRglwiLFwi0KHQtdC90YLRj9Cx0YDRjFwiLFwi0J7QutGC0Y/QsdGA0YxcIixcItCd0L7Rj9Cx0YDRjFwiLFwi0JTQtdC60LDQsdGA0YxcIiBdLFxuICAgIGNoYW5nZU1vbnRoOiB0cnVlLFxuICAgIGNoYW5nZVllYXI6IHRydWUsXG4gICAgeWVhclJhbmdlOiAnMTkwMDorMTAnLFxuXG4gICAgb25DaGFuZ2VNb250aFllYXI6IGZ1bmN0aW9uKCkge1xuICAgICAgc2V0VGltZW91dChmdW5jdGlvbigpIHtcbiAgICAgICAgJCgnLnVpLWRhdGVwaWNrZXItbW9udGgnKS5zZWxlY3QyKHNlbGVjdE9wdCk7XG4gICAgICAgICQoJy51aS1kYXRlcGlja2VyLXllYXInKS5zZWxlY3QyKHNlbGVjdE9wdCk7XG4gICAgICB9LCAwKTtcbiAgICB9LFxuXG4gICAgb25TZWxlY3Q6IGZ1bmN0aW9uKCkge1xuICAgICAgc2V0VGltZW91dChmdW5jdGlvbigpIHtcbiAgICAgICAgJCgnLnVpLWRhdGVwaWNrZXItbW9udGgnKS5zZWxlY3QyKHNlbGVjdE9wdCk7XG4gICAgICAgICQoJy51aS1kYXRlcGlja2VyLXllYXInKS5zZWxlY3QyKHNlbGVjdE9wdCk7XG4gICAgICB9LCAwKTtcbiAgICB9LFxuICB9KTtcblxuICAkKCcuaW5wdXQtZGF0ZS10cmlnZ2VyLXJhbmdlJykuZGF0ZXBpY2tlcih7XG4gICAgcmFuZ2U6ICdwZXJpb2QnLFxuICAgIGRhdGVGb3JtYXQ6ICdkZC5tbS55eScsXG4gICAgc2hvd090aGVyTW9udGhzOiB0cnVlLFxuICAgIHJlZ2lvbmFsOiAncnUnLFxuICAgIG1vbnRoTmFtZXNTaG9ydDogWyBcItCv0L3QstCw0YDRjFwiLFwi0KTQtdCy0YDQsNC70YxcIixcItCc0LDRgNGCXCIsXCLQkNC/0YDQtdC70YxcIixcItCc0LDQuVwiLFwi0JjRjtC90YxcIixcbiAgICBcItCY0Y7Qu9GMXCIsXCLQkNCy0LPRg9GB0YJcIixcItCh0LXQvdGC0Y/QsdGA0YxcIixcItCe0LrRgtGP0LHRgNGMXCIsXCLQndC+0Y/QsdGA0YxcIixcItCU0LXQutCw0LHRgNGMXCIgXSxcbiAgICBjaGFuZ2VNb250aDogdHJ1ZSxcbiAgICBjaGFuZ2VZZWFyOiB0cnVlLFxuICAgIHllYXJSYW5nZTogJzE5MDA6KzEwJyxcblxuICAgIG9uQ2hhbmdlTW9udGhZZWFyOiBmdW5jdGlvbigpIHtcbiAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7XG4gICAgICAgICQoJy51aS1kYXRlcGlja2VyLW1vbnRoJykuc2VsZWN0MihzZWxlY3RPcHQpO1xuICAgICAgICAkKCcudWktZGF0ZXBpY2tlci15ZWFyJykuc2VsZWN0MihzZWxlY3RPcHQpO1xuICAgICAgfSwgMCk7XG4gICAgfSxcblxuICAgIG9uU2VsZWN0OiBmdW5jdGlvbihpbnB1dCwgaW5zdCkge1xuICAgICAgY29uc29sZS5sb2coaW5zdCk7XG4gICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xuXG4gICAgICAgICQoJy5pbnB1dC1kYXRlLXRyaWdnZXItcmFuZ2UnKS5maW5kKCcudWktZGF0ZXBpY2tlci1tb250aCcpLnNlbGVjdDIoc2VsZWN0T3B0KTtcbiAgICAgICAgJCgnLmlucHV0LWRhdGUtdHJpZ2dlci1yYW5nZScpLmZpbmQoJy51aS1kYXRlcGlja2VyLXllYXInKS5zZWxlY3QyKHNlbGVjdE9wdCk7XG4gICAgICB9LCAxMDApO1xuICAgIH0sXG5cbiAgICBiZWZvcmVTaG93OiBmdW5jdGlvbihpbnB1dCwgaW5zdCkge1xuICAgICAgY29uc29sZS5sb2coaW5zdCk7XG4gICAgfVxuICB9KTtcblxuICBjb25zdCBjdXJyZW50ID0gbW9tZW50KCk7XG4gIGNvbnN0IGRheSA9IGN1cnJlbnQuZm9ybWF0KCdERCcpO1xuICBjb25zdCBtb250aCA9IGN1cnJlbnQuZm9ybWF0KCdNTScpO1xuICBjb25zdCB5ZWFyID0gY3VycmVudC5mb3JtYXQoJ1lZWVknKTtcbiAgbGV0IHBpY2tlZERhdGUgPSAnJztcbiAgbGV0IHBpY2tlZFBlcmlvZCA9IFtdO1xuICBsZXQgaG92ZXJEYXRlID0gJyc7XG5cbiAgaWYgKGRheSAhPT0gJzE1Jykge1xuICAgIHBpY2tlZERhdGUgPSAxNSArICcuJyArIG1vbnRoICsgJy4nICsgeWVhcjtcbiAgfSBlbHNlIHtcbiAgICBwaWNrZWREYXRlID0gMTcgKyAnLicgKyBtb250aCArICcuJyArIHllYXI7XG4gIH1cblxuICBpZiAoZGF5ICE9PSAnMTMnKSB7XG4gICAgaG92ZXJEYXRlID0gJzEzJztcbiAgfSBlbHNlIHtcbiAgICBob3ZlckRhdGUgPSAnMTInO1xuICB9XG5cbiAgZGF5ID4gMTVcbiAgICA/IHBpY2tlZFBlcmlvZCA9IFsnMDIuJyArIG1vbnRoICsgJy4nICsgeWVhciwgJzExLicgKyBtb250aCArICcuJyArIHllYXJdXG4gICAgOiBwaWNrZWRQZXJpb2QgPSBbJzE3LicgKyBtb250aCArICcuJyArIHllYXIsICcyNi4nICsgbW9udGggKyAnLicgKyB5ZWFyXVxuXG4gICQoJy5pbnB1dC1kYXRlLXRyaWdnZXInKS5kYXRlcGlja2VyKCdzZXREYXRlJywgcGlja2VkRGF0ZSk7XG4gICQoJy5pbnB1dC1kYXRlLXRyaWdnZXItc2luZ2xlJykuZGF0ZXBpY2tlcignc2V0RGF0ZScsIHBpY2tlZERhdGUpO1xuICAkKCcuaW5wdXQtZGF0ZS10cmlnZ2VyLXJhbmdlJykuZGF0ZXBpY2tlcignc2V0RGF0ZScsIHBpY2tlZFBlcmlvZCk7XG5cblxuXG4gICQoJy5pbnB1dC1kYXRlLXRyaWdnZXItc2luZ2xlIC51aS1kYXRlcGlja2VyLWNhbGVuZGFyIHRkIGEnKS5lYWNoKGZ1bmN0aW9uKCkge1xuICAgIGlmICgkKHRoaXMpLnRleHQoKSA9PT0gaG92ZXJEYXRlKSB7XG4gICAgICAkKHRoaXMpLmFkZENsYXNzKCdob3ZlcmVkJyk7XG4gICAgfVxuICB9KTtcblxuXG5cbiAgJCgnLnVpLWRhdGVwaWNrZXItbW9udGgnKS5zZWxlY3QyKHNlbGVjdE9wdCk7XG4gICQoJy51aS1kYXRlcGlja2VyLXllYXInKS5zZWxlY3QyKHNlbGVjdE9wdCk7XG5cbiAgJCgnLmlucHV0LWRhdGUnKS5kYXRlcGlja2VyKCdyZWZyZXNoJyk7XG5cbiAgJCgnLmlucHV0LWRhdGUnKS5pbnB1dG1hc2soXCI5OS45OS45OTk5XCIsIHtcbiAgICAvL21hc2s6ICdtbS9kZC95eXl5JyxcbiAgICBwbGFjZWhvbGRlcjogJycsXG4gICAgc2hvd01hc2tPbkhvdmVyOiBmYWxzZSxcbiAgICBzaG93TWFza09uRm9jdXM6IGZhbHNlLFxuICAgIGppdE1hc2tpbmc6IHRydWVcbiAgfSk7XG5cblxuICAkKCcuaW5wdXQtZGF0ZScpLm9uKCdmb2N1cycsIGZ1bmN0aW9uKGUpIHtcbiAgICBjb25zdCB0YXJnZXQgPSAkKGUudGFyZ2V0KTtcbiAgICBjb25zdCB2YWwgPSB0YXJnZXQudmFsKCk7XG5cbiAgICBpZiAodmFsLmxlbmd0aCA9PT0gMCkge1xuICAgICAgdGFyZ2V0LnBhcmVudCgpLmFkZENsYXNzKCdkYXRlLXBsYWNlaG9sZGVyJyk7XG4gICAgfVxuICB9KTtcblxuICAkKCcuaW5wdXQtZGF0ZScpLm9uKCdibHVyJywgZnVuY3Rpb24oZSkge1xuICAgIGNvbnN0IHRhcmdldCA9ICQoZS50YXJnZXQpO1xuICAgIGNvbnN0IHZhbCA9IHRhcmdldC52YWwoKTtcblxuICAgIHRhcmdldC5wYXJlbnQoKS5yZW1vdmVDbGFzcygnZGF0ZS1wbGFjZWhvbGRlcicpO1xuICB9KTtcblxuICAkKCcuaW5wdXQtZGF0ZScpLm9uKCdpbnB1dCcsIGZ1bmN0aW9uKGUpIHtcbiAgICBjb25zdCB0YXJnZXQgPSAkKGUudGFyZ2V0KTtcbiAgICBjb25zdCB2YWwgPSB0YXJnZXQudmFsKCk7XG5cbiAgICBpZiAodmFsLmxlbmd0aCA+IDApIHtcbiAgICAgIHRhcmdldC5wYXJlbnQoKS5yZW1vdmVDbGFzcygnZGF0ZS1wbGFjZWhvbGRlcicpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0YXJnZXQucGFyZW50KCkuYWRkQ2xhc3MoJ2RhdGUtcGxhY2Vob2xkZXInKTtcbiAgICB9XG5cbiAgICBjb25zdCBpc1ZhbGlkID0gbW9tZW50KCQodGhpcykudmFsKCksICdERC5NTS5ZWVlZJywgdHJ1ZSkuaXNWYWxpZCgpO1xuICAgIGlmIChpc1ZhbGlkKSB7XG4gICAgICAkKHRoaXMpLmRhdGVwaWNrZXIoJ2hpZGUnKTtcbiAgICAgICQodGhpcykuZGF0ZXBpY2tlcignc2hvdycpO1xuICAgIH1cbiAgfSk7XG5cbiAgLy8gJChkb2N1bWVudCkucmVhZHkoZnVuY3Rpb24oKSB7XG4gIC8vICAgZnVuY3Rpb24gZjEoKSB7XG4gIC8vICAgICAkKCcuaW5wdXQtZGF0ZScpLmRhdGVwaWNrZXIoJ3JlZnJlc2gnKTtcbiAgLy8gICB9O1xuXG4gIC8vICAgZnVuY3Rpb24gZjIoKSB7XG4gIC8vICAgICBjb25zb2xlLmxvZygkKCcudWktZGF0ZXBpY2tlci1tb250aCcpWzBdKTtcbiAgLy8gICAgIHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7XG4gIC8vICAgICAgICQoJy51aS1kYXRlcGlja2VyLW1vbnRoJykuc2VsZWN0MigpO1xuICAvLyAgICAgfSwgNTAwMCk7XG4gIC8vICAgICAvLyQoJy51aS1kYXRlcGlja2VyLW1vbnRoJykuc2VsZWN0MigpO1xuICAvLyAgIH07XG5cbiAgLy8gICB2YXIgZGZkID0gJC5EZWZlcnJlZCgpO1xuXG4gIC8vICAgZGZkLmRvbmUoZjEpLmRvbmUoZjIpO1xuXG4gIC8vICAgZGZkLnJlc29sdmUoJ2EnKTtcblxuICAvLyB9KTtcblxuICAkKCcjY2FsZW5kYXItZHJvcGRvd24tbW9udGgnKS5zZWxlY3QyKHtcbiAgICBtaW5pbXVtUmVzdWx0c0ZvclNlYXJjaDogSW5maW5pdHksXG4gICAgZHJvcGRvd25Dc3NDbGFzczogWydjYWxlbmRhci1kcm9wZG93bicsICdjYWxlbmRhci1kcm9wZG93bi1wZXJtYW5lbnQnXSxcbiAgICBjbG9zZU9uU2VsZWN0OiBmYWxzZVxuICB9KS5vbihcInNlbGVjdDI6Y2xvc2luZ1wiLCBmdW5jdGlvbihlKSB7XG4gICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICB9KS5vbihcInNlbGVjdDI6Y2xvc2VkXCIsIGZ1bmN0aW9uKGUpIHtcbiAgICBsaXN0LnNlbGVjdDIoXCJvcGVuXCIpO1xuICB9KTtcblxuICAkKCcjY2FsZW5kYXItZHJvcGRvd24tbW9udGgnKS5zZWxlY3QyKCdvcGVuJyk7XG5cbiAgJCgnI2NhbGVuZGFyLWRyb3Bkb3duLXllYXInKS5zZWxlY3QyKHtcbiAgICBtaW5pbXVtUmVzdWx0c0ZvclNlYXJjaDogSW5maW5pdHksXG4gICAgZHJvcGRvd25Dc3NDbGFzczogWydjYWxlbmRhci1kcm9wZG93bicsICdjYWxlbmRhci1kcm9wZG93bi1wZXJtYW5lbnQnXSxcbiAgICBjbG9zZU9uU2VsZWN0OiBmYWxzZVxuICB9KS5vbihcInNlbGVjdDI6Y2xvc2luZ1wiLCBmdW5jdGlvbihlKSB7XG4gICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICB9KS5vbihcInNlbGVjdDI6Y2xvc2VkXCIsIGZ1bmN0aW9uKGUpIHtcbiAgICBsaXN0LnNlbGVjdDIoXCJvcGVuXCIpO1xuICB9KTtcblxuICAkKCcjY2FsZW5kYXItZHJvcGRvd24teWVhcicpLnNlbGVjdDIoJ29wZW4nKTtcbn0pKCk7XG4iLCIoZnVuY3Rpb24oKSB7XG4gICQoJy5pbnB1dC1wYXNzd29yZC1idG4nKS5vbignY2xpY2snLCBmdW5jdGlvbigpIHtcbiAgICBjb25zdCAkYnRuID0gJCh0aGlzKTtcbiAgICBjb25zdCAkaW5wdXQgPSAkYnRuLnByZXYoKTtcblxuICAgICRidG4udG9nZ2xlQ2xhc3MoJ3Nob3duJyk7XG5cbiAgICBpZiAoJGJ0bi5oYXNDbGFzcygnc2hvd24nKSkge1xuICAgICAgJGlucHV0LmF0dHIoJ3R5cGUnLCAndGV4dCcpO1xuICAgIH0gZWxzZSB7XG4gICAgICAkaW5wdXQuYXR0cigndHlwZScsICdwYXNzd29yZCcpO1xuICAgIH1cbiAgfSlcbn0pKCk7XG4iLCIoZnVuY3Rpb24oKSB7XG4gICQoJy5saW5rW3RhYmluZGV4PVwiLTFcIl0nKS5vbignY2xpY2snLCBmdW5jdGlvbihlKSB7XG4gICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICB9KVxufSkoKTtcbiIsIihmdW5jdGlvbigpIHtcbiAgY29uc3QgJGJ0biA9ICQoJy5oZWFkZXJfX21lbnUtYnRuJyk7XG4gIGNvbnN0ICRuYXYgPSAkKCcubWFpbi1uYXYnKTtcbiAgY29uc3QgJGJsYWNrb3V0ID0gJCgnLmJsYWNrb3V0Jyk7XG5cbiAgJGJ0bi5vbignY2xpY2snLCBmdW5jdGlvbigpIHtcbiAgICAkbmF2LnRvZ2dsZUNsYXNzKCdqcy1vcGVuZWQnKTtcbiAgICAkYmxhY2tvdXQudG9nZ2xlQ2xhc3MoJ2pzLXNob3cnKTtcblxuICAgIGlmICgkKGRvY3VtZW50KS53aWR0aCgpIDw9IDExOTkpIHtcbiAgICAgICRuYXYuaGFzQ2xhc3MoJ2pzLW9wZW5lZCcpXG4gICAgICA/ICQoJ2JvZHknKS5hZGRDbGFzcygnanNfX2JvZHktbm8tc2Nyb2xsJylcbiAgICAgIDogJCgnYm9keScpLnJlbW92ZUNsYXNzKCdqc19fYm9keS1uby1zY3JvbGwnKVxuICAgIH1cbiAgfSk7XG5cbiAgJGJsYWNrb3V0Lm9uKCdjbGljaycsIGZ1bmN0aW9uKCkge1xuICAgICRuYXYucmVtb3ZlQ2xhc3MoJ2pzLW9wZW5lZCcpO1xuICAgICRibGFja291dC5yZW1vdmVDbGFzcygnanMtc2hvdycpO1xuICAgICQoJ2JvZHknKS5yZW1vdmVDbGFzcygnanNfX2JvZHktbm8tc2Nyb2xsJyk7XG4gIH0pO1xuXG4gICQod2luZG93KS5vbigncmVzaXplJywgZnVuY3Rpb24oKSB7XG4gICAgaWYgKCQoZG9jdW1lbnQpLndpZHRoKCkgPiAxMTk5KSB7XG4gICAgICAkbmF2LnJlbW92ZUNsYXNzKCdqcy1vcGVuZWQnKTtcbiAgICAgICRibGFja291dC5yZW1vdmVDbGFzcygnanMtc2hvdycpO1xuICAgICAgJCgnYm9keScpLnJlbW92ZUNsYXNzKCdqc19fYm9keS1uby1zY3JvbGwnKTtcbiAgICB9XG4gIH0pO1xufSkoKTtcbiIsIihmdW5jdGlvbigpIHtcbiAgLy8gY29uc3QgaW5wdXRzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLmlucHV0LXBob25lJyk7XG5cbiAgLy8gaWYgKCFpbnB1dHNbMF0pIHtcbiAgLy8gICByZXR1cm47XG4gIC8vIH1cblxuICAvLyBjb25zdCBpbSA9IG5ldyBJbnB1dG1hc2soXCIrNyg5OTkpIDk5OS05OS05OVwiKTtcblxuICAvLyBpbnB1dHMuZm9yRWFjaChmdW5jdGlvbihpdGVtKSB7XG4gIC8vICAgaW0ubWFzayhpdGVtKTtcbiAgLy8gfSlcblxuICAkKCcuaW5wdXQtcGhvbmUnKS5pbnB1dG1hc2soJys3KDk5OSkgOTk5LTk5LTk5Jyk7XG59KSgpO1xuIiwiKGZ1bmN0aW9uKCkge1xuICAkKFwiLmpzLXJhbmdlLXNpbmdsZS1zbGlkZXJcIikuaW9uUmFuZ2VTbGlkZXIoe1xuICAgIHR5cGU6IFwic2luZ2xlXCIsXG4gICAgZ3JpZDogZmFsc2UsXG4gICAgaGlkZV9taW5fbWF4OiB0cnVlLFxuICAgIGV4dHJhX2NsYXNzZXM6ICdzaW5nbGUtc2xpZGVyJyxcbiAgfSk7XG5cbiAgJChcIi5qcy1yYW5nZS1zaW5nbGUtc2xpZGVyLWRlZmF1bHRcIikuaW9uUmFuZ2VTbGlkZXIoe1xuICAgIHR5cGU6IFwic2luZ2xlXCIsXG4gICAgZ3JpZDogZmFsc2UsXG4gICAgaGlkZV9taW5fbWF4OiB0cnVlLFxuICAgIGhpZGVfZnJvbV90bzogdHJ1ZSxcbiAgICBleHRyYV9jbGFzc2VzOiAnc2luZ2xlLXNsaWRlcicsXG4gIH0pO1xuXG4gICQoXCIuanMtcmFuZ2Utc2luZ2xlLXNsaWRlci1ob3ZlcmVkXCIpLmlvblJhbmdlU2xpZGVyKHtcbiAgICB0eXBlOiBcInNpbmdsZVwiLFxuICAgIGdyaWQ6IGZhbHNlLFxuICAgIGhpZGVfbWluX21heDogdHJ1ZSxcbiAgICBoaWRlX2Zyb21fdG86IHRydWUsXG4gICAgZXh0cmFfY2xhc3NlczogJ3NpbmdsZS1zbGlkZXInLFxuICAgIG9uU3RhcnQ6IGZ1bmN0aW9uKGRhdGEpIHtcbiAgICAgIGRhdGEuc2xpZGVyLmZpbmQoJy5pcnMtaGFuZGxlJykuYWRkQ2xhc3MoJ2hvdmVyZWQnKTtcbiAgICB9XG4gIH0pO1xuXG4gICQoXCIuanMtcmFuZ2Utc2luZ2xlLXNsaWRlci1mb2N1c2VkXCIpLmlvblJhbmdlU2xpZGVyKHtcbiAgICB0eXBlOiBcInNpbmdsZVwiLFxuICAgIGdyaWQ6IGZhbHNlLFxuICAgIGhpZGVfbWluX21heDogdHJ1ZSxcbiAgICBoaWRlX2Zyb21fdG86IHRydWUsXG4gICAgZXh0cmFfY2xhc3NlczogJ3NpbmdsZS1zbGlkZXInLFxuICAgIG9uU3RhcnQ6IGZ1bmN0aW9uKGRhdGEpIHtcbiAgICAgIGRhdGEuc2xpZGVyLmZpbmQoJy5pcnMtaGFuZGxlJykuYWRkQ2xhc3MoJ2ZvY3VzZWQnKTtcbiAgICB9XG4gIH0pO1xuXG5cbiAgJChcIi5qcy1yYW5nZS1kb3VibGUtc2xpZGVyXCIpLmlvblJhbmdlU2xpZGVyKHtcbiAgICB0eXBlOiBcImRvdWJsZVwiLFxuICAgIGdyaWQ6IGZhbHNlLFxuICAgIGhpZGVfbWluX21heDogdHJ1ZSxcbiAgICBoaWRlX2Zyb21fdG86IHRydWUsXG4gICAgZXh0cmFfY2xhc3NlczogJ2RvdWJsZS1zbGlkZXInLFxuICAgIG9uU3RhcnQ6IGZ1bmN0aW9uKGRhdGEpIHtcbiAgICAgIGNvbnN0IGlucHV0QmxvY2sgPSBkYXRhLnNsaWRlci5wYXJlbnQoKTtcbiAgICAgIGNvbnN0IGZyb20gPSBpbnB1dEJsb2NrLnNpYmxpbmdzKCcucmFuZ2VfX3ZhbHVlLS1mcm9tJyk7XG4gICAgICBjb25zdCB0byA9IGlucHV0QmxvY2suc2libGluZ3MoJy5yYW5nZV9fdmFsdWUtLXRvJyk7XG4gICAgICBmcm9tLnRleHQoZGF0YS5mcm9tKTtcbiAgICAgIHRvLnRleHQoZGF0YS50byk7XG4gICAgfSxcbiAgICBvbkNoYW5nZTogZnVuY3Rpb24oZGF0YSkge1xuICAgICAgY29uc3QgaW5wdXRCbG9jayA9IGRhdGEuc2xpZGVyLnBhcmVudCgpO1xuICAgICAgY29uc3QgZnJvbSA9IGlucHV0QmxvY2suc2libGluZ3MoJy5yYW5nZV9fdmFsdWUtLWZyb20nKTtcbiAgICAgIGNvbnN0IHRvID0gaW5wdXRCbG9jay5zaWJsaW5ncygnLnJhbmdlX192YWx1ZS0tdG8nKTtcbiAgICAgIGZyb20udGV4dChkYXRhLmZyb20pO1xuICAgICAgdG8udGV4dChkYXRhLnRvKTtcbiAgICB9XG4gIH0pO1xuXG5cbiAgJChcIi5qcy1yYW5nZS1kb3VibGUtc2xpZGVyLWhvdmVyZWRcIikuaW9uUmFuZ2VTbGlkZXIoe1xuICAgIHR5cGU6IFwiZG91YmxlXCIsXG4gICAgZ3JpZDogZmFsc2UsXG4gICAgaGlkZV9taW5fbWF4OiB0cnVlLFxuICAgIGhpZGVfZnJvbV90bzogdHJ1ZSxcbiAgICBleHRyYV9jbGFzc2VzOiAnZG91YmxlLXNsaWRlcicsXG4gICAgb25TdGFydDogZnVuY3Rpb24oZGF0YSkge1xuICAgICAgZGF0YS5zbGlkZXIuZmluZCgnLmlycy1oYW5kbGUudG8nKS5hZGRDbGFzcygnaG92ZXJlZCcpO1xuICAgIH0sXG4gIH0pO1xuXG4gIGxldCBtb3VzZXVwID0gZmFsc2U7XG5cbiAgJCgnLmlycy1saW5lJykub24oJ21vdXNldXAnLCBmdW5jdGlvbigpIHtcbiAgICBtb3VzZXVwID0gdHJ1ZTtcbiAgICAkKHRoaXMpLnBhcmVudCgpLnNpYmxpbmdzKCcuaXJzLWhhbmRsZScpLnJlbW92ZUNsYXNzKCdmb2N1c2VkJyk7XG4gIH0pO1xuXG4gICQoJy5pcnMtbGluZScpLm9uKCdtb3VzZWRvd24nLCBmdW5jdGlvbigpIHtcbiAgICAkKHRoaXMpLnBhcmVudCgpLnNpYmxpbmdzKCcuaXJzLWhhbmRsZScpLnJlbW92ZUNsYXNzKCdmb2N1c2VkJyk7XG4gIH0pO1xuXG4gICQoJy5pcnMtaGFuZGxlJykub24oJ21vdXNldXAnLCBmdW5jdGlvbigpIHtcbiAgICBtb3VzZXVwID0gdHJ1ZTtcbiAgICAkKHRoaXMpLnJlbW92ZUNsYXNzKCdmb2N1c2VkJyk7XG4gIH0pO1xuXG4gICQoJy5pcnMtaGFuZGxlJykub24oJ21vdXNlZG93bicsIGZ1bmN0aW9uKCkge1xuICAgIG1vdXNldXAgPSB0cnVlO1xuICAgICQodGhpcykucmVtb3ZlQ2xhc3MoJ2ZvY3VzZWQnKTtcbiAgfSk7XG5cbiAgJCgnLmlycy1saW5lJykub24oJ2ZvY3VzJywgZnVuY3Rpb24oKSB7XG4gICAgaWYgKCFtb3VzZXVwKSB7XG4gICAgICAkKHRoaXMpLnBhcmVudCgpLnNpYmxpbmdzKCcuaXJzLWhhbmRsZScpLmFkZENsYXNzKCdmb2N1c2VkJyk7XG4gICAgfVxuXG4gICAgbW91c2V1cCA9IGZhbHNlO1xuICB9KTtcblxuICAkKCcuaXJzLWxpbmUnKS5vbignYmx1cicsIGZ1bmN0aW9uKCkge1xuICAgICQodGhpcykucGFyZW50KCkuc2libGluZ3MoJy5pcnMtaGFuZGxlJykucmVtb3ZlQ2xhc3MoJ2ZvY3VzZWQnKTtcbiAgfSlcbn0pKCk7XG4iLCIoZnVuY3Rpb24oKSB7XG4gIGNvbnN0IHNjcm9sbEJ0biA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5zY3JvbGwtdG8tdG9wJyk7XG4gIGNvbnN0IGhlYWRlciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5oZWFkZXInKTtcblxuICBpZiAoIXNjcm9sbEJ0bikge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIGNvbnN0IGdldEhlYWRlckhlaWdodCA9IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiBoZWFkZXIuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkuaGVpZ2h0ICsgNTA7XG4gIH07XG5cbiAgbGV0IGlzU2Nyb2xsZWQgPSB3aW5kb3cucGFnZVlPZmZzZXQgPiBnZXRIZWFkZXJIZWlnaHQoKTtcblxuICBjb25zdCBzaG93QnRuID0gZnVuY3Rpb24oKSB7XG4gICAgIXNjcm9sbEJ0bi5jbGFzc0xpc3QuY29udGFpbnMoJ2FjdGl2ZScpXG4gICAgJiYgc2Nyb2xsQnRuLmNsYXNzTGlzdC5hZGQoJ2FjdGl2ZScpO1xuICB9XG5cbiAgY29uc3QgaGlkZUhlYWRlciA9IGZ1bmN0aW9uKCkge1xuICAgIHNjcm9sbEJ0bi5jbGFzc0xpc3QuY29udGFpbnMoJ2FjdGl2ZScpXG4gICAgJiYgc2Nyb2xsQnRuLmNsYXNzTGlzdC5yZW1vdmUoJ2FjdGl2ZScpO1xuICB9XG5cbiAgY29uc3Qgb25TY3JvbGwgPSBmdW5jdGlvbigpIHtcbiAgICBpZiAoIWlzU2Nyb2xsZWQgJiYgd2luZG93LnBhZ2VZT2Zmc2V0ID4gZ2V0SGVhZGVySGVpZ2h0KCkpIHtcbiAgICAgIHNob3dCdG4oKTtcbiAgICAgIGlzU2Nyb2xsZWQgPSB0cnVlO1xuICAgIH1cblxuICAgIGlmIChpc1Njcm9sbGVkICYmIHdpbmRvdy5wYWdlWU9mZnNldCA8IGdldEhlYWRlckhlaWdodCgpKSB7XG4gICAgICBoaWRlSGVhZGVyKCk7XG4gICAgICBpc1Njcm9sbGVkID0gZmFsc2U7XG4gICAgfVxuICB9XG5cbiAgaWYgKGlzU2Nyb2xsZWQpIHtcbiAgICBzaG93QnRuKCk7XG4gIH1cblxuICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdzY3JvbGwnLCBvblNjcm9sbCk7XG4gIHNjcm9sbEJ0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZ1bmN0aW9uKGUpIHtcbiAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgaGVhZGVyLnNjcm9sbEludG9WaWV3KHtibG9jazogYHN0YXJ0YCwgYmVoYXZpb3I6IGBzbW9vdGhgfSk7XG4gIH0pXG59KSgpO1xuIiwiKGZ1bmN0aW9uKCkge1xuICBsZXQgbW91c2V1cCA9IGZhbHNlO1xuXG5cbiAgJCgnLnN3aXRjaGVyX19sYWJlbCcpLm1vdXNldXAoZnVuY3Rpb24oZSkge1xuICAgIG1vdXNldXAgPSB0cnVlO1xuICAgICQodGhpcykucmVtb3ZlQ2xhc3MoJ2ZvY3VzZWQnKTtcbiAgfSk7XG5cbiAgJCgnLnN3aXRjaGVyX19pbnB1dCcpLmZvY3VzKGZ1bmN0aW9uKGUpIHtcbiAgICAgIGlmICghbW91c2V1cCkge1xuICAgICAgICAkKHRoaXMpLnBhcmVudCgpLmFkZENsYXNzKCdmb2N1c2VkJyk7XG4gICAgICB9XG4gICAgICBtb3VzZXVwID0gZmFsc2U7XG4gIH0pO1xuXG4gICQoJy5zd2l0Y2hlcl9faW5wdXQnKS5ibHVyKGZ1bmN0aW9uKGUpIHtcbiAgICAkKHRoaXMpLnBhcmVudCgpLnJlbW92ZUNsYXNzKCdmb2N1c2VkJyk7XG4gIH0pO1xuXG5cbiAgJCgnLnN3aXRjaGVyLXRleHRfX2xhYmVsJykubW91c2V1cChmdW5jdGlvbihlKSB7XG4gICAgbW91c2V1cCA9IHRydWU7XG4gICAgJCh0aGlzKS5yZW1vdmVDbGFzcygnZm9jdXNlZCcpO1xuICB9KTtcblxuICAkKCcuc3dpdGNoZXItdGV4dF9faW5wdXQnKS5mb2N1cyhmdW5jdGlvbihlKSB7XG4gICAgICBpZiAoIW1vdXNldXApIHtcbiAgICAgICAgJCh0aGlzKS5wYXJlbnQoKS5hZGRDbGFzcygnZm9jdXNlZCcpO1xuICAgICAgfVxuICAgICAgbW91c2V1cCA9IGZhbHNlO1xuICB9KTtcblxuICAkKCcuc3dpdGNoZXItdGV4dF9faW5wdXQnKS5ibHVyKGZ1bmN0aW9uKGUpIHtcbiAgICAkKHRoaXMpLnBhcmVudCgpLnJlbW92ZUNsYXNzKCdmb2N1c2VkJyk7XG4gIH0pO1xuXG5cbiAgJCgnLnN3aXRjaGVyLWljb25fX2xhYmVsJykubW91c2V1cChmdW5jdGlvbihlKSB7XG4gICAgbW91c2V1cCA9IHRydWU7XG4gICAgJCh0aGlzKS5yZW1vdmVDbGFzcygnZm9jdXNlZCcpO1xuICB9KTtcbn0pKCk7XG4iLCIoZnVuY3Rpb24oKSB7XG4gICQoJy50YWJzX19idXR0b24nKS5vbignY2xpY2snLCBmdW5jdGlvbigpIHtcbiAgICBpZiAoISQodGhpcykuaGFzQ2xhc3MoJ2FjdGl2ZScpICYmICEkKHRoaXMpLmhhc0NsYXNzKCdkaXNhYmxlZCcpKSB7XG4gICAgICAkKHRoaXMpXG4gICAgICAgIC5wYXJlbnRzKCcudGFicycpXG4gICAgICAgIC5maW5kKCcudGFic19fYnV0dG9uJylcbiAgICAgICAgLnJlbW92ZUNsYXNzKCdhY3RpdmUnKTtcblxuICAgICAgJCh0aGlzKS5hZGRDbGFzcygnYWN0aXZlJyk7XG4gICAgfVxuICB9KTtcbn0pKCk7XG4iLCIoZnVuY3Rpb24oKSB7XG4gIGxldCBtb3VzZXVwID0gZmFsc2U7XG5cblxuICAkKCcudG9nZ2xlJykubW91c2V1cChmdW5jdGlvbihlKSB7XG4gICAgbW91c2V1cCA9IHRydWU7XG4gICAgJCh0aGlzKS5yZW1vdmVDbGFzcygnZm9jdXNlZCcpO1xuICB9KTtcblxuICAkKCcudG9nZ2xlX19pbnB1dCcpLmZvY3VzKGZ1bmN0aW9uKGUpIHtcbiAgICAgIGlmICghbW91c2V1cCkge1xuICAgICAgICAkKHRoaXMpLnBhcmVudCgpLmFkZENsYXNzKCdmb2N1c2VkJyk7XG4gICAgICB9XG4gICAgICBtb3VzZXVwID0gZmFsc2U7XG4gIH0pO1xuXG4gICQoJy50b2dnbGVfX2lucHV0JykuYmx1cihmdW5jdGlvbihlKSB7XG4gICAgJCh0aGlzKS5wYXJlbnQoKS5yZW1vdmVDbGFzcygnZm9jdXNlZCcpO1xuICB9KTtcbn0pKCk7XG4iLCIoZnVuY3Rpb24oKSB7XG4gIGNvbnN0IHVwbG9hZHMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcudXBsb2FkJyk7XG5cbiAgaWYgKCF1cGxvYWRzWzBdKSB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgZnVuY3Rpb24gcHJldmVudERlZmF1bHRzIChlKSB7XG4gICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XG4gIH07XG5cbiAgZnVuY3Rpb24gaGlnaGxpZ2h0KGUpIHtcbiAgICBlLmN1cnJlbnRUYXJnZXQuY2xhc3NMaXN0LmFkZCgnaGlnaGxpZ2h0Jyk7XG4gIH07XG5cbiAgZnVuY3Rpb24gdW5oaWdobGlnaHQoZSkge1xuICAgIGUuY3VycmVudFRhcmdldC5jbGFzc0xpc3QucmVtb3ZlKCdoaWdobGlnaHQnKTtcbiAgfTtcblxuICBmdW5jdGlvbiBnZXRSZXN1bHRCbG9jayhpbnB1dCkge1xuICAgIGNvbnN0ICRpZHggPSAkKGlucHV0KS5wYXJlbnQoKS5hdHRyKCdkYXRhLWlucHV0Jyk7XG4gICAgcmV0dXJuICQoaW5wdXQpLnBhcmVudHMoJy51cGxvYWQnKS5maW5kKFwiW2RhdGEtcmVzdWx0PSdcIiArICRpZHggK1wiJ11cIik7XG4gIH07XG5cbiAgZnVuY3Rpb24gZmlsbFJlc3VsdChpbnB1dCkge1xuICAgIGNvbnN0ICRyZXN1bHQgPSBnZXRSZXN1bHRCbG9jayhpbnB1dCk7XG4gICAgY29uc3QgJG5hbWUgPSAkcmVzdWx0LmZpbmQoJy51cGxvYWRfX25hbWUnKTtcbiAgICAkbmFtZS50ZXh0KGlucHV0LmZpbGVzWzBdLm5hbWUpO1xuICB9O1xuXG4gIGZ1bmN0aW9uIHNob3dSZXN1bHQoaW5wdXQpIHtcbiAgICBjb25zdCAkcmVzdWx0ID0gZ2V0UmVzdWx0QmxvY2soaW5wdXQpO1xuICAgICRyZXN1bHQuYWRkQ2xhc3MoJ3Nob3cnKTtcbiAgfTtcblxuICBmdW5jdGlvbiBoaWRlUmVzdWx0KGlucHV0KSB7XG4gICAgY29uc3QgJHJlc3VsdCA9IGdldFJlc3VsdEJsb2NrKGlucHV0KTtcbiAgICAkcmVzdWx0LnJlbW92ZUNsYXNzKCdzaG93Jyk7XG4gIH07XG5cbiAgZnVuY3Rpb24gc2hvd0xhYmVsKGlucHV0KSB7XG4gICAgY29uc3QgJGxhYmVsID0gJChpbnB1dCkucGFyZW50KCk7XG4gICAgJGxhYmVsLnJlbW92ZUNsYXNzKCdoaWRkZW4nKTtcbiAgfTtcblxuICBmdW5jdGlvbiBoaWRlTGFiZWwoaW5wdXQpIHtcbiAgICBjb25zdCAkbGFiZWwgPSAkKGlucHV0KS5wYXJlbnQoKTtcbiAgICAkbGFiZWwuYWRkQ2xhc3MoJ2hpZGRlbicpO1xuICB9O1xuXG4gIGZ1bmN0aW9uIGFkZExvYWRlcihpbnB1dCkge1xuICAgIGNvbnN0ICRyZXN1bHQgPSBnZXRSZXN1bHRCbG9jayhpbnB1dCk7XG4gICAgJHJlc3VsdC5hZGRDbGFzcygnbG9hZGVyJyk7XG4gIH07XG5cbiAgZnVuY3Rpb24gcmVtb3ZlTG9hZGVyKGlucHV0KSB7XG4gICAgY29uc3QgJHJlc3VsdCA9IGdldFJlc3VsdEJsb2NrKGlucHV0KTtcbiAgICAkcmVzdWx0LnJlbW92ZUNsYXNzKCdsb2FkZXInKTtcbiAgfTtcblxuICBjb25zdCByZWFkVXJsID0gKGlucHV0KSA9PiB7XG4gICAgaWYgKGlucHV0LmZpbGVzICYmIGlucHV0LmZpbGVzWzBdKSB7XG4gICAgICB2YXIgcmVhZGVyID0gbmV3IEZpbGVSZWFkZXIoKTtcblxuICAgICAgcmVhZGVyLm9ubG9hZHN0YXJ0ID0gZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgLy9wcm9ncmVzcy5jbGFzc0xpc3QuYWRkKCdzaG93Jyk7XG5cbiAgICAgICAgYWRkTG9hZGVyKGlucHV0KTtcbiAgICAgICAgZmlsbFJlc3VsdChpbnB1dCk7XG4gICAgICAgIHNob3dSZXN1bHQoaW5wdXQpO1xuICAgICAgfTtcblxuICAgICAgcmVhZGVyLm9ucHJvZ3Jlc3MgPSBmdW5jdGlvbiAoZSkge1xuICAgICAgfVxuXG4gICAgICByZWFkZXIub25sb2FkID0gZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgLy8gZmlsZUltZy5zZXRBdHRyaWJ1dGUoJ3NyYycsIGUudGFyZ2V0LnJlc3VsdCk7XG4gICAgICAgIC8vIGZpbGVOYW1lLnRleHRDb250ZW50ID0gaW5wdXQuZmlsZXNbMF0ubmFtZTtcbiAgICAgICAgLy8gIWZpbGVSZXN1bHQuY2xhc3NMaXN0LmNvbnRhaW5zKCdzaG93JykgJiYgZmlsZVJlc3VsdC5jbGFzc0xpc3QuYWRkKCdzaG93Jyk7XG5cbiAgICAgICAgLy8gcHJvZ3Jlc3MuY2xhc3NMaXN0LnJlbW92ZSgnc2hvdycpO1xuICAgICAgICAvLyBiYXIuc3R5bGUud2lkdGggPSAwO1xuICAgICAgICByZW1vdmVMb2FkZXIoaW5wdXQpO1xuICAgICAgICBoaWRlTGFiZWwoaW5wdXQpO1xuXG4gICAgICAgIGNvbnN0IGJsb2NrID0gJChpbnB1dCkucGFyZW50cygnLnVwbG9hZCcpO1xuXG4gICAgICAgIGlmIChibG9jay5oYXNDbGFzcygnbXVsdGknKSkge1xuICAgICAgICAgIGNvbnN0IG5ld0lkeCA9ICQoJy51cGxvYWRfX2lucHV0LXdyYXAgLnVwbG9hZF9fbGFiZWwnKS5sZW5ndGg7XG5cbiAgICAgICAgICBjb25zdCAkcmVzdWx0ID0gZ2V0UmVzdWx0QmxvY2soaW5wdXQpO1xuICAgICAgICAgIGNvbnN0ICRyZXN1bHRXcmFwID0gJHJlc3VsdC5wYXJlbnQoKTtcbiAgICAgICAgICBjb25zdCAkbmV3UmVzdWx0ID0gJHJlc3VsdC5jbG9uZSh0cnVlLCB0cnVlKTtcbiAgICAgICAgICAkbmV3UmVzdWx0LnJlbW92ZUNsYXNzKCdzaG93Jyk7XG4gICAgICAgICAgLy8kbmV3UmVzdWx0LmF0dHIoJ2RhdGEtcmVzdWx0JywgbmV3SWR4KTtcbiAgICAgICAgICAkcmVzdWx0V3JhcC5wcmVwZW5kKCRuZXdSZXN1bHQpO1xuICAgICAgICAgICRyZXN1bHQucGFyZW50cygnLnVwbG9hZF9faW5wdXQtcmVzdWx0cycpXG4gICAgICAgICAgICAuZmluZCgnLnVwbG9hZF9fcmVzdWx0JykuZWFjaChmdW5jdGlvbihpZCwgZWxlbWVudCkge1xuICAgICAgICAgICAgICAkKHRoaXMpLmF0dHIoJ2RhdGEtcmVzdWx0JywgaWQpO1xuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICBjb25zdCAkbGFiZWxXcmFwID0gJChpbnB1dCkucGFyZW50KCkucGFyZW50KCk7XG4gICAgICAgICAgY29uc3QgJGxhYmVsID0gJChpbnB1dCkucGFyZW50KCk7XG4gICAgICAgICAgY29uc3QgJG5ld0xhYmVsID0gJGxhYmVsLmNsb25lKHRydWUsIHRydWUpO1xuICAgICAgICAgICRuZXdMYWJlbC5yZW1vdmVDbGFzcygnaGlkZGVuJyk7XG4gICAgICAgICAgLy8kbmV3TGFiZWwuYXR0cignZGF0YS1pbnB1dCcsIG5ld0lkeCk7XG4gICAgICAgICAgJGxhYmVsV3JhcC5wcmVwZW5kKCRuZXdMYWJlbCk7XG4gICAgICAgICAgJGxhYmVsLnBhcmVudHMoJy51cGxvYWRfX2lucHV0LXdyYXAnKVxuICAgICAgICAgICAgLmZpbmQoJy51cGxvYWRfX2xhYmVsJykuZWFjaChmdW5jdGlvbihpZCwgZWxlbWVudCkge1xuICAgICAgICAgICAgICAkKHRoaXMpLmF0dHIoJ2RhdGEtaW5wdXQnLCBpZCk7XG4gICAgICAgICAgICAgICQodGhpcykuY2hpbGRyZW4oJ2lucHV0JykuYXR0cignbmFtZScsICdmaWxlLScgKyBpZCk7XG4gICAgICAgICAgICB9KTtcblxuXG4gICAgICAgICAgYWRkRXZlbnRMaXN0ZW5lcnMoJG5ld0xhYmVsLCAkbmV3UmVzdWx0KTtcblxuICAgICAgICAgIC8vICRuZXdMYWJlbC5jaGlsZHJlbignaW5wdXQnKVswXS5hZGRFdmVudExpc3RlbmVyKCdjaGFuZ2UnLCBvbkZpbGVDaGFuZ2UpO1xuXG4gICAgICAgICAgLy8gWydkcmFnZW50ZXInLCAnZHJhZ292ZXInLCAnZHJhZ2xlYXZlJywgJ2Ryb3AnXS5mb3JFYWNoKGV2ZW50TmFtZSA9PiB7XG4gICAgICAgICAgLy8gICAkbmV3TGFiZWxbMF0uYWRkRXZlbnRMaXN0ZW5lcihldmVudE5hbWUsIHByZXZlbnREZWZhdWx0cywgZmFsc2UpXG4gICAgICAgICAgLy8gfSk7XG5cbiAgICAgICAgICAvLyBbJ2RyYWdlbnRlcicsICdkcmFnb3ZlciddLmZvckVhY2goZXZlbnROYW1lID0+IHtcbiAgICAgICAgICAvLyAgICRuZXdMYWJlbFswXS5hZGRFdmVudExpc3RlbmVyKGV2ZW50TmFtZSwgaGlnaGxpZ2h0LCBmYWxzZSlcbiAgICAgICAgICAvLyB9KTtcblxuICAgICAgICAgIC8vIFsnZHJhZ2xlYXZlJywgJ2Ryb3AnXS5mb3JFYWNoKGV2ZW50TmFtZSA9PiB7XG4gICAgICAgICAgLy8gICAkbmV3TGFiZWxbMF0uYWRkRXZlbnRMaXN0ZW5lcihldmVudE5hbWUsIHVuaGlnaGxpZ2h0LCBmYWxzZSlcbiAgICAgICAgICAvLyB9KTtcbiAgICAgICAgICAvLyAkbmV3TGFiZWxbMF0uYWRkRXZlbnRMaXN0ZW5lcignZHJvcCcsIGhhbmRsZURyb3AsIGZhbHNlKTtcbiAgICAgICAgICAvLyAkbmV3UmVzdWx0LmNoaWxkcmVuKCcudXBsb2FkX19jbG9zZScpWzBdLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgb25GaWxlQ2xlYXIpO1xuICAgICAgICB9XG5cblxuICAgICAgfVxuXG5cbiAgICAgIHJlYWRlci5yZWFkQXNEYXRhVVJMKGlucHV0LmZpbGVzWzBdKTtcbiAgICB9XG4gIH1cblxuICBjb25zdCBvbkZpbGVDaGFuZ2UgPSAoZSkgPT4ge1xuICAgIHJlYWRVcmwoZS5jdXJyZW50VGFyZ2V0KTtcbiAgICBjb25zb2xlLmxvZyhlLmN1cnJlbnRUYXJnZXQpO1xuICB9O1xuXG4gIGZ1bmN0aW9uIG9uRmlsZURyb3AoaW5wdXQpIHtcbiAgICByZWFkVXJsKGlucHV0KTtcbiAgfTtcblxuICBmdW5jdGlvbiBoYW5kbGVEcm9wKGUpIHtcbiAgICBsZXQgZHQgPSBlLmRhdGFUcmFuc2ZlclxuICAgIGxldCBmaWxlcyA9IGR0LmZpbGVzXG5cbiAgICBjb25zdCB0YXJnZXQgPSBlLmN1cnJlbnRUYXJnZXQ7XG4gICAgY29uc3QgaW5wdXQgPSB0YXJnZXQucXVlcnlTZWxlY3RvcignaW5wdXQnKTtcblxuICAgIGlmIChpbnB1dC5maWxlcyAmJiBpbnB1dC5maWxlc1swXSkge1xuICAgICAgaW5wdXQudmFsdWUgPSAnJztcblxuICAgICAgaWYoIS9zYWZhcmkvaS50ZXN0KG5hdmlnYXRvci51c2VyQWdlbnQpKXtcbiAgICAgICAgaW5wdXQudHlwZSA9ICcnO1xuICAgICAgICBpbnB1dC50eXBlID0gJ2ZpbGUnO1xuICAgICAgfVxuXG4gICAgICAvLyBmaWxlUmVzdWx0LmNsYXNzTGlzdC5yZW1vdmUoJ3Nob3cnKTtcbiAgICAgIC8vIGZpbGVOYW1lLnRleHRDb250ZW50ID0gJyc7XG4gICAgICAvLyBmaWxlSW1nLnJlbW92ZUF0dHJpYnV0ZSgnc3JjJyk7XG4gICAgfVxuXG4gICAgaW5wdXQuZmlsZXMgPSBmaWxlcztcbiAgICBvbkZpbGVEcm9wKGlucHV0KTtcblxuICAgIC8vaGFuZGxlRmlsZXMoZmlsZXMpXG4gIH07XG5cbiAgZnVuY3Rpb24gc2V0SWRzKHJlc3VsdCwgaWR4KSB7XG4gICAgcmVzdWx0LnBhcmVudHMoJy51cGxvYWQnKS5maW5kKCcudXBsb2FkX19sYWJlbCcpLmVhY2goZnVuY3Rpb24oaWQsIGVsZW1lbnQpIHtcbiAgICAgIGlmIChpZCA+IGlkeCkge1xuICAgICAgICBjb25zdCBuZXdJZCA9IGlkIC0gMTtcbiAgICAgICAgJCh0aGlzKS5hdHRyKCdkYXRhLWlucHV0JywgbmV3SWQpO1xuICAgICAgICAkKHRoaXMpLmNoaWxkcmVuKCdpbnB1dCcpLmF0dHIoJ25hbWUnLCAnZmlsZS0nICsgbmV3SWQpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgJCh0aGlzKS5hdHRyKCdkYXRhLWlucHV0JywgaWQpO1xuICAgICAgICAkKHRoaXMpLmNoaWxkcmVuKCdpbnB1dCcpLmF0dHIoJ25hbWUnLCAnZmlsZS0nICsgaWQpO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgcmVzdWx0LnBhcmVudHMoJy51cGxvYWQnKS5maW5kKCcudXBsb2FkX19yZXN1bHQnKS5lYWNoKGZ1bmN0aW9uKGlkLCBlbGVtZW50KSB7XG4gICAgICBpZiAoaWQgPiBpZHgpIHtcbiAgICAgICAgJCh0aGlzKS5hdHRyKCdkYXRhLXJlc3VsdCcsIGlkIC0gMSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAkKHRoaXMpLmF0dHIoJ2RhdGEtcmVzdWx0JywgaWQpO1xuICAgICAgfVxuICAgIH0pO1xuICB9O1xuXG4gIGZ1bmN0aW9uIG9uRmlsZUNsZWFyKGUpIHtcbiAgICBjb25zdCAkdGFyZ2V0ID0gJChlLmN1cnJlbnRUYXJnZXQpO1xuICAgIGNvbnN0ICRyZXN1bHQgPSAkdGFyZ2V0LnBhcmVudHMoJy51cGxvYWRfX3Jlc3VsdCcpO1xuICAgIGNvbnN0ICRpZHggPSAkcmVzdWx0LmF0dHIoJ2RhdGEtcmVzdWx0Jyk7XG4gICAgY29uc3QgJGxhYmVsID0gJHJlc3VsdC5wYXJlbnRzKCcudXBsb2FkJykuZmluZChcIltkYXRhLWlucHV0PSdcIiArICRpZHggK1wiJ11cIik7XG4gICAgY29uc3QgaW5wdXQgPSAkbGFiZWwuY2hpbGRyZW4oJ2lucHV0JylbMF07XG5cbiAgICBjb25zdCAkYmxvY2sgPSAkdGFyZ2V0LnBhcmVudHMoJy51cGxvYWQnKTtcblxuICAgIGlmICgkYmxvY2suaGFzQ2xhc3MoJ211bHRpJykpIHtcbiAgICAgIHNldElkcygkcmVzdWx0LCAkaWR4KTtcblxuICAgICAgJHJlc3VsdC5yZW1vdmUoKTtcbiAgICAgICRsYWJlbC5yZW1vdmUoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgaW5wdXQudmFsdWUgPSAnJztcblxuICAgICAgaWYoIS9zYWZhcmkvaS50ZXN0KG5hdmlnYXRvci51c2VyQWdlbnQpKXtcbiAgICAgICAgaW5wdXQudHlwZSA9ICcnO1xuICAgICAgICBpbnB1dC50eXBlID0gJ2ZpbGUnO1xuICAgICAgfVxuXG4gICAgICAkbGFiZWwucmVtb3ZlQ2xhc3MoJ2hpZGRlbicpO1xuICAgICAgJHJlc3VsdC5yZW1vdmVDbGFzcygnc2hvdycpO1xuICAgIH1cblxuXG4gIH1cblxuICBmdW5jdGlvbiBhZGRFdmVudExpc3RlbmVycygkaW5wdXRMYWJlbCwgJHJlc3VsdCkge1xuICAgIC8vIGNvbnN0IGZpbGVMYWJlbCA9ICQoYmxvY2spLmZpbmQoXCJbZGF0YS1pbnB1dD0nXCIgKyBpZHggK1wiJ11cIilbMF07XG4gICAgLy8gY29uc3QgZmlsZUlucHV0ID0gJChmaWxlTGFiZWwpLmZpbmQoJ2lucHV0JylbMF07XG4gICAgLy8gY29uc3QgZmlsZVJlc3VsdCA9ICQoYmxvY2spLmZpbmQoXCJbZGF0YS1yZXN1bHQ9J1wiICsgaWR4ICtcIiddXCIpWzBdO1xuICAgIC8vIGNvbnN0IGZpbGVDbGVhckJ0biA9ICQoZmlsZVJlc3VsdCkuZmluZCgnLnVwbG9hZF9fY2xvc2UnKVswXTtcbiAgICBjb25zdCBpbnB1dCA9ICRpbnB1dExhYmVsLmNoaWxkcmVuKCdpbnB1dCcpWzBdO1xuICAgIGNvbnN0IGlucHV0TGFiZWwgPSAkaW5wdXRMYWJlbFswXTtcbiAgICBjb25zdCBmaWxlQ2xlYXJCdG4gPSAkcmVzdWx0LmZpbmQoJy51cGxvYWRfX2Nsb3NlJylbMF07XG5cbiAgICBbJ2RyYWdlbnRlcicsICdkcmFnb3ZlcicsICdkcmFnbGVhdmUnLCAnZHJvcCddLmZvckVhY2goZXZlbnROYW1lID0+IHtcbiAgICAgIGlucHV0TGFiZWwuYWRkRXZlbnRMaXN0ZW5lcihldmVudE5hbWUsIHByZXZlbnREZWZhdWx0cywgZmFsc2UpXG4gICAgfSk7XG5cbiAgICBbJ2RyYWdlbnRlcicsICdkcmFnb3ZlciddLmZvckVhY2goZXZlbnROYW1lID0+IHtcbiAgICAgIGlucHV0TGFiZWwuYWRkRXZlbnRMaXN0ZW5lcihldmVudE5hbWUsIGhpZ2hsaWdodCwgZmFsc2UpXG4gICAgfSk7XG5cbiAgICBbJ2RyYWdsZWF2ZScsICdkcm9wJ10uZm9yRWFjaChldmVudE5hbWUgPT4ge1xuICAgICAgaW5wdXRMYWJlbC5hZGRFdmVudExpc3RlbmVyKGV2ZW50TmFtZSwgdW5oaWdobGlnaHQsIGZhbHNlKVxuICAgIH0pXG5cbiAgICBpbnB1dExhYmVsLmFkZEV2ZW50TGlzdGVuZXIoJ2Ryb3AnLCBoYW5kbGVEcm9wLCBmYWxzZSk7XG4gICAgaW5wdXQuYWRkRXZlbnRMaXN0ZW5lcignY2hhbmdlJywgb25GaWxlQ2hhbmdlKTtcbiAgICBmaWxlQ2xlYXJCdG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBvbkZpbGVDbGVhcik7XG4gIH1cblxuICAvLyBmdW5jdGlvbiByZW1vdmVFdmVudExpc3RlbmVycyhibG9jaywgaWR4KSB7XG4gIC8vICAgY29uc3QgZmlsZUxhYmVsID0gJChibG9jaykuZmluZChcIltkYXRhLWlucHV0PSdcIiArIGlkeCArXCInXVwiKVswXTtcbiAgLy8gICBjb25zdCBmaWxlSW5wdXQgPSAkKGZpbGVMYWJlbCkuZmluZCgnaW5wdXQnKVswXTtcblxuICAvLyAgIFsnZHJhZ2VudGVyJywgJ2RyYWdvdmVyJywgJ2RyYWdsZWF2ZScsICdkcm9wJ10uZm9yRWFjaChldmVudE5hbWUgPT4ge1xuICAvLyAgICAgZmlsZUxhYmVsLnJlbW92ZUV2ZW50TGlzdGVuZXIoZXZlbnROYW1lLCBwcmV2ZW50RGVmYXVsdHMsIGZhbHNlKVxuICAvLyAgIH0pO1xuXG4gIC8vICAgWydkcmFnZW50ZXInLCAnZHJhZ292ZXInXS5mb3JFYWNoKGV2ZW50TmFtZSA9PiB7XG4gIC8vICAgICBmaWxlTGFiZWwucmVtb3ZlRXZlbnRMaXN0ZW5lcihldmVudE5hbWUsIGhpZ2hsaWdodCwgZmFsc2UpXG4gIC8vICAgfSk7XG5cbiAgLy8gICBbJ2RyYWdsZWF2ZScsICdkcm9wJ10uZm9yRWFjaChldmVudE5hbWUgPT4ge1xuICAvLyAgICAgZmlsZUxhYmVsLnJlbW92ZUV2ZW50TGlzdGVuZXIoZXZlbnROYW1lLCB1bmhpZ2hsaWdodCwgZmFsc2UpXG4gIC8vICAgfSlcblxuICAvLyAgIGZpbGVMYWJlbC5yZW1vdmVFdmVudExpc3RlbmVyKCdkcm9wJywgaGFuZGxlRHJvcCwgZmFsc2UpO1xuICAvLyAgIGZpbGVJbnB1dC5yZW1vdmVFdmVudExpc3RlbmVyKCdjaGFuZ2UnLCBvbkZpbGVDaGFuZ2UpO1xuICAvLyB9XG5cblxuXG5cbiAgdXBsb2Fkcy5mb3JFYWNoKGZ1bmN0aW9uKHVwbG9hZCkge1xuXG4gICAgY29uc3QgJGlucHV0TGFiZWwgPSAkKHVwbG9hZCkuZmluZCgnLnVwbG9hZF9fbGFiZWwnKTtcbiAgICBjb25zdCAkcmVzdWx0ID0gJCh1cGxvYWQpLmZpbmQoJy51cGxvYWRfX3Jlc3VsdCcpO1xuXG4gICAgaWYgKCEkKHVwbG9hZCkuaGFzQ2xhc3MoJ2Rpc2FibGVkJykpIHtcbiAgICAgIGFkZEV2ZW50TGlzdGVuZXJzKCRpbnB1dExhYmVsLCAkcmVzdWx0KTtcbiAgICB9XG5cblxuICAgIC8vIC8vINCh0LHRgNCw0YHRi9Cy0LDQtdC8INGB0YLQsNC90LTQsNGA0YLQvdGL0LUg0YHQvtCx0YvRgtC40Y8g0L/RgNC4INC/0LXRgNC10YLQsNGB0LrQuNCy0LDQvdC40Lgg0YTQsNC50LvQsFxuXG4gICAgLy8gWydkcmFnZW50ZXInLCAnZHJhZ292ZXInLCAnZHJhZ2xlYXZlJywgJ2Ryb3AnXS5mb3JFYWNoKGV2ZW50TmFtZSA9PiB7XG4gICAgLy8gICBmaWxlTGFiZWwuYWRkRXZlbnRMaXN0ZW5lcihldmVudE5hbWUsIHByZXZlbnREZWZhdWx0cywgZmFsc2UpXG4gICAgLy8gfSk7XG5cbiAgICAvLyAvLyDQlNC+0LHQsNCy0LvRj9C10Lwg0YHRgtC40LvQuCDQv9GA0Lgg0L/QtdGA0LXRgtCw0YHQutC40LLQsNC90LjQuCDRhNCw0LnQu9CwINC90LDQtCDQvdGD0LbQvdC+0Lkg0L7QsdC70LDRgdGC0YzRjlxuXG4gICAgLy8gWydkcmFnZW50ZXInLCAnZHJhZ292ZXInXS5mb3JFYWNoKGV2ZW50TmFtZSA9PiB7XG4gICAgLy8gICBmaWxlTGFiZWwuYWRkRXZlbnRMaXN0ZW5lcihldmVudE5hbWUsIGhpZ2hsaWdodCwgZmFsc2UpXG4gICAgLy8gfSk7XG5cbiAgICAvLyBbJ2RyYWdsZWF2ZScsICdkcm9wJ10uZm9yRWFjaChldmVudE5hbWUgPT4ge1xuICAgIC8vICAgZmlsZUxhYmVsLmFkZEV2ZW50TGlzdGVuZXIoZXZlbnROYW1lLCB1bmhpZ2hsaWdodCwgZmFsc2UpXG4gICAgLy8gfSlcblxuICAgIC8vIC8vXG5cblxuICAgIC8vIGZpbGVMYWJlbC5hZGRFdmVudExpc3RlbmVyKCdkcm9wJywgaGFuZGxlRHJvcCwgZmFsc2UpO1xuICAgIC8vIGZpbGVJbnB1dC5hZGRFdmVudExpc3RlbmVyKCdjaGFuZ2UnLCBvbkZpbGVDaGFuZ2UpO1xuICB9KTtcblxuXG5cbn0pKCk7XG4iLCIoZnVuY3Rpb24oKSB7XG4gIC8vIHZhciBEZWZhdWx0cyA9ICQuZm4uc2VsZWN0Mi5hbWQucmVxdWlyZSgnc2VsZWN0Mi9kZWZhdWx0cycpO1xuXG4gIC8vICQuZXh0ZW5kKERlZmF1bHRzLmRlZmF1bHRzLCB7XG4gIC8vICAgICBzZWFyY2hJbnB1dFBsYWNlaG9sZGVyOiAnJ1xuICAvLyB9KTtcblxuICAvLyB2YXIgU2VhcmNoRHJvcGRvd24gPSAkLmZuLnNlbGVjdDIuYW1kLnJlcXVpcmUoJ3NlbGVjdDIvZHJvcGRvd24vc2VhcmNoJyk7XG5cbiAgLy8gdmFyIF9yZW5kZXJTZWFyY2hEcm9wZG93biA9IFNlYXJjaERyb3Bkb3duLnByb3RvdHlwZS5yZW5kZXI7XG5cbiAgLy8gU2VhcmNoRHJvcGRvd24ucHJvdG90eXBlLnJlbmRlciA9IGZ1bmN0aW9uKGRlY29yYXRlZCkge1xuXG4gIC8vICAgICAvLyBpbnZva2UgcGFyZW50IG1ldGhvZFxuICAvLyAgICAgdmFyICRyZW5kZXJlZCA9IF9yZW5kZXJTZWFyY2hEcm9wZG93bi5hcHBseSh0aGlzLCBBcnJheS5wcm90b3R5cGUuc2xpY2UuYXBwbHkoYXJndW1lbnRzKSk7XG5cbiAgLy8gICAgIHRoaXMuJHNlYXJjaC5hdHRyKCdwbGFjZWhvbGRlcicsIHRoaXMub3B0aW9ucy5nZXQoJ3NlYXJjaElucHV0UGxhY2Vob2xkZXInKSk7XG5cbiAgLy8gICAgIHJldHVybiAkcmVuZGVyZWQ7XG4gIC8vIH07XG5cbiAgJCgnPGRpdi8+Jywge1xuICAgICdjbGFzcyc6ICdwcmVsb2FkZXInXG4gIH0pLmNzcyh7XG4gICAgJ3Bvc2l0aW9uJzogJ2ZpeGVkJyxcbiAgICAndG9wJzogJzAnLFxuICAgICdsZWZ0JzogJzAnLFxuICAgICd3aWR0aCc6ICcxMDB2dycsXG4gICAgJ2hlaWdodCc6ICcxMDB2aCcsXG4gICAgJ2JhY2tncm91bmQtY29sb3InOiAnI2ZmZicsXG4gICAgJ3otaW5kZXgnOiAnMzAwMCdcbiAgfSkuYXBwZW5kVG8oJ2h0bWwnKTtcblxuXG4gIGNvbnN0IGNoZWNrSW5wdXQgPSBmdW5jdGlvbihlKSB7XG4gICAgaWYgKGUudGFyZ2V0LnZhbHVlLmxlbmd0aCA+IDApIHtcbiAgICAgICQoZS50YXJnZXQpLmFkZENsYXNzKCdpbnB1dGVkJylcbiAgICB9IGVsc2Uge1xuICAgICAgJChlLnRhcmdldCkucmVtb3ZlQ2xhc3MoJ2lucHV0ZWQnKVxuICAgIH1cbiAgfTtcblxuICAkKGRvY3VtZW50KS5yZWFkeShmdW5jdGlvbigpIHtcbiAgICAkKCcuanMtc2VsZWN0LWNvbWJvJykuc2VsZWN0Mih7XG4gICAgICAvL21pbmltdW1SZXN1bHRzRm9yU2VhcmNoOiBJbmZpbml0eVxuICAgICAgcGxhY2Vob2xkZXI6IFwi0JLQstC10LTQuNGC0LUg0LjQu9C4INCy0YvQsdC10YDQuNGC0LUg0LLQsNGA0LjQsNC90YJcIixcbiAgICAgIGRyb3Bkb3duQ3NzQ2xhc3M6ICdzZWxlY3QtZHJvcGRvd24nLFxuICAgICAgXCJsYW5ndWFnZVwiOiB7XG4gICAgICAgIFwibm9SZXN1bHRzXCI6IGZ1bmN0aW9uKCl7XG4gICAgICAgICAgICByZXR1cm4gJ9Cd0LjRh9C10LPQviDQvdC1INC90LDQudC00LXQvdC+JztcbiAgICAgICAgfSxcbiAgICAgICAgc2VhcmNoaW5nOiBmdW5jdGlvbigpIHtcbiAgICAgICAgICByZXR1cm4gXCLQl9Cw0LPRgNGD0LfQutCwLi4uXCI7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIC8vc2VhcmNoSW5wdXRQbGFjZWhvbGRlcjogJ015IGN1c3RvbSBwbGFjZWhvbGRlci4uLidcbiAgICB9KTtcblxuICAgICQoJy5qcy1zZWxlY3QtY29tYm8nKS5vbignc2VsZWN0MjpvcGVuJywgZnVuY3Rpb24oKSB7XG4gICAgICAkKCcuc2VsZWN0Mi1zZWFyY2ggaW5wdXQnKS5vZmYoJ2lucHV0JywgY2hlY2tJbnB1dCk7XG4gICAgICAkKCcuc2VsZWN0Mi1zZWFyY2ggaW5wdXQnKS5vbignaW5wdXQnLCBjaGVja0lucHV0KTtcbiAgICB9KTtcblxuICAgICQoJy5qcy1zZWxlY3QtY29tYm8nKS5vbignc2VsZWN0MjpjbG9zaW5nJywgZnVuY3Rpb24oKSB7XG4gICAgICAkKCcuc2VsZWN0Mi1zZWFyY2ggaW5wdXQnKS5yZW1vdmVDbGFzcygnaW5wdXRlZCcpO1xuICAgIH0pO1xuXG5cblxuXG5cbiAgICAkKCcuanMtc2VsZWN0LWNvbWJvLW9wZW4nKS5zZWxlY3QyKHtcbiAgICAgIC8vbWluaW11bVJlc3VsdHNGb3JTZWFyY2g6IEluZmluaXR5XG4gICAgICBwbGFjZWhvbGRlcjogXCLQktCy0LXQtNC40YLQtSDQuNC70Lgg0LLRi9Cx0LXRgNC40YLQtSDQstCw0YDQuNCw0L3RglwiLFxuICAgICAgZHJvcGRvd25Dc3NDbGFzczogWydzZWxlY3QtZHJvcGRvd24nLCAnc2VsZWN0LWRyb3Bkb3duLW11bHRpJywgJ3NlbGVjdC1kcm9wZG93bi0tb3BlbmVkJ10sXG4gICAgICBcImxhbmd1YWdlXCI6IHtcbiAgICAgICAgXCJub1Jlc3VsdHNcIjogZnVuY3Rpb24oKXtcbiAgICAgICAgICAgIHJldHVybiAn0J3QuNGH0LXQs9C+INC90LUg0L3QsNC50LTQtdC90L4nO1xuICAgICAgICB9LFxuICAgICAgICBzZWFyY2hpbmc6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgIHJldHVybiBcItCX0LDQs9GA0YPQt9C60LAuLi5cIjtcbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIC8vc2VhcmNoSW5wdXRQbGFjZWhvbGRlcjogJ015IGN1c3RvbSBwbGFjZWhvbGRlci4uLidcbiAgICB9KS5vbihcInNlbGVjdDI6Y2xvc2luZ1wiLCBmdW5jdGlvbihlKSB7XG4gICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgfSkub24oXCJzZWxlY3QyOmNsb3NlZFwiLCBmdW5jdGlvbihlKSB7XG4gICAgICAgIGxpc3Quc2VsZWN0MihcIm9wZW5cIik7XG4gICAgfSk7XG5cbiAgICAkKCcuanMtc2VsZWN0LWNvbWJvLW9wZW4nKS5zZWxlY3QyKCdvcGVuJyk7XG4gICAgJCgnLnNlbGVjdC1kcm9wZG93bi1tdWx0aSBpbnB1dCcpLm9uKCdpbnB1dCcsIGNoZWNrSW5wdXQpO1xuXG5cblxuXG5cbiAgICAkKCcuanMtc2VsZWN0LWNvbWJvLXNlYXJjaGluZycpLnNlbGVjdDIoe1xuICAgICAgLy9taW5pbXVtUmVzdWx0c0ZvclNlYXJjaDogSW5maW5pdHlcbiAgICAgIHBsYWNlaG9sZGVyOiBcItCS0LLQtdC00LjRgtC1INC40LvQuCDQstGL0LHQtdGA0LjRgtC1INCy0LDRgNC40LDQvdGCXCIsXG4gICAgICBkcm9wZG93bkNzc0NsYXNzOiBbXG4gICAgICAgICdzZWxlY3QtZHJvcGRvd24nLFxuICAgICAgICAnc2VsZWN0LWRyb3Bkb3duLS1vcGVuZWQnLFxuICAgICAgICAnc2VsZWN0LWRyb3Bkb3duLS1zZWFyY2hpbmcnXG4gICAgICBdLFxuICAgICAgXCJsYW5ndWFnZVwiOiB7XG4gICAgICAgIFwibm9SZXN1bHRzXCI6IGZ1bmN0aW9uKCl7XG4gICAgICAgICAgICByZXR1cm4gJ9Cd0LjRh9C10LPQviDQvdC1INC90LDQudC00LXQvdC+JztcbiAgICAgICAgfSxcbiAgICAgICAgc2VhcmNoaW5nOiBmdW5jdGlvbigpIHtcbiAgICAgICAgICByZXR1cm4gXCLQl9Cw0LPRgNGD0LfQutCwLi4uXCI7XG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICBhamF4OiB7XG4gICAgICAgIGRlbGF5OiA1MDAwMDAwMDAsXG4gICAgICAgIHVybDogJ2h0dHBzOi8vYW50aWJyZWV6LmdpdGh1Yi5pby9zZWxlY3QtZGF0YS9zZWxlY3QtZGF0YS5qc29uJyxcbiAgICAgIH1cbiAgICAgIC8vc2VhcmNoSW5wdXRQbGFjZWhvbGRlcjogJ015IGN1c3RvbSBwbGFjZWhvbGRlci4uLidcbiAgICB9KS5vbihcInNlbGVjdDI6Y2xvc2luZ1wiLCBmdW5jdGlvbihlKSB7XG4gICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgfSkub24oXCJzZWxlY3QyOmNsb3NlZFwiLCBmdW5jdGlvbihlKSB7XG4gICAgICAgIGxpc3Quc2VsZWN0MihcIm9wZW5cIik7XG4gICAgfSk7XG5cbiAgICB2YXIgZXZlbnQgPSBuZXcgRXZlbnQoJ2lucHV0Jywge1xuICAgICAgYnViYmxlczogdHJ1ZSxcbiAgICAgIGNhbmNlbGFibGU6IHRydWUsXG4gICAgfSk7XG5cbiAgICAkKCcuanMtc2VsZWN0LWNvbWJvLXNlYXJjaGluZycpLnNlbGVjdDIoJ29wZW4nKTtcbiAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xuICAgICAgaWYgKCQoJy5zZWxlY3QtZHJvcGRvd24tLXNlYXJjaGluZyBpbnB1dCcpWzBdKSB7XG4gICAgICAgICQoJy5zZWxlY3QtZHJvcGRvd24tLXNlYXJjaGluZyBpbnB1dCcpWzBdLmRpc3BhdGNoRXZlbnQoZXZlbnQpO1xuICAgICAgfVxuICAgIH0sIDUwMCk7XG5cblxuXG5cbiAgICAkKCcuanMtc2VsZWN0LWNvbWJvLW5vdC1mb3VuZCcpLnNlbGVjdDIoe1xuICAgICAgLy9taW5pbXVtUmVzdWx0c0ZvclNlYXJjaDogSW5maW5pdHlcbiAgICAgIGRyb3Bkb3duQ3NzQ2xhc3M6IFsnc2VsZWN0LWRyb3Bkb3duJywgJ3NlbGVjdC1kcm9wZG93bi0tb3BlbmVkJywgJ3NlbGVjdC1kcm9wZG93bi0tbm90LWZvdW5kJ10sXG4gICAgICBcImxhbmd1YWdlXCI6IHtcbiAgICAgICAgXCJub1Jlc3VsdHNcIjogZnVuY3Rpb24oKXtcbiAgICAgICAgICAgIHJldHVybiAn0J3QuNGH0LXQs9C+INC90LUg0L3QsNC50LTQtdC90L4nO1xuICAgICAgICB9LFxuICAgICAgICBzZWFyY2hpbmc6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgIHJldHVybiBcItCX0LDQs9GA0YPQt9C60LAuLi5cIjtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgLy9zZWFyY2hJbnB1dFBsYWNlaG9sZGVyOiAnTXkgY3VzdG9tIHBsYWNlaG9sZGVyLi4uJ1xuICAgIH0pLm9uKFwic2VsZWN0MjpjbG9zaW5nXCIsIGZ1bmN0aW9uKGUpIHtcbiAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICB9KS5vbihcInNlbGVjdDI6Y2xvc2VkXCIsIGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgbGlzdC5zZWxlY3QyKFwib3BlblwiKTtcbiAgICB9KTtcblxuICAgICQoJy5qcy1zZWxlY3QtY29tYm8tbm90LWZvdW5kJykuc2VsZWN0Mignb3BlbicpO1xuICAgICQoJy5zZWxlY3QtZHJvcGRvd24tLW5vdC1mb3VuZCBpbnB1dCcpLnZhbCgn0YTRi9Cy0LDQv9CwJyk7XG5cbiAgICBpZiAoJCgnLnNlbGVjdC1kcm9wZG93bi0tbm90LWZvdW5kIGlucHV0JylbMF0pIHtcbiAgICAgICQoJy5zZWxlY3QtZHJvcGRvd24tLW5vdC1mb3VuZCBpbnB1dCcpWzBdLmRpc3BhdGNoRXZlbnQoZXZlbnQpO1xuICAgIH1cblxuXG5cbiAgICAkKCcuanMtc2VsZWN0LXNpbmdsZScpLnNlbGVjdDIoe1xuICAgICAgcGxhY2Vob2xkZXI6IFwi0JLRi9Cx0LXRgNC40YLQtSDQstCw0YDQuNCw0L3RglwiLFxuICAgICAgbWluaW11bVJlc3VsdHNGb3JTZWFyY2g6IEluZmluaXR5LFxuICAgICAgZHJvcGRvd25Dc3NDbGFzczogWydzZWxlY3QtZHJvcGRvd24nLCdzZWxlY3QtZHJvcGRvd24tLXNpbmdsZSddXG4gICAgfSlcblxuICAgIHZhciBsaXN0ID0gJChcIi5qcy1zZWxlY3Qtc2luZ2xlLW9wZW5cIikuc2VsZWN0Mih7XG4gICAgICBwbGFjZWhvbGRlcjogXCLQktGL0LHQtdGA0LjRgtC1INCy0LDRgNC40LDQvdGCXCIsXG4gICAgICBtaW5pbXVtUmVzdWx0c0ZvclNlYXJjaDogSW5maW5pdHksXG4gICAgICBkcm9wZG93bkNzc0NsYXNzOiBbXG4gICAgICAgICdzZWxlY3QtZHJvcGRvd24nLFxuICAgICAgICAnc2VsZWN0LWRyb3Bkb3duLS1zaW5nbGUnLFxuICAgICAgICAnc2VsZWN0LWRyb3Bkb3duLS1vcGVuZWQnXG4gICAgICBdLFxuICAgICAgY2xvc2VPblNlbGVjdDogZmFsc2VcbiAgICB9KS5vbihcInNlbGVjdDI6Y2xvc2luZ1wiLCBmdW5jdGlvbihlKSB7XG4gICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICB9KS5vbihcInNlbGVjdDI6Y2xvc2VkXCIsIGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgbGlzdC5zZWxlY3QyKFwib3BlblwiKTtcbiAgICB9KTtcblxuICAgIGxpc3Quc2VsZWN0Mignb3BlbicpO1xuXG5cblxuXG5cblxuXG4gICAgJCgnLmpzLXNlbGVjdC1tdWx0aScpLnNlbGVjdDIoe1xuICAgICAgLy9taW5pbXVtUmVzdWx0c0ZvclNlYXJjaDogSW5maW5pdHlcbiAgICAgIHBsYWNlaG9sZGVyOiBcItCS0YvQsdC10YDQuNGC0LUg0LLQsNGA0LjQsNC90YLRi1wiLFxuICAgICAgZHJvcGRvd25Dc3NDbGFzczogW1xuICAgICAgICAnc2VsZWN0LWRyb3Bkb3duJyxcbiAgICAgICAgJ3NlbGVjdC1kcm9wZG93bi1tdWx0aSdcbiAgICAgIF0sXG4gICAgICBcImxhbmd1YWdlXCI6IHtcbiAgICAgICAgXCJub1Jlc3VsdHNcIjogZnVuY3Rpb24oKXtcbiAgICAgICAgICAgIHJldHVybiAn0J3QuNGH0LXQs9C+INC90LUg0L3QsNC50LTQtdC90L4nO1xuICAgICAgICB9LFxuICAgICAgICBzZWFyY2hpbmc6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgIHJldHVybiBcItCX0LDQs9GA0YPQt9C60LAuLi5cIjtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgLy9zZWFyY2hJbnB1dFBsYWNlaG9sZGVyOiAnTXkgY3VzdG9tIHBsYWNlaG9sZGVyLi4uJ1xuICAgIH0pO1xuXG4gICAgJCgnLmpzLXNlbGVjdC1tdWx0aScpLm9uKCdzZWxlY3QyOm9wZW4nLCBmdW5jdGlvbigpIHtcbiAgICAgICQoJy5zZWxlY3QyLXNlYXJjaCBpbnB1dCcpLm9mZignaW5wdXQnLCBjaGVja0lucHV0KTtcbiAgICAgICQoJy5zZWxlY3QyLXNlYXJjaCBpbnB1dCcpLm9uKCdpbnB1dCcsIGNoZWNrSW5wdXQpO1xuICAgIH0pO1xuXG4gICAgJCgnLmpzLXNlbGVjdC1tdWx0aScpLm9uKCdzZWxlY3QyOmNsb3NpbmcnLCBmdW5jdGlvbigpIHtcbiAgICAgICQoJy5zZWxlY3QyLXNlYXJjaCBpbnB1dCcpLnJlbW92ZUNsYXNzKCdpbnB1dGVkJyk7XG4gICAgfSk7XG5cblxuICAgICQoJy5qcy1zZWxlY3QtbXVsdGktb3BlbicpLnNlbGVjdDIoe1xuICAgICAgLy9taW5pbXVtUmVzdWx0c0ZvclNlYXJjaDogSW5maW5pdHlcbiAgICAgIHBsYWNlaG9sZGVyOiBcItCS0YvQsdC10YDQuNGC0LUg0LLQsNGA0LjQsNC90YLRi1wiLFxuICAgICAgbWF4aW11bVNlbGVjdGlvbkxlbmd0aDogMyxcbiAgICAgIGRyb3Bkb3duQ3NzQ2xhc3M6IFtcbiAgICAgICAgJ3NlbGVjdC1kcm9wZG93bicsXG4gICAgICAgICdzZWxlY3QtZHJvcGRvd24tLW9wZW5lZCcsXG4gICAgICAgICdzZWxlY3QtZHJvcGRvd24tbXVsdGknXG4gICAgICBdLFxuICAgICAgXCJsYW5ndWFnZVwiOiB7XG4gICAgICAgIFwibm9SZXN1bHRzXCI6IGZ1bmN0aW9uKCl7XG4gICAgICAgICAgICByZXR1cm4gJ9Cd0LjRh9C10LPQviDQvdC1INC90LDQudC00LXQvdC+JztcbiAgICAgICAgfSxcbiAgICAgICAgc2VhcmNoaW5nOiBmdW5jdGlvbigpIHtcbiAgICAgICAgICByZXR1cm4gXCLQl9Cw0LPRgNGD0LfQutCwLi4uXCI7XG4gICAgICAgIH0sXG4gICAgICAgIG1heGltdW1TZWxlY3RlZDogZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgICByZXR1cm4gXCLQnNCw0LrRgS4g0LrQvtC70LjRh9C10YHRgtCy0L4g0LLQsNGA0LjQsNC90YLQvtCyIC0gXCIgKyBlLm1heGltdW07XG4gICAgICAgIH0sXG4gICAgICB9XG4gICAgICAvL3NlYXJjaElucHV0UGxhY2Vob2xkZXI6ICdNeSBjdXN0b20gcGxhY2Vob2xkZXIuLi4nXG4gICAgfSkub24oXCJzZWxlY3QyOmNsb3NpbmdcIiwgZnVuY3Rpb24oZSkge1xuICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICB9KS5vbihcInNlbGVjdDI6Y2xvc2VkXCIsIGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgbGlzdC5zZWxlY3QyKFwib3BlblwiKTtcbiAgICB9KTtcblxuICAgICQoJy5qcy1zZWxlY3QtbXVsdGktb3BlbicpLnNlbGVjdDIoJ29wZW4nKTtcblxuXG5cblxuXG5cblxuXG5cbiAgICAkKCcuanMtc2VsZWN0LW11bHRpLXNlYXJjaGluZycpLnNlbGVjdDIoe1xuICAgICAgLy9taW5pbXVtUmVzdWx0c0ZvclNlYXJjaDogSW5maW5pdHlcbiAgICAgIHBsYWNlaG9sZGVyOiBcItCS0YvQsdC10YDQuNGC0LUg0LLQsNGA0LjQsNC90YLRi1wiLFxuICAgICAgZHJvcGRvd25Dc3NDbGFzczogW1xuICAgICAgICAnc2VsZWN0LWRyb3Bkb3duJyxcbiAgICAgICAgJ3NlbGVjdC1kcm9wZG93bi0tb3BlbmVkJyxcbiAgICAgICAgJ3NlbGVjdC1kcm9wZG93bi0tc2VhcmNoaW5nLW11bHRpJ1xuICAgICAgXSxcbiAgICAgIFwibGFuZ3VhZ2VcIjoge1xuICAgICAgICBcIm5vUmVzdWx0c1wiOiBmdW5jdGlvbigpe1xuICAgICAgICAgICAgcmV0dXJuICfQndC40YfQtdCz0L4g0L3QtSDQvdCw0LnQtNC10L3Qvic7XG4gICAgICAgIH0sXG4gICAgICAgIHNlYXJjaGluZzogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgcmV0dXJuIFwi0JfQsNCz0YDRg9C30LrQsC4uLlwiO1xuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgYWpheDoge1xuICAgICAgICBkZWxheTogNTAwMDAwMDAwLFxuICAgICAgICB1cmw6ICdodHRwczovL2FudGlicmVlei5naXRodWIuaW8vc2VsZWN0LWRhdGEvc2VsZWN0LWRhdGEuanNvbicsXG4gICAgICB9XG4gICAgICAvL3NlYXJjaElucHV0UGxhY2Vob2xkZXI6ICdNeSBjdXN0b20gcGxhY2Vob2xkZXIuLi4nXG4gICAgfSkub24oXCJzZWxlY3QyOmNsb3NpbmdcIiwgZnVuY3Rpb24oZSkge1xuICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIH0pLm9uKFwic2VsZWN0MjpjbG9zZWRcIiwgZnVuY3Rpb24oZSkge1xuICAgICAgICBsaXN0LnNlbGVjdDIoXCJvcGVuXCIpO1xuICAgIH0pO1xuXG4gICAgdmFyIGV2ZW50ID0gbmV3IEV2ZW50KCdpbnB1dCcsIHtcbiAgICAgIGJ1YmJsZXM6IHRydWUsXG4gICAgICBjYW5jZWxhYmxlOiB0cnVlLFxuICAgIH0pO1xuXG4gICAgJCgnLmpzLXNlbGVjdC1tdWx0aS1zZWFyY2hpbmcnKS5zZWxlY3QyKCdvcGVuJyk7XG4gICAgc2V0VGltZW91dChmdW5jdGlvbigpIHtcbiAgICAgIGlmICgkKCcuc2VsZWN0LWRyb3Bkb3duLS1zZWFyY2hpbmctbXVsdGkgIGlucHV0JylbMF0pIHtcbiAgICAgICAgJCgnLnNlbGVjdC1kcm9wZG93bi0tc2VhcmNoaW5nLW11bHRpICBpbnB1dCcpWzBdLmRpc3BhdGNoRXZlbnQoZXZlbnQpO1xuICAgICAgfVxuICAgIH0sIDUwMCk7XG5cblxuXG5cblxuXG5cblxuXG4gICAgJCgnLmpzLXNlbGVjdC1tdWx0aS1ub3QtZm91bmQnKS5zZWxlY3QyKHtcbiAgICAgIC8vbWluaW11bVJlc3VsdHNGb3JTZWFyY2g6IEluZmluaXR5XG4gICAgICBkcm9wZG93bkNzc0NsYXNzOiBbXG4gICAgICAgICdzZWxlY3QtZHJvcGRvd24nLFxuICAgICAgICAnc2VsZWN0LWRyb3Bkb3duLS1vcGVuZWQnLFxuICAgICAgICAnc2VsZWN0LWRyb3Bkb3duLS1ub3QtZm91bmQtbXVsdGknXG4gICAgICBdLFxuICAgICAgXCJsYW5ndWFnZVwiOiB7XG4gICAgICAgIFwibm9SZXN1bHRzXCI6IGZ1bmN0aW9uKCl7XG4gICAgICAgICAgICByZXR1cm4gJ9Cd0LjRh9C10LPQviDQvdC1INC90LDQudC00LXQvdC+JztcbiAgICAgICAgfSxcbiAgICAgICAgc2VhcmNoaW5nOiBmdW5jdGlvbigpIHtcbiAgICAgICAgICByZXR1cm4gXCLQl9Cw0LPRgNGD0LfQutCwLi4uXCI7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIC8vc2VhcmNoSW5wdXRQbGFjZWhvbGRlcjogJ015IGN1c3RvbSBwbGFjZWhvbGRlci4uLidcbiAgICB9KS5vbihcInNlbGVjdDI6Y2xvc2luZ1wiLCBmdW5jdGlvbihlKSB7XG4gICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgfSkub24oXCJzZWxlY3QyOmNsb3NlZFwiLCBmdW5jdGlvbihlKSB7XG4gICAgICAgIGxpc3Quc2VsZWN0MihcIm9wZW5cIik7XG4gICAgfSk7XG5cbiAgICAkKCcuanMtc2VsZWN0LW11bHRpLW5vdC1mb3VuZCcpLnNlbGVjdDIoJ29wZW4nKTtcbiAgICAkKCcuc2VsZWN0LWRyb3Bkb3duLS1ub3QtZm91bmQtbXVsdGkgaW5wdXQnKS52YWwoJ9GE0YvQstCw0L/QsCcpO1xuXG4gICAgJCgnLnNlbGVjdC1kcm9wZG93bi0tbm90LWZvdW5kLW11bHRpIGlucHV0JylbMF1cbiAgICAgICYmICQoJy5zZWxlY3QtZHJvcGRvd24tLW5vdC1mb3VuZC1tdWx0aSBpbnB1dCcpWzBdLmRpc3BhdGNoRXZlbnQoZXZlbnQpO1xuXG4gIH0pO1xuXG5cblxuXG5cbiAgaWYgKCQoJy5tYWluLW5hdl9fbGluay0tYWN0aXZlJykudGV4dCgpID09ICfQpNC+0YDQvNGLJykge1xuICAgIHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7XG4gICAgICB3aW5kb3cuc2Nyb2xsVG8oMCwwKTtcbiAgICAgICQoJy5wcmVsb2FkZXInKS5oaWRlKCk7XG4gICAgfSwgMTAwMClcbiAgfSBlbHNlIHtcbiAgICAkKCcucHJlbG9hZGVyJykuaGlkZSgpO1xuICB9XG5cblxuICAvLyAkKCcjeW91ci1zZWxlY3QtaWQnKS5vbmUoJ3NlbGVjdDI6b3BlbicsIGZ1bmN0aW9uKGUpIHtcbiAgLy8gICAkKCdpbnB1dC5zZWxlY3QyLXNlYXJjaF9fZmllbGQnKS5wcm9wKCdwbGFjZWhvbGRlcicsICdlbnRlciB1c2VybmFtZSBvciBjaXR5Jyk7XG4gIC8vIH0pO1xufSkoKTtcbiIsIihmdW5jdGlvbigpIHtcbiAgY29uc3QgJGNoZWNrYm94ID0gJCgnLnRhYmxlLS1wYXltZW50IC5jaGVja2JveF9faW5wdXQnKTtcblxuICAkY2hlY2tib3guY2hhbmdlKGZ1bmN0aW9uKCkge1xuICAgIGNvbnN0ICRyb3cgPSAkKHRoaXMpLnBhcmVudHMoJ3RyJyk7XG4gICAgJHJvdy50b2dnbGVDbGFzcygnY2hlY2tlZCcpO1xuICB9KTtcbn0pKCk7XG4iXX0=
